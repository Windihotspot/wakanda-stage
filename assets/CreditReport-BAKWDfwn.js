import{r as f,a as J,o,c as n,b as t,t as e,d as Y,F as N,e as q,f as k,w as v,g as u,E as Lt,h as Tt,i as Yt,_ as Ot,u as Bt,j as Ft,k as It,l as Rt,T as Mt,M as Ht,m as Nt,n as Pt,p as b,q as Et,s as Ut,v as Wt}from"./index-BvZ6m4Mm.js";const Vt=t("h1",{class:"text-2xl font-bold"},"First Central",-1),zt={key:0},jt={class:"bg-white p-6 rounded space-y-4"},Gt=t("h2",{class:"text-md font-semibold mb-4"},"Personal details summary",-1),Jt={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-y-6 gap-x-8 text-sm text-gray-600"},Kt=t("p",{class:"mb-1"},"Last Name",-1),Qt={class:"font-bold text-gray-900"},Xt=t("p",{class:"mb-1"},"Gender",-1),Zt={class:"font-bold text-gray-900"},te=t("p",{class:"mb-1"},"Phone Number",-1),ee={class:"font-bold text-gray-900"},se=t("p",{class:"mb-1"},"Latest Residential Address",-1),oe={class:"font-bold text-gray-900 leading-snug"},ne=t("p",{class:"mb-1"},"First Name",-1),ae={class:"font-bold text-gray-900"},le=t("p",{class:"mb-1"},"Bank Verification Number",-1),ie={class:"font-bold text-gray-900"},re=t("p",{class:"mb-1"},"Work Telephone",-1),ce={class:"font-bold text-gray-900"},de=t("p",{class:"mb-1"},"Other Names",-1),ue={class:"font-bold text-gray-900"},_e=t("p",{class:"mb-1"},"Date of Birth",-1),me={class:"font-bold text-gray-900"},he=t("p",{class:"mb-1"},"Home Telephone",-1),ye={class:"font-bold text-gray-900"},be={key:1,class:"text-gray-500 text-sm italic"},ge={key:1},pe={key:0,class:"bg-white p-6 rounded space-y-4"},fe=t("h2",{class:"text-md font-semibold"},"Business Information",-1),ve={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-6 gap-x-8 text-sm text-gray-600"},xe=t("p",{class:"mb-1"},"Business Name",-1),Ae={class:"font-bold text-gray-900"},$e=t("p",{class:"mb-1"},"Date of Incorporation",-1),De={class:"font-bold text-gray-900"},Ne=t("p",{class:"mb-1"},"Business Address",-1),we={class:"font-bold text-gray-900"},ke={key:1,class:"bg-white p-6 rounded space-y-4 mt-4"},Ce=t("h2",{class:"text-md font-semibold"},"Director Information",-1),Se={key:0},qe={class:"min-w-full text-sm text-left"},Le=t("thead",{class:"text-xs font-semibold text-gray-700"},[t("tr",null,[t("th",{class:"p-2"},"First Name"),t("th",{class:"p-2"},"Other Names"),t("th",{class:"p-2"},"Surname"),t("th",{class:"p-2"},"Identification Number")])],-1),Te={class:"p-2 font-bold text-gray-900"},Ye={class:"p-2 font-bold text-gray-900"},Oe={class:"p-2 font-bold text-gray-900"},Be={class:"p-2 font-bold text-gray-900"},Fe={key:1,class:"text-sm text-gray-500 italic"},Ie={class:"bg-white p-6 rounded-md mt-4"},Re=t("h2",{class:"text-md font-semibold mb-6"},"Summary",-1),Me={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-6 gap-x-8 text-sm text-gray-600"},He=t("p",{class:"mb-1"},"Total active monthly installment",-1),Pe={class:"font-bold text-gray-900"},Ee=t("p",{class:"mb-1"},"Total no of credit facilities",-1),Ue={class:"font-bold text-gray-900"},We=t("p",{class:"mb-1"},"Total no of open facilities",-1),Ve={class:"font-bold text-gray-900"},ze=t("p",{class:"mb-1"},"Total arrear amount",-1),je={class:"font-bold text-gray-900"},Ge=t("p",{class:"mb-1"},"Total outstanding debts",-1),Je={class:"font-bold text-gray-900"},Ke=t("div",null,[t("p",{class:"mb-1"},"Total no of closed credit facilities"),t("p",{class:"font-bold text-gray-900"})],-1),Qe=t("p",{class:"mb-1"},"Total no of account in arrears",-1),Xe={class:"font-bold text-gray-900"},Ze=t("p",{class:"mb-1"},"Total no of delinquent facilities",-1),ts={class:"font-bold text-gray-900"},es=t("p",{class:"mb-1"},"Total no written off facilities",-1),ss={class:"font-bold text-gray-900"},os={class:"bg-white p-6 rounded"},ns=t("h2",{class:"text-md font-semibold mb-4"},"Loan Accounts",-1),as={key:0},ls=["colspan"],is={class:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm"},rs=t("strong",null,"Account number:",-1),cs=t("strong",null,"Loan Amount:",-1),ds=t("strong",null,"Current Balance:",-1),us=t("strong",null,"Amount Overdue:",-1),_s=t("strong",null,"Instalment Amount:",-1),ms=t("strong",null,"Loan Duration:",-1),hs=t("strong",null,"Repayment Frequency:",-1),ys=t("strong",null,"Date Account Opened:",-1),bs=t("strong",null,"Closed Date:",-1),gs=t("strong",null,"Performance Status:",-1),ps=t("strong",null,"Account Status:",-1),fs={key:1,class:"text-sm text-gray-500 italic"},vs={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},xs={class:"bg-white rounded p-4"},As=t("h2",{class:"font-semibold text-md mb-4"},"Enquiry History",-1),$s={key:0},Ds={class:"w-full text-sm text-left"},Ns=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"p-2"},"Lender's Name"),t("th",{class:"p-2"},"Date Requested")])],-1),ws={class:"p-2"},ks={class:"p-2"},Cs={key:1,class:"text-sm text-gray-500 italic"},Ss={class:"bg-white rounded p-4"},qs=t("h2",{class:"font-semibold text-md mb-4"},"Employment History",-1),Ls={key:0},Ts={key:1,class:"text-sm text-gray-500 italic"},Ys={class:"bg-white rounded p-4"},Os=t("h2",{class:"font-semibold text-md mb-4"},"Address History",-1),Bs={key:0},Fs={class:"overflow-auto max-h-72 border rounded"},Is={class:"min-w-full text-sm text-left"},Rs=t("thead",{class:"bg-gray-100 sticky top-0 z-10"},[t("tr",null,[t("th",{class:"p-3 font-medium text-gray-700"},"Address"),t("th",{class:"p-3 font-medium text-gray-700 w-40"},"Date Updated")])],-1),Ms={class:"divide-y divide-gray-200"},Hs={class:"p-3 text-gray-800"},Ps={class:"p-3 text-gray-800 w-40"},Es={key:1,class:"text-sm text-gray-500 italic"},Us=t("h1",{class:"text-2xl font-bold"},"Credit registry",-1),Ws={key:0,class:"bg-white p-6 rounded space-y-4"},Vs=t("h2",{class:"text-md font-semibold mb-4"},"Personal details summary",-1),zs=t("div",{class:"text-gray-500 text-sm italic"},"No personal data available.",-1),js=[Vs,zs],Gs={key:1},Js={key:0,class:"bg-white p-6 rounded space-y-4"},Ks=t("h2",{class:"text-md font-semibold"},"Business Information",-1),Qs=t("div",{class:"text-sm text-gray-500 italic"},"No business information available.",-1),Xs=[Ks,Qs],Zs={key:1,class:"bg-white p-6 rounded space-y-4 mt-4"},to=t("h2",{class:"text-md font-semibold"},"Director Information",-1),eo=t("div",{class:"text-sm text-gray-500 italic"},"No director information available.",-1),so=[to,eo],oo={class:"bg-white p-6 rounded-md mt-4"},no=t("h2",{class:"text-md font-semibold mb-6"},"Summary",-1),ao={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-6 gap-x-8 text-sm text-gray-600"},lo=t("p",{class:"mb-1"},"Total active monthly installment",-1),io={class:"font-bold text-gray-900"},ro=t("p",{class:"mb-1"},"Total no of credit facilities",-1),co={class:"font-bold text-gray-900"},uo=t("p",{class:"mb-1"},"Total no of open facilities",-1),_o={class:"font-bold text-gray-900"},mo=t("p",{class:"mb-1"},"Total arrear amount",-1),ho={class:"font-bold text-gray-900"},yo=t("p",{class:"mb-1"},"Total outstanding debts",-1),bo={class:"font-bold text-gray-900"},go=t("div",null,[t("p",{class:"mb-1"},"Total no of closed credit facilities"),t("p",{class:"font-bold text-gray-900"})],-1),po=t("p",{class:"mb-1"},"Total no of account in arrears",-1),fo={class:"font-bold text-gray-900"},vo=t("p",{class:"mb-1"},"Total no of delinquent facilities",-1),xo={class:"font-bold text-gray-900"},Ao=t("p",{class:"mb-1"},"Total no written off facilities",-1),$o={class:"font-bold text-gray-900"},Do={class:"bg-white p-6 rounded"},No=t("h2",{class:"text-md font-semibold mb-4"},"Performing Accounts",-1),wo={key:0},ko=["colspan"],Co={class:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm"},So=t("strong",null,"Account number:",-1),qo=t("strong",null,"Loan Amount:",-1),Lo=t("strong",null,"Current Balance:",-1),To=t("strong",null,"Amount Overdue:",-1),Yo=t("strong",null,"Instalment Amount:",-1),Oo=t("strong",null,"Loan Duration:",-1),Bo=t("strong",null,"Repayment Frequency:",-1),Fo=t("strong",null,"Date Account Opened:",-1),Io=t("strong",null,"Closed Date:",-1),Ro=t("strong",null,"Performance Status:",-1),Mo=t("strong",null,"Account Status:",-1),Ho={key:1,class:"text-sm text-gray-500 italic"},Po={class:"bg-white p-6 rounded-md shadow"},Eo=t("h2",{class:"text-md font-semibold mb-4"},"Deliquents Accounts",-1),Uo={class:"min-w-full text-left text-sm"},Wo=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"p-3 border-b"},"Lender's Name"),t("th",{class:"p-3 border-b"},"Disbursement Date"),t("th",{class:"p-3 border-b"},"Loan Amount"),t("th",{class:"p-3 border-b"},"Loan Balance"),t("th",{class:"p-3 border-b"},"Action")])],-1),Vo={key:0},zo=t("td",{colspan:"5",class:"p-4 text-center text-gray-500"}," No delinquents accounts available. ",-1),jo=[zo],Go={class:"p-3 border-b"},Jo={class:"p-3 border-b"},Ko={class:"p-3 border-b"},Qo={class:"p-3 border-b"},Xo=t("td",{class:"p-3 border-b"},[t("button",{class:"bg-red-600 text-white text-xs px-3 py-1 rounded hover:bg-red-700"}," View ")],-1),Zo={class:"bg-white p-6 rounded-md shadow"},tn=t("h2",{class:"text-md font-semibold mb-4"},"Closed Accounts",-1),en={class:"min-w-full text-left text-sm"},sn=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"p-3 border-b"},"Lender's Name"),t("th",{class:"p-3 border-b"},"Disbursement Date"),t("th",{class:"p-3 border-b"},"Loan Amount"),t("th",{class:"p-3 border-b"},"Loan Balance"),t("th",{class:"p-3 border-b"},"Action")])],-1),on={key:0},nn=t("td",{colspan:"5",class:"p-4 text-center text-gray-500"}," No closed accounts available. ",-1),an=[nn],ln={class:"p-3 border-b"},rn={class:"p-3 border-b"},cn={class:"p-3 border-b"},dn={class:"p-3 border-b"},un=t("td",{class:"p-3 border-b"},[t("button",{class:"bg-red-600 text-white text-xs px-3 py-1 rounded hover:bg-red-700"}," View ")],-1),_n={class:"bg-white p-6 rounded mb-6"},mn=t("h2",{class:"text-md font-semibold mb-4"},"Written Off Accounts",-1),hn={key:0},yn={class:"min-w-full text-left"},bn=t("thead",null,[t("tr",{class:"bg-gray-100 text-sm"},[t("th",{class:"p-2"},"Lender's Name"),t("th",{class:"p-2"},"Disbursement Date"),t("th",{class:"p-2"},"Loan Amount"),t("th",{class:"p-2"},"Loan Balance"),t("th",{class:"p-2"},"Action")])],-1),gn={class:"p-2"},pn={class:"p-2"},fn={class:"p-2"},vn={class:"p-2"},xn=t("td",{class:"p-2"},[t("button",{class:"bg-blue-600 text-white text-xs px-3 py-1 rounded hover:bg-blue-700"}," View ")],-1),An={key:1,class:"text-sm text-gray-500 italic"},$n={class:"bg-white p-6 rounded mb-6"},Dn=t("h2",{class:"text-md font-semibold mb-4"},"Unknown Accounts Status",-1),Nn={key:0},wn={class:"min-w-full text-left"},kn=t("thead",null,[t("tr",{class:"bg-gray-100 text-sm"},[t("th",{class:"p-2"},"Lender's Name"),t("th",{class:"p-2"},"Disbursement Date"),t("th",{class:"p-2"},"Loan Amount"),t("th",{class:"p-2"},"Loan Balance"),t("th",{class:"p-2"},"Action")])],-1),Cn={class:"p-2"},Sn={class:"p-2"},qn={class:"p-2"},Ln={class:"p-2"},Tn=t("td",{class:"p-2"},[t("button",{class:"bg-blue-600 text-white text-xs px-3 py-1 rounded hover:bg-blue-700"}," View ")],-1),Yn={key:1,class:"text-sm text-gray-500 italic"},On={class:"bg-white p-6 rounded mb-6"},Bn=t("h2",{class:"text-md font-semibold mb-4"},"Inquiry History",-1),Fn={key:0},In={class:"min-w-full text-left"},Rn=t("thead",null,[t("tr",{class:"bg-gray-100 text-sm"},[t("th",{class:"p-2"},"Subscriber Name"),t("th",{class:"p-2"},"Inquiry Date"),t("th",{class:"p-2"},"Contact Phone"),t("th",{class:"p-2"},"Inquiry Reason")])],-1),Mn={class:"p-2"},Hn={class:"p-2"},Pn={class:"p-2"},En={class:"p-2"},Un={key:1,class:"text-sm text-gray-500 italic"},Wn={__name:"CreditReportExport",props:{fcbcCreditAgreementSummaryCount:Number,fcbcHighestDelinquencyRatingCount:Number,idType:String,businessData:Object,directors:Array,personal:Object,summary:Object,creditAgreementSummary:Array,enquiryHistory:Array,employmentHistory:Array,addressHistory:Array,loanAccounts:Array,delinquentAccounts:Array,closedAccounts:Array,derogatoryAccounts:Array,writtenOffAccounts:Array,unknownAccounts:Array,inquiryHistory:Array},setup(c,{expose:mt}){const P=c,E=f([]),j=$=>{E.value=E.value.includes($)?[]:[$]},lt=$=>E.value.includes($),w=[{title:"Lender's Name",key:"lender"},{title:"Disbursement Date",key:"date"},{title:"Loan Amount",value:"amount"},{title:"Loan Balance",key:"balance"},{title:"Status",key:"status"},{title:"Action",key:"action",sortable:!1}],C=[{title:"Employer Name",key:"employerName"},{title:"Date Updated",key:"date"}];function p($){if(!$||$.trim()==="")return"grey";const L=$.toLowerCase().trim();return L==="closed"?"green":L==="open"?"red":L==="paid up"?"blue":"grey"}const S=f(null);return mt({exportPDF:()=>{var O,i;const L=new Date().toISOString().slice(0,16).replace("T","_").replace(":","-");let T="";if(P.idType==="business"&&P.businessData)T=`${P.businessData.BusinessName||"Business"}_${L}.pdf`;else{const m=((O=P.personal)==null?void 0:O.FirstName)||"FirstName",B=((i=P.personal)==null?void 0:i.Surname)||"LastName";T=`${m}_${B}_${L}.pdf`}const I=Lt({message:"Downloading report...",type:"warning",duration:0,showClose:!0});setTimeout(()=>{Tt().set({margin:.5,filename:T,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}}).from(S.value).save().then(()=>{I.close(),Yt({title:"Download Complete",message:"Report has been downloaded successfully!",type:"success",duration:3e3})})},500)}}),($,L)=>{const T=J("v-chip"),I=J("v-btn"),O=J("v-data-table");return o(),n("div",{ref_key:"pdfContent",ref:S,class:"p-6 space-y-6 bg-white text-gray-800"},[Vt,t("section",null,[c.idType!=="business"?(o(),n("div",zt,[t("div",jt,[Gt,c.personal&&Object.keys(c.personal).length>0?(o(),n("div",Jt,[t("div",null,[Kt,t("p",Qt,e(c.personal.Surname),1)]),t("div",null,[Xt,t("p",Zt,e(c.personal.Gender),1)]),t("div",null,[te,t("p",ee,e(c.personal.CellularNo),1)]),t("div",null,[se,t("p",oe,e(c.personal.ResidentialAddress1),1)]),t("div",null,[ne,t("p",ae,e(c.personal.FirstName),1)]),t("div",null,[le,t("p",ie,e(c.personal.BankVerificationNo),1)]),t("div",null,[re,t("p",ce,e(c.personal.WorkTelephoneNo),1)]),t("div",null,[de,t("p",ue,e(c.personal.OtherNames),1)]),t("div",null,[_e,t("p",me,e(c.personal.BirthDate),1)]),t("div",null,[he,t("p",ye,e(c.personal.HomeTelephoneNo),1)])])):(o(),n("div",be,"No personal data available."))])])):(o(),n("div",ge,[c.idType==="business"?(o(),n("div",pe,[fe,t("div",ve,[t("div",null,[xe,t("p",Ae,e(c.businessData.BusinessName),1)]),t("div",null,[$e,t("p",De,e(c.businessData.DateOfIncorporation),1)]),t("div",null,[Ne,t("p",we,e(c.businessData.CommercialAddress1)+", "+e(c.businessData.CommercialAddress2)+", "+e(c.businessData.CommercialAddress4),1)])])])):Y("",!0),c.idType==="business"?(o(),n("div",ke,[Ce,c.directors.length>0?(o(),n("div",Se,[t("table",qe,[Le,t("tbody",null,[(o(!0),n(N,null,q(c.directors,(i,m)=>(o(),n("tr",{key:m,class:""},[t("td",Te,e(i.firstName),1),t("td",Ye,e(i.othernames),1),t("td",Oe,e(i.surname),1),t("td",Be,e(i.Identificationnumber),1)]))),128))])])])):(o(),n("div",Fe,"No director information available."))])):Y("",!0)])),t("div",Ie,[Re,t("div",Me,[t("div",null,[He,t("p",Pe,e(c.summary.TotalMonthlyInstalment),1)]),t("div",null,[Ee,t("p",Ue,e(c.fcbcCreditAgreementSummaryCount),1)]),t("div",null,[We,t("p",Ve,e(c.summary.TotalOpenFacilities),1)]),t("div",null,[ze,t("p",je,e(c.summary.Amountarrear),1)]),t("div",null,[Ge,t("p",Je,e(c.summary.TotalOutstandingdebt),1)]),Ke,t("div",null,[Qe,t("p",Xe,e(c.summary.TotalAccountarrear),1)]),t("div",null,[Ze,t("p",ts,e(c.fcbcHighestDelinquencyRatingCount),1)]),t("div",null,[es,t("p",ss,e(c.summary.TotalWrittenOffFacilities),1)])])]),t("div",os,[ns,c.creditAgreementSummary&&c.creditAgreementSummary.length>0?(o(),n("div",as,[k(O,{headers:w,items:c.creditAgreementSummary,"item-value":"uid",expanded:E.value,class:"elevation-1","fixed-header":"",height:"400","hide-default-footer":""},{"item.status":v(({item:i})=>[k(T,{color:p(i.status),variant:"tonal",size:"small",class:"text-white"},{default:v(()=>{var m;return[u(e(((m=i.status)==null?void 0:m.trim())||"Unknown"),1)]}),_:2},1032,["color"])]),"item.action":v(({item:i})=>[k(I,{size:"small",color:"primary",onClick:m=>j(i.uid)},{default:v(()=>[u(e(lt(i.uid)?"Hide":"View"),1)]),_:2},1032,["onClick"])]),"expanded-row":v(({item:i})=>[t("td",{colspan:w.length,class:"px-4 py-2 bg-gray-50 mb-4"},[t("div",is,[t("p",null,[rs,u(" "+e(i.accountNo),1)]),t("p",null,[cs,u(" "+e(i.amount),1)]),t("p",null,[ds,u(" "+e(i.balance),1)]),t("p",null,[us,u(" "+e(i.overdue),1)]),t("p",null,[_s,u(" "+e(i.instalment),1)]),t("p",null,[ms,u(" "+e(i.loanDuration),1)]),t("p",null,[hs,u(" "+e(i.repaymentFrequency),1)]),t("p",null,[ys,u(" "+e(i.date),1)]),t("p",null,[bs,u(" "+e(i.closedDate),1)]),t("p",null,[gs,u(" "+e(i.performanceStatus),1)]),t("p",null,[ps,u(" "+e(i.status),1)])])],8,ls)]),_:1},8,["items","expanded"])])):(o(),n("div",fs,"No loan accounts available."))]),t("div",vs,[t("div",xs,[As,c.enquiryHistory&&c.enquiryHistory.length>0?(o(),n("div",$s,[t("table",Ds,[Ns,t("tbody",null,[(o(!0),n(N,null,q(c.enquiryHistory,(i,m)=>(o(),n("tr",{key:m,class:"border-b"},[t("td",ws,e(i.lender),1),t("td",ks,e(i.date),1)]))),128))])])])):(o(),n("div",Cs,"No enquiry history available."))]),t("div",Ss,[qs,c.employmentHistory&&c.employmentHistory.length>0?(o(),n("div",Ls,[k(O,{headers:C,items:c.employmentHistory,class:"elevation-1","fixed-header":"",height:"200"},{"item.date":v(({item:i})=>[u(e(i.date),1)]),_:1},8,["items"])])):(o(),n("div",Ts,"No employment history available."))])]),t("div",Ys,[Os,c.addressHistory&&c.addressHistory.length>0?(o(),n("div",Bs,[t("div",Fs,[t("table",Is,[Rs,t("tbody",Ms,[(o(!0),n(N,null,q(c.addressHistory,(i,m)=>(o(),n("tr",{key:m},[t("td",Hs,e(i.address),1),t("td",Ps,e(i.date),1)]))),128))])])])])):(o(),n("div",Es,"No address history available."))])]),Us,t("section",null,[c.idType!=="business"?(o(),n("div",Ws,js)):(o(),n("div",Gs,[c.idType==="business"?(o(),n("div",Js,Xs)):Y("",!0),c.idType==="business"?(o(),n("div",Zs,so)):Y("",!0)])),t("div",oo,[no,t("div",ao,[t("div",null,[lo,t("p",io,e(c.summary.TotalMonthlyInstalment),1)]),t("div",null,[ro,t("p",co,e(c.fcbcCreditAgreementSummaryCount),1)]),t("div",null,[uo,t("p",_o,e(c.summary.TotalOpenFacilities),1)]),t("div",null,[mo,t("p",ho,e(c.summary.Amountarrear),1)]),t("div",null,[yo,t("p",bo,e(c.summary.TotalOutstandingdebt),1)]),go,t("div",null,[po,t("p",fo,e(c.summary.TotalAccountarrear),1)]),t("div",null,[vo,t("p",xo,e(c.fcbcHighestDelinquencyRatingCount),1)]),t("div",null,[Ao,t("p",$o,e(c.summary.TotalWrittenOffFacilities),1)])])]),t("div",Do,[No,c.loanAccounts&&c.loanAccounts.length>0?(o(),n("div",wo,[k(O,{headers:w,items:c.loanAccounts,"item-value":"uid",expanded:E.value,"show-expand":"","fixed-header":"",height:"400","hide-default-footer":"",class:"elevation-1"},{"item.status":v(({item:i})=>[k(T,{color:i.status==="Closed"?"green":"red",variant:"tonal",size:"small",class:"text-white"},{default:v(()=>[u(e(i.status),1)]),_:2},1032,["color"])]),"item.action":v(({item:i})=>[k(I,{size:"small",color:"primary",onClick:m=>j(i.uid)},{default:v(()=>[u(e(lt(i.uid)?"Hide":"View"),1)]),_:2},1032,["onClick"])]),"expanded-row":v(({item:i})=>{var m,B;return[t("td",{colspan:w.length,class:"p-4 bg-gray-50"},[t("div",Co,[t("p",null,[So,u(" "+e(i.accountNo),1)]),t("p",null,[qo,u(" "+e(i.amount.toLocaleString()),1)]),t("p",null,[Lo,u(" "+e(i.balance.toLocaleString()),1)]),t("p",null,[To,u(" "+e(((m=i.overdue)==null?void 0:m.toLocaleString())||0),1)]),t("p",null,[Yo,u(" â‚¦"+e(((B=i.instalment)==null?void 0:B.toLocaleString())||0),1)]),t("p",null,[Oo,u(" "+e(i.duration)+" months",1)]),t("p",null,[Bo,u(" "+e(i.repaymentFrequency),1)]),t("p",null,[Fo,u(" "+e(i.date),1)]),t("p",null,[Io,u(" "+e(i.closedDate),1)]),t("p",null,[Ro,u(" "+e(i.performanceStatus),1)]),t("p",null,[Mo,u(" "+e(i.status),1)])])],8,ko)]}),_:1},8,["items","expanded"])])):(o(),n("div",Ho,"No loan accounts available."))]),t("div",Po,[Eo,t("table",Uo,[Wo,t("tbody",null,[c.delinquentAccounts.length===0?(o(),n("tr",Vo,jo)):Y("",!0),(o(!0),n(N,null,q(c.delinquentAccounts,(i,m)=>(o(),n("tr",{key:"delinquents-"+m,class:"hover:bg-gray-50"},[t("td",Go,e(i.lender),1),t("td",Jo,e(i.date),1),t("td",Ko,"â‚¦"+e(i.amount.toLocaleString()),1),t("td",Qo,"â‚¦"+e(i.balance.toLocaleString()),1),Xo]))),128))])])]),t("div",Zo,[tn,t("table",en,[sn,t("tbody",null,[c.closedAccounts.length===0?(o(),n("tr",on,an)):Y("",!0),(o(!0),n(N,null,q(c.closedAccounts,(i,m)=>(o(),n("tr",{key:"delinquents-"+m,class:"hover:bg-gray-50"},[t("td",ln,e(i.lender),1),t("td",rn,e(i.date),1),t("td",cn,"â‚¦"+e(i.amount.toLocaleString()),1),t("td",dn,"â‚¦"+e(i.balance.toLocaleString()),1),un]))),128))])])]),t("div",_n,[mn,c.writtenOffAccounts&&c.writtenOffAccounts.length>0?(o(),n("div",hn,[t("table",yn,[bn,t("tbody",null,[(o(!0),n(N,null,q(c.writtenOffAccounts,(i,m)=>(o(),n("tr",{key:m,class:"text-sm"},[t("td",gn,e(i.lender),1),t("td",pn,e(i.date),1),t("td",fn,"â‚¦"+e(i.amount.toLocaleString()),1),t("td",vn,"â‚¦"+e(i.balance.toLocaleString()),1),xn]))),128))])])])):(o(),n("div",An,"No written-off accounts available."))]),t("div",$n,[Dn,c.unknownAccounts&&c.unknownAccounts.length>0?(o(),n("div",Nn,[t("table",wn,[kn,t("tbody",null,[(o(!0),n(N,null,q(c.unknownAccounts,(i,m)=>(o(),n("tr",{key:m,class:"text-sm"},[t("td",Cn,e(i.lender),1),t("td",Sn,e(i.date),1),t("td",qn,"â‚¦"+e(i.amount.toLocaleString()),1),t("td",Ln,"â‚¦"+e(i.balance.toLocaleString()),1),Tn]))),128))])])])):(o(),n("div",Yn,"No unknown accounts available."))]),t("div",On,[Bn,c.inquiryHistory&&c.inquiryHistory.length>0?(o(),n("div",Fn,[t("table",In,[Rn,t("tbody",null,[(o(!0),n(N,null,q(c.inquiryHistory,(i,m)=>(o(),n("tr",{key:m,class:"text-sm hover:bg-gray-50 transition-colors"},[t("td",Mn,e(i.subscriber),1),t("td",Hn,e(i.date),1),t("td",Pn,e(i.phone),1),t("td",En,e(i.reason),1)]))),128))])])])):(o(),n("div",Un,"No inquiries available."))])])],512)}}},a=c=>(Ut("data-v-096ab4ff"),c=c(),Wt(),c),Vn={class:"flex justify-between items-center p-2"},zn={class:"flex space-x-4"},jn=["onClick"],Gn=a(()=>t("i",{class:"fas fa-download mr-2"},null,-1)),Jn={class:"mt-4 p-2 mx-auto space-y-6"},Kn={key:0,class:"flex flex-col items-center justify-center min-h-[200px]"},Qn=a(()=>t("span",{class:"mt-2 text-gray-600 text-sm"},"Loading credit report",-1)),Xn={key:0},Zn={class:"bg-white p-6 rounded space-y-4"},ta=a(()=>t("h2",{class:"text-md font-semibold mb-4"},"Personal details summary",-1)),ea={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-y-6 gap-x-8 text-sm text-gray-600"},sa=a(()=>t("p",{class:"mb-1"},"Last Name",-1)),oa={class:"font-bold text-gray-900"},na=a(()=>t("p",{class:"mb-1"},"Gender",-1)),aa={class:"font-bold text-gray-900"},la=a(()=>t("p",{class:"mb-1"},"Phone Number",-1)),ia={class:"font-bold text-gray-900"},ra=a(()=>t("p",{class:"mb-1"},"Latest Residential Address",-1)),ca={class:"font-bold text-gray-900 leading-snug"},da=a(()=>t("p",{class:"mb-1"},"First Name",-1)),ua={class:"font-bold text-gray-900"},_a=a(()=>t("p",{class:"mb-1"},"Bank Verification Number",-1)),ma={class:"font-bold text-gray-900"},ha=a(()=>t("p",{class:"mb-1"},"Work Telephone",-1)),ya={class:"font-bold text-gray-900"},ba=a(()=>t("p",{class:"mb-1"},"Other Names",-1)),ga={class:"font-bold text-gray-900"},pa=a(()=>t("p",{class:"mb-1"},"Date of Birth",-1)),fa={class:"font-bold text-gray-900"},va=a(()=>t("p",{class:"mb-1"},"Home Telephone",-1)),xa={class:"font-bold text-gray-900"},Aa={key:1,class:"text-gray-500 text-sm italic"},$a={key:1},Da={key:0,class:"bg-white p-6 rounded space-y-4"},Na=a(()=>t("h2",{class:"text-md font-semibold"},"Business Information",-1)),wa={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-6 gap-x-8 text-sm text-gray-600"},ka=a(()=>t("p",{class:"mb-1"},"Business Name",-1)),Ca={class:"font-bold text-gray-900"},Sa=a(()=>t("p",{class:"mb-1"},"Date of Incorporation",-1)),qa={class:"font-bold text-gray-900"},La=a(()=>t("p",{class:"mb-1"},"Business Address",-1)),Ta={class:"font-bold text-gray-900"},Ya={key:1,class:"bg-white p-6 rounded space-y-4 mt-4"},Oa=a(()=>t("h2",{class:"text-md font-semibold"},"Director Information",-1)),Ba={key:0},Fa={class:"min-w-full text-sm text-left"},Ia=a(()=>t("thead",{class:"text-xs font-semibold text-gray-700"},[t("tr",null,[t("th",{class:""},"First Name"),t("th",{class:""},"Other Names"),t("th",{class:""},"Surname"),t("th",{class:""},"Identification Number")])],-1)),Ra={class:"pt-4 font-bold text-gray-900"},Ma={class:"font-bold text-gray-900"},Ha={class:"font-bold text-gray-900"},Pa={class:"font-bold text-gray-900"},Ea={key:1,class:"text-sm text-gray-500 italic"},Ua={class:"bg-white p-6 rounded-md mt-4"},Wa=a(()=>t("h2",{class:"text-md font-semibold mb-6"},"Summary",-1)),Va={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-6 gap-x-8 text-sm text-gray-600"},za=a(()=>t("p",{class:"mb-1"},"Total active monthly installment",-1)),ja={class:"font-bold text-gray-900"},Ga=a(()=>t("p",{class:"mb-1"},"Total no of credit facilities",-1)),Ja={class:"font-bold text-gray-900"},Ka=a(()=>t("p",{class:"mb-1"},"Total no of open facilities",-1)),Qa={class:"font-bold text-gray-900"},Xa=a(()=>t("p",{class:"mb-1"},"Total arrear amount",-1)),Za={class:"font-bold text-gray-900"},tl=a(()=>t("p",{class:"mb-1"},"Total outstanding debts",-1)),el={class:"font-bold text-gray-900"},sl=a(()=>t("p",{class:"mb-1"},"Total no of closed credit facilities",-1)),ol={class:"font-bold text-gray-900"},nl=a(()=>t("p",{class:"mb-1"},"Total no of account in arrears",-1)),al={class:"font-bold text-gray-900"},ll=a(()=>t("p",{class:"mb-1"},"Total no of delinquent facilities",-1)),il={class:"font-bold text-gray-900"},rl=a(()=>t("p",{class:"mb-1"},"Total no written off facilities",-1)),cl={class:"font-bold text-gray-900"},dl={class:"bg-white p-6 rounded"},ul=a(()=>t("h2",{class:"text-md font-semibold mb-4"},"Loan Accounts",-1)),_l={key:0},ml=["colspan"],hl={class:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm"},yl=a(()=>t("strong",null,"Account number:",-1)),bl=a(()=>t("strong",null,"Loan Amount:",-1)),gl=a(()=>t("strong",null,"Current Balance:",-1)),pl=a(()=>t("strong",null,"Amount Overdue:",-1)),fl=a(()=>t("strong",null,"Instalment Amount:",-1)),vl=a(()=>t("strong",null,"Loan Duration:",-1)),xl=a(()=>t("strong",null,"Repayment Frequency:",-1)),Al=a(()=>t("strong",null,"Date Account Opened:",-1)),$l=a(()=>t("strong",null,"Closed Date:",-1)),Dl=a(()=>t("strong",null,"Performance Status:",-1)),Nl=a(()=>t("strong",null,"Account Status:",-1)),wl={key:1,class:"text-sm text-gray-500 italic"},kl={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Cl={class:"bg-white rounded p-4"},Sl=a(()=>t("h2",{class:"font-semibold text-md mb-4"},"Enquiry History",-1)),ql={key:0},Ll={class:"w-full text-sm text-left"},Tl=a(()=>t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"p-2"},"Lender's Name"),t("th",{class:"p-2"},"Date Requested")])],-1)),Yl={class:"p-2"},Ol={class:"p-2"},Bl={key:1,class:"text-sm text-gray-500 italic"},Fl={class:"bg-white rounded p-4"},Il=a(()=>t("h2",{class:"font-semibold text-md mb-4"},"Employment History",-1)),Rl={key:0},Ml={key:1,class:"text-sm text-gray-500 italic"},Hl={class:"bg-white rounded p-4"},Pl=a(()=>t("h2",{class:"font-semibold text-md mb-4"},"Address History",-1)),El={key:0},Ul={class:"overflow-auto max-h-72 border rounded"},Wl={class:"min-w-full text-sm text-left"},Vl=a(()=>t("thead",{class:"bg-gray-100 sticky top-0 z-10"},[t("tr",null,[t("th",{class:"p-3 font-medium text-gray-700"},"Address"),t("th",{class:"p-3 font-medium text-gray-700 w-40"},"Date Updated")])],-1)),zl={class:"divide-y divide-gray-200"},jl={class:"p-3 text-gray-800"},Gl={class:"p-3 text-gray-800 w-40"},Jl={key:1,class:"text-sm text-gray-500 italic"},Kl={key:0,class:"bg-white p-6 rounded space-y-4"},Ql=a(()=>t("h2",{class:"text-md font-semibold mb-4"},"Personal details summary",-1)),Xl={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-y-6 gap-x-8 text-sm text-gray-600"},Zl=a(()=>t("p",{class:"mb-1"},"Last Name",-1)),ti={class:"font-bold text-gray-900"},ei=a(()=>t("p",{class:"mb-1"},"Gender",-1)),si={class:"font-bold text-gray-900"},oi=a(()=>t("p",{class:"mb-1"},"Phone Number",-1)),ni={class:"font-bold text-gray-900"},ai=a(()=>t("p",{class:"mb-1"},"Latest Residential Address",-1)),li={class:"font-bold text-gray-900 leading-snug"},ii=a(()=>t("p",{class:"mb-1"},"First Name",-1)),ri={class:"font-bold text-gray-900"},ci=a(()=>t("p",{class:"mb-1"},"Bank Verification Number",-1)),di={class:"font-bold text-gray-900"},ui=a(()=>t("p",{class:"mb-1"},"Work Telephone",-1)),_i={class:"font-bold text-gray-900"},mi=a(()=>t("p",{class:"mb-1"},"Other Names",-1)),hi={class:"font-bold text-gray-900"},yi=a(()=>t("p",{class:"mb-1"},"Date of Birth",-1)),bi={class:"font-bold text-gray-900"},gi=a(()=>t("p",{class:"mb-1"},"Home Telephone",-1)),pi={class:"font-bold text-gray-900"},fi={key:1,class:"text-gray-500 text-sm italic"},vi={key:1},xi={key:0,class:"bg-white p-6 rounded space-y-4"},Ai=a(()=>t("h2",{class:"text-md font-semibold"},"Business Information",-1)),$i=a(()=>t("div",{class:"text-sm text-gray-500 italic"},"No business information available.",-1)),Di=[Ai,$i],Ni={key:1,class:"bg-white p-6 rounded space-y-4 mt-4"},wi=a(()=>t("h2",{class:"text-md font-semibold"},"Director Information",-1)),ki=a(()=>t("div",{class:"text-sm text-gray-500 italic"},"No director information available.",-1)),Ci=[wi,ki],Si={class:"bg-white p-6 rounded-md mt-4"},qi=a(()=>t("h2",{class:"text-md font-semibold mb-6"},"Summary",-1)),Li={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-6 gap-x-8 text-sm text-gray-600"},Ti=a(()=>t("p",{class:"mb-1"},"Total active monthly installment",-1)),Yi={class:"font-bold text-gray-900"},Oi=a(()=>t("p",{class:"mb-1"},"Total no of credit facilities",-1)),Bi={class:"font-bold text-gray-900"},Fi=a(()=>t("p",{class:"mb-1"},"Total no of open facilities",-1)),Ii={class:"font-bold text-gray-900"},Ri=a(()=>t("p",{class:"mb-1"},"Total arrear amount",-1)),Mi={class:"font-bold text-gray-900"},Hi=a(()=>t("p",{class:"mb-1"},"Total outstanding debts",-1)),Pi={class:"font-bold text-gray-900"},Ei=a(()=>t("div",null,[t("p",{class:"mb-1"},"Total no of closed credit facilities"),t("p",{class:"font-bold text-gray-900"})],-1)),Ui=a(()=>t("p",{class:"mb-1"},"Total no of account in arrears",-1)),Wi={class:"font-bold text-gray-900"},Vi=a(()=>t("p",{class:"mb-1"},"Total no of delinquent facilities",-1)),zi={class:"font-bold text-gray-900"},ji=a(()=>t("p",{class:"mb-1"},"Total no written off facilities",-1)),Gi={class:"font-bold text-gray-900"},Ji={class:"bg-white p-6 rounded"},Ki=a(()=>t("h2",{class:"text-md font-semibold mb-4"},"Performing Accounts",-1)),Qi={key:0},Xi=["colspan"],Zi={class:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm"},tr=a(()=>t("strong",null,"Account number:",-1)),er=a(()=>t("strong",null,"Loan Amount:",-1)),sr=a(()=>t("strong",null,"Current Balance:",-1)),or=a(()=>t("strong",null,"Amount Overdue:",-1)),nr=a(()=>t("strong",null,"Instalment Amount:",-1)),ar=a(()=>t("strong",null,"Loan Duration:",-1)),lr=a(()=>t("strong",null,"Repayment Frequency:",-1)),ir=a(()=>t("strong",null,"Date Account Opened:",-1)),rr=a(()=>t("strong",null,"Closed Date:",-1)),cr=a(()=>t("strong",null,"Performance Status:",-1)),dr=a(()=>t("strong",null,"Account Status:",-1)),ur={key:1,class:"text-sm text-gray-500 italic"},_r={class:"bg-white p-6 rounded-md shadow"},mr=a(()=>t("h2",{class:"text-md font-semibold mb-4"},"Deliquents Accounts",-1)),hr={class:"min-w-full text-left text-sm"},yr=a(()=>t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"p-3 border-b"},"Lender's Name"),t("th",{class:"p-3 border-b"},"Disbursement Date"),t("th",{class:"p-3 border-b"},"Loan Amount"),t("th",{class:"p-3 border-b"},"Loan Balance"),t("th",{class:"p-3 border-b"},"Action")])],-1)),br={key:0},gr=a(()=>t("td",{colspan:"5",class:"p-4 text-center text-gray-500"}," No delinquents accounts available. ",-1)),pr=[gr],fr={class:"p-3 border-b"},vr={class:"p-3 border-b"},xr={class:"p-3 border-b"},Ar={class:"p-3 border-b"},$r=a(()=>t("td",{class:"p-3 border-b"},[t("button",{class:"bg-red-600 text-white text-xs px-3 py-1 rounded hover:bg-red-700"}," View ")],-1)),Dr={class:"bg-white p-6 rounded-md shadow"},Nr=a(()=>t("h2",{class:"text-md font-semibold mb-4"},"Closed Accounts",-1)),wr={class:"min-w-full text-left text-sm"},kr=a(()=>t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"p-3 border-b"},"Lender's Name"),t("th",{class:"p-3 border-b"},"Disbursement Date"),t("th",{class:"p-3 border-b"},"Loan Amount"),t("th",{class:"p-3 border-b"},"Loan Balance"),t("th",{class:"p-3 border-b"},"Action")])],-1)),Cr={key:0},Sr=a(()=>t("td",{colspan:"5",class:"p-4 text-center text-gray-500"}," No closed accounts available. ",-1)),qr=[Sr],Lr={class:"p-3 border-b"},Tr={class:"p-3 border-b"},Yr={class:"p-3 border-b"},Or={class:"p-3 border-b"},Br=a(()=>t("td",{class:"p-3 border-b"},[t("button",{class:"bg-red-600 text-white text-xs px-3 py-1 rounded hover:bg-red-700"}," View ")],-1)),Fr={class:"bg-white p-6 rounded mb-6"},Ir=a(()=>t("h2",{class:"text-md font-semibold mb-4"},"Written Off Accounts",-1)),Rr={key:0},Mr={class:"min-w-full text-left"},Hr=a(()=>t("thead",null,[t("tr",{class:"bg-gray-100 text-sm"},[t("th",{class:"p-2"},"Lender's Name"),t("th",{class:"p-2"},"Disbursement Date"),t("th",{class:"p-2"},"Loan Amount"),t("th",{class:"p-2"},"Loan Balance"),t("th",{class:"p-2"},"Action")])],-1)),Pr={class:"p-2"},Er={class:"p-2"},Ur={class:"p-2"},Wr={class:"p-2"},Vr=a(()=>t("td",{class:"p-2"},[t("button",{class:"bg-blue-600 text-white text-xs px-3 py-1 rounded hover:bg-blue-700"}," View ")],-1)),zr={key:1,class:"text-sm text-gray-500 italic"},jr={class:"bg-white p-6 rounded mb-6"},Gr=a(()=>t("h2",{class:"text-md font-semibold mb-4"},"Unknown Accounts Status",-1)),Jr={key:0},Kr={class:"min-w-full text-left"},Qr=a(()=>t("thead",null,[t("tr",{class:"bg-gray-100 text-sm"},[t("th",{class:"p-2"},"Lender's Name"),t("th",{class:"p-2"},"Disbursement Date"),t("th",{class:"p-2"},"Loan Amount"),t("th",{class:"p-2"},"Loan Balance"),t("th",{class:"p-2"},"Action")])],-1)),Xr={class:"p-2"},Zr={class:"p-2"},tc={class:"p-2"},ec={class:"p-2"},sc=a(()=>t("td",{class:"p-2"},[t("button",{class:"bg-blue-600 text-white text-xs px-3 py-1 rounded hover:bg-blue-700"}," View ")],-1)),oc={key:1,class:"text-sm text-gray-500 italic"},nc={class:"bg-white p-6 rounded mb-6"},ac=a(()=>t("h2",{class:"text-md font-semibold mb-4"},"Inquiry History",-1)),lc={key:0},ic={class:"min-w-full text-left"},rc=a(()=>t("thead",null,[t("tr",{class:"bg-gray-100 text-sm"},[t("th",{class:"p-2"},"Subscriber Name"),t("th",{class:"p-2"},"Inquiry Date"),t("th",{class:"p-2"},"Contact Phone"),t("th",{class:"p-2"},"Inquiry Reason")])],-1)),cc={class:"p-2"},dc={class:"p-2"},uc={class:"p-2"},_c={class:"p-2"},mc={key:1,class:"text-sm text-gray-500 italic"},hc={class:"hidden"},yc={__name:"CreditReport",setup(c){const mt=Bt(),P=f("first_central"),E=f(!1),j=Ft(),lt=[{key:"first_central",label:"First Central"},{key:"credit_registry",label:"Credit Registry"}],w=f(""),C=f({}),p=f({}),S=f([]),U=f([]),$=f([]),L=f([]),T=f([]),I=f([]),O=f([]),i=f([]),m=f([]),B=f([]),W=f([]),V=f({}),tt=f([]),F=f({Surname:"",FirstName:"",OtherNames:"",Gender:"",BirthDate:"",BankVerificationNo:"",WorkTelephoneNo:"",HomeTelephoneNo:"",CellularNo:"",ResidentialAddress1:""});function z(g){if(!g)return"â‚¦0.00";const x=parseFloat(String(g).replace(/,/g,"").trim());return new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:2}).format(isNaN(x)?0:x)}function wt(g){if(!g||g.trim()==="")return"grey";const x=g.toLowerCase().trim();return x==="closed"?"green":x==="open"?"red":x==="paid up"?"blue":"grey"}const kt=g=>{if(Array.isArray(g))return g;const x=[];for(const M in g)isNaN(Number(M))||x.push(g[M]);return x},Ct=g=>{const x={};for(const M of g)for(const K in M)Object.hasOwn(M,K)&&(x[K]=M[K]);return x};function R(g){return g&&g.trim()!==""?g:"N/A"}const it=f(0),ht=f(0),St=async g=>{var Q,l,h,st,vt,xt,At,$t;const x=localStorage.getItem("data")?JSON.parse(localStorage.getItem("data")):null,M=x?x==null?void 0:x.token:(Q=Nt(()=>j.token))==null?void 0:Q.value,ct=`https://dev02201.getjupita.com
/api/${x?(l=x.user)!=null&&l.business_name?(h=x.user)==null?void 0:h.id:(st=x.user)==null?void 0:st.tenant_id:(vt=Nt(()=>{var ot;return(ot=j.user)!=null&&ot.business_name?j.user.id:j.user.tenant_id}))==null?void 0:vt.value}/get-credit-check-key?unique_key=${g}`;E.value=!0;try{const dt=(await Pt.get(ct,{headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"}})).data.data;console.log("ðŸŸ¢ Full Report:",dt);let bc=null;const H=dt==null?void 0:dt.credit_history;w.value=H==null?void 0:H.id_type,console.log("ðŸ“Œ idType",w.value);const nt=H==null?void 0:H.fcbc_credit_history;if(nt){console.log("âœ… FCBC raw(array)Data:",nt),console.log("ðŸ” typeof rawFcbc:",typeof nt),console.log("ðŸ” rawFcbc isArray:",Array.isArray(nt));const r=kt(nt);console.log("ðŸ” Normalized FCBC:",r);const s=Ct(r);if(console.log("âœ… Merged FCBC Object:",s),w.value==="business"){it.value=Array.isArray(s.HighestDelinquencyRating)?s.HighestDelinquencyRating.length:0,ht.value=Array.isArray(s.CreditAgreementSummary)?s.CreditAgreementSummary.length:0;const D=(s==null?void 0:s.BusinessData)||[],G=(s==null?void 0:s.DirectorInformation)||[];V.value=D[0]||{},tt.value=G,console.log("âœ…FCBC BusinessData:",V.value),console.log("âœ…FCBC Directors:",tt.value);const ut=(s==null?void 0:s.CreditAgreementSummary)??[];S.value=ut.map((d,A)=>({uid:`${d.AccountNo||"acc"}-${A}`,lender:d.SubscriberName,date:b(d.DateAccountOpened).format("DD/MM/YYYY"),amount:z(d.OpeningBalanceAmt??"0"),balance:z(d.CurrentBalanceAmt??"0"),status:d.AccountStatus,accountNo:d.AccountNo,closedDate:b(d.ClosedDate).format("DD/MM/YYYY"),duration:d.LoanDuration,repaymentFrequency:d.RepaymentFrequency,overdue:z(d.AmountOverdue),instalment:z(d.InstalmentAmount),performanceStatus:d.PerformanceStatus,currency:d.Currency})),console.log("âœ…FCBC Credit Agreement Summary:",S.value);const X=s==null?void 0:s.CreditAccountSummary;p.value=Array.isArray(X)&&X.length>0?X[0]:{};const at=S.value.filter(d=>{var A;return((A=d.status)==null?void 0:A.toLowerCase())==="open"}).length,Z=S.value.filter(d=>{var A;return((A=d.status)==null?void 0:A.toLowerCase())==="closed"}).length,_t=S.value.filter(d=>{var A;return((A=d.performanceStatus)==null?void 0:A.toLowerCase())==="written-off"}).length;p.value.TotalOpenFacilities=at,p.value.TotalClosedFacilities=Z,p.value.TotalWrittenOffFacilities=_t,console.log("âœ…FCBC Summary (Business):",p.value),console.log("Open:",at,"Closed:",Z,"Written-off:",_t);const yt=(s==null?void 0:s.EnquiryHistoryTop)??[];U.value=yt.filter(d=>{var A,Dt;return((A=d.SubscriberName)==null?void 0:A.trim())&&((Dt=d.DateRequested)==null?void 0:Dt.trim())}).map(d=>({lender:d.SubscriberName.trim(),date:b(d.DateRequested).format("DD/MM/YYYY"),rawDate:b(d.LastUpdatedDate)})),console.log("âœ… FCBC Enquiry History (cleaned):",U.value);const bt=(s==null?void 0:s.EmploymentHistory)??[];$.value=bt.filter(d=>d.EmployerDetail&&d.EmployerDetail.trim()!=="").map(d=>({employerName:d.EmployerDetail,date:d.UpdateDate&&d.UpdateDate.trim()!==""?b(d.UpdateDate).format("DD/MM/YYYY"):"N/A",rawDate:d.UpdateDate&&d.UpdateDate.trim()!==""?b(d.UpdateDate):null})),console.log("âœ…FCBC Employment History:",$.value);const _=(s==null?void 0:s.AddressHistory)??[];L.value=_.map(d=>({address:[d.CommercialAddress1,d.CommercialAddress2,d.CommercialAddress3,d.CommercialAddress4].map(A=>A==null?void 0:A.trim()).filter(A=>A).join(", "),date:d.UpDateOnDate||""})),console.log("âœ…FCBC Address History:",L.value)}else if(w.value==="individual"){const D=(s==null?void 0:s.CreditAgreementSummary)??[];S.value=D.map((_,d)=>({uid:`${_.AccountNo||"acc"}-${d}`,lender:_.SubscriberName,date:b(_.DateAccountOpened).format("DD/MM/YYYY"),amount:z(_.OpeningBalanceAmt??"0"),balance:z(_.CurrentBalanceAmt??"0"),status:_.AccountStatus,accountNo:_.AccountNo,closedDate:b(_.ClosedDate).format("DD/MM/YYYY"),duration:_.LoanDuration,repaymentFrequency:_.RepaymentFrequency,overdue:z(_.AmountOverdue),instalment:z(_.InstalmentAmount),performanceStatus:_.PerformanceStatus,currency:_.Currency})),console.log("âœ…FCBC Credit Agreement Summary (Individual):",S.value);const G=s==null?void 0:s.CreditAccountSummary;p.value=Array.isArray(G)&&G.length>0?G[0]:{};const ut=S.value.filter(_=>{var d;return((d=_.status)==null?void 0:d.toLowerCase())==="open"}).length,X=S.value.filter(_=>{var d;return((d=_.status)==null?void 0:d.toLowerCase())==="closed"}).length,at=S.value.filter(_=>{var d;return((d=_.performanceStatus)==null?void 0:d.toLowerCase())==="written-off"}).length;p.value.TotalOpenFacilities=ut,p.value.TotalClosedFacilities=X,p.value.TotalWrittenOffFacilities=at,console.log("âœ…FCBC Summary (Individual):",p.value),console.log("Open:",ut,"Closed:",X,"Written-off:",at);const Z=(s==null?void 0:s.PersonalDetailsSummary)??[];C.value=Array.isArray(Z)&&Z.length>0?Z[0]:{},console.log("âœ… FCBC Personal Details (Individual):",C.value);const _t=(s==null?void 0:s.EnquiryHistoryTop)??[];U.value=_t.filter(_=>{var d,A;return((d=_.SubscriberName)==null?void 0:d.trim())&&((A=_.DateRequested)==null?void 0:A.trim())}).map(_=>({lender:_.SubscriberName.trim(),date:b(_.DateRequested).format("DD/MM/YYYY"),rawDate:b(_.LastUpdatedDate)})),console.log("âœ… FCBC Enquiry History (Individual):",U.value);const yt=(s==null?void 0:s.EmploymentHistory)??[];$.value=yt.filter(_=>_.EmployerDetail&&_.EmployerDetail.trim()!=="").map(_=>({employerName:_.EmployerDetail,date:_.UpdateDate&&_.UpdateDate.trim()!==""?b(_.UpdateDate).format("DD/MM/YYYY"):"N/A",rawDate:_.UpdateDate&&_.UpdateDate.trim()!==""?b(_.UpdateDate):null})),console.log("âœ…FCBC Employment History (Individual):",$.value);const bt=(s==null?void 0:s.AddressHistory)??[];L.value=bt.map(_=>({address:[_.CommercialAddress1,_.CommercialAddress2,_.CommercialAddress3,_.CommercialAddress4].map(d=>d==null?void 0:d.trim()).filter(d=>d).join(", "),date:_.UpDateOnDate||""})),console.log("âœ…FCBC Address History (Individual):",L.value)}}else console.warn("âš ï¸ No FCBC credit history found");const y=(xt=H==null?void 0:H.credit_registry_history)==null?void 0:xt.AccountData;if(console.log("ðŸŸ  Credit Registry AccountData:",y),!y){console.warn("âš ï¸ No Credit Registry data found");return}if(w.value==="business")Array.isArray(y.PerformingAccounts)?(T.value=y.PerformingAccounts.map((r,s)=>({uid:`${r.Account_No||"acc"}-${s}`,lender:r.CreditorName,date:b(r.Date_Opened).format("DD/MM/YYYY"),amount:r.Credit_Limit||0,balance:r.Balance||0,status:r.Account_Status||"Performing",raw:r,accountNo:r.Account_No,closedDate:b(r.Balance_Date).format("DD/MM/YYYY"),duration:r.Term,repaymentFrequency:r.RepaymentFrequency,overdue:r.AmountOverdue,instalment:r.Minimum_Installment,performanceStatus:r.Account_Status,currency:r.Currency})),console.log("âœ… Credit Registry Performing Accounts:",T.value)):console.warn("âš ï¸ No PerformingAccounts found"),Array.isArray(y.DelinquentAccounts)?(I.value=y.DelinquentAccounts.map((r,s)=>({uid:`${r.Account_No||"acc"}-${s}`,lender:r.CreditorName,date:b(r.Date_Opened).format("DD/MM/YYYY"),amount:r.Credit_Limit||0,balance:r.Balance||0,status:r.Account_Status||"Delinquent",raw:r})),console.log("âœ… Credit Registry Delinquent Accounts:",I.value)):console.warn("âš ï¸ No DelinquentAccounts found"),Array.isArray(y.ClosedAccounts)?(O.value=y.ClosedAccounts.map((r,s)=>({uid:`${r.Account_No||"acc"}-${s}`,lender:r.CreditorName,date:b(r.Date_Opened).format("DD/MM/YYYY"),amount:r.Credit_Limit||0,balance:r.Balance||0,status:r.Account_Status||"Closed",raw:r})),console.log("âœ… Credit Registry Closed Accounts:",O.value)):console.warn("âš ï¸ No ClosedAccounts found"),Array.isArray(y.DerogatoryAccounts)?(i.value=y.DerogatoryAccounts.map((r,s)=>({uid:`${r.Account_No||"acc"}-${s}`,lender:r.CreditorName,date:b(r.Date_Opened).format("DD/MM/YYYY"),amount:r.Credit_Limit||0,balance:r.Balance||0,status:r.Account_Status||"Derogatory",raw:r})),console.log("âœ… Credit Registry Derogatory Accounts:",i.value)):console.warn("âš ï¸ No DerogatoryAccounts found"),Array.isArray(y.WrittenOffAccounts)?(m.value=y.WrittenOffAccounts.map((r,s)=>({uid:`${r.Account_No||"acc"}-${s}`,lender:r.CreditorName,date:b(r.Date_Opened).format("DD/MM/YYYY"),amount:r.Credit_Limit||0,balance:r.Balance||0,status:r.Account_Status||"Written Off",raw:r})),console.log("âœ… Credit Registry Written Off Accounts:",m.value)):console.warn("âš ï¸ No WrittenOffAccounts found"),Array.isArray(y.unknownAccounts)?(B.value=y.unknownAccounts.map((r,s)=>({uid:`${r.Account_No||"acc"}-${s}`,lender:r.CreditorName,date:b(r.Date_Opened).format("DD/MM/YYYY"),amount:r.Credit_Limit||0,balance:r.Balance||0,status:r.Account_Status||"Unknown",raw:r})),console.log("âœ… Credit Registry Unknown Status Accounts:",B.value)):console.warn("âš ï¸ No unknownAccounts found"),Array.isArray(y.InquiryHistory)?(W.value=y.InquiryHistory.map((r,s)=>({uid:`inq-${s}`,subscriber:r.Subscriber||"Unknown",date:b(r.InquiryDate).format("DD/MM/YYYY"),phone:r.ContactPhone||"N/A",reason:r.Reason||"N/A",raw:r})),console.log("âœ… Credit Registry Inquiry History:",W.value)):console.warn("âš ï¸ No InquiryHistory found");else if(w.value==="individual"){const r=(At=H==null?void 0:H.credit_registry_history)==null?void 0:At.PersonalDetail;if(r){const[s="",D="",G=""]=(r.Name||"").trim().split(/\s+/);F.value={Surname:s,FirstName:D,OtherNames:G,Gender:r.Gender||"",BirthDate:r.DOBI?b(r.DOBI).format("DD/MM/YYYY"):"",BankVerificationNo:"",WorkTelephoneNo:Array.isArray(r.PhoneNumbers)&&r.PhoneNumbers[1]||"",HomeTelephoneNo:Array.isArray(r.PhoneNumbers)&&r.PhoneNumbers[1]||"",CellularNo:Array.isArray(r.PhoneNumbers)&&r.PhoneNumbers[0]||"",ResidentialAddress1:(($t=r.Address)==null?void 0:$t.replace(/\r\n/g,", "))||""}}Array.isArray(y.PerformingAccounts)?(T.value=y.PerformingAccounts.map((s,D)=>({uid:`${s.Account_No||"acc"}-${D}`,lender:s.CreditorName,date:b(s.Date_Opened).format("DD/MM/YYYY"),amount:s.Credit_Limit||0,balance:s.Balance||0,status:s.Account_Status||"Performing",raw:s,accountNo:s.Account_No,closedDate:b(s.Balance_Date).format("DD/MM/YYYY"),duration:s.Term,repaymentFrequency:s.RepaymentFrequency,overdue:s.AmountOverdue,instalment:s.Minimum_Installment,performanceStatus:s.Account_Status,currency:s.Currency})),console.log("âœ… Credit Registry Performing Accounts:",T.value)):console.warn("âš ï¸ No PerformingAccounts found"),Array.isArray(y.DelinquentAccounts)?(I.value=y.DelinquentAccounts.map((s,D)=>({uid:`${s.Account_No||"acc"}-${D}`,lender:s.CreditorName,date:b(s.Date_Opened).format("DD/MM/YYYY"),amount:s.Credit_Limit||0,balance:s.Balance||0,status:s.Account_Status||"Delinquent",raw:s})),console.log("âœ… Credit Registry Delinquent Accounts:",I.value)):console.warn("âš ï¸ No DelinquentAccounts found"),Array.isArray(y.ClosedAccounts)?(O.value=y.ClosedAccounts.map((s,D)=>({uid:`${s.Account_No||"acc"}-${D}`,lender:s.CreditorName,date:b(s.Date_Opened).format("DD/MM/YYYY"),amount:s.Credit_Limit||0,balance:s.Balance||0,status:s.Account_Status||"Closed",raw:s})),console.log("âœ… Credit Registry Closed Accounts:",O.value)):console.warn("âš ï¸ No ClosedAccounts found"),Array.isArray(y.DerogatoryAccounts)?(i.value=y.DerogatoryAccounts.map((s,D)=>({uid:`${s.Account_No||"acc"}-${D}`,lender:s.CreditorName,date:b(s.Date_Opened).format("DD/MM/YYYY"),amount:s.Credit_Limit||0,balance:s.Balance||0,status:s.Account_Status||"Derogatory",raw:s})),console.log("âœ… Credit Registry Derogatory Accounts:",i.value)):console.warn("âš ï¸ No DerogatoryAccounts found"),Array.isArray(y.WrittenOffAccounts)?(m.value=y.WrittenOffAccounts.map((s,D)=>({uid:`${s.Account_No||"acc"}-${D}`,lender:s.CreditorName,date:b(s.Date_Opened).format("DD/MM/YYYY"),amount:s.Credit_Limit||0,balance:s.Balance||0,status:s.Account_Status||"Written Off",raw:s})),console.log("âœ… Credit Registry Written Off Accounts:",m.value)):console.warn("âš ï¸ No WrittenOffAccounts found"),Array.isArray(y.unknownAccounts)?(B.value=y.unknownAccounts.map((s,D)=>({uid:`${s.Account_No||"acc"}-${D}`,lender:s.CreditorName,date:b(s.Date_Opened).format("DD/MM/YYYY"),amount:s.Credit_Limit||0,balance:s.Balance||0,status:s.Account_Status||"Unknown",raw:s})),console.log("âœ… Credit Registry Unknown Status Accounts:",B.value)):console.warn("âš ï¸ No unknownAccounts found"),Array.isArray(y.InquiryHistory)?(W.value=y.InquiryHistory.map((s,D)=>({uid:`inq-${D}`,subscriber:s.Subscriber||"Unknown",date:b(s.InquiryDate).format("DD/MM/YYYY"),phone:s.ContactPhone||"N/A",reason:s.Reason||"N/A",raw:s})),console.log("âœ… Credit Registry Inquiry History:",W.value)):console.warn("âš ï¸ No InquiryHistory found")}}catch(ot){console.error("âŒ Error fetching credit report:",ot)}finally{E.value=!1}},et=f([]),gt=g=>{et.value=et.value.includes(g)?[]:[g]},pt=g=>et.value.includes(g),rt=[{title:"Lender's Name",key:"lender"},{title:"Disbursement Date",key:"date"},{title:"Loan Amount",value:"amount"},{title:"Loan Balance",key:"balance"},{title:"Status",key:"status"},{title:"Action",key:"action",sortable:!1}],qt=[{title:"Employer Name",key:"employerName"},{title:"Date Updated",key:"date"}],ft=f(null);return It(()=>{const g=mt.params.unique_key;g?St(g):(console.warn("âŒ Invalid unique key from route"),E.value=!1)}),(g,x)=>{const M=J("v-btn"),K=J("v-progress-circular"),ct=J("v-chip"),Q=J("v-data-table");return o(),Rt(Ht,null,{default:v(()=>[t("div",Vn,[t("div",zn,[(o(),n(N,null,q(lt,l=>t("button",{key:l.key,onClick:h=>P.value=l.key,class:Et([P.value===l.key?"bg-blue-600 text-white":"bg-white text-black","px-4 py-2 rounded transition text-sm"])},e(l.label),11,jn)),64))]),t("div",null,[k(M,{onClick:x[0]||(x[0]=l=>{var h;return(h=ft.value)==null?void 0:h.exportPDF()}),"no-uppercase":"",size:"small",class:"normal-case p-4 bg-blue-600 hover:bg-blue-700 text-white text-none custom-btn"},{default:v(()=>[Gn,u(" Export PDF ")]),_:1})])]),t("div",Jn,[E.value?(o(),n("div",Kn,[k(K,{indeterminate:"",color:"#1f5aa3",size:"80",width:"8"}),Qn])):Y("",!0),k(Mt,{name:"fade",mode:"out-in"},{default:v(()=>[E.value?Y("",!0):(o(),n("div",{key:P.value,class:"space-y-6"},[P.value==="first_central"?(o(),n(N,{key:0},[w.value!=="business"?(o(),n("div",Xn,[t("div",Zn,[ta,C.value&&Object.keys(C.value).length>0?(o(),n("div",ea,[t("div",null,[sa,t("p",oa,e(C.value.Surname),1)]),t("div",null,[na,t("p",aa,e(C.value.Gender),1)]),t("div",null,[la,t("p",ia,e(C.value.CellularNo),1)]),t("div",null,[ra,t("p",ca,e(C.value.ResidentialAddress1),1)]),t("div",null,[da,t("p",ua,e(C.value.FirstName),1)]),t("div",null,[_a,t("p",ma,e(C.value.BankVerificationNo),1)]),t("div",null,[ha,t("p",ya,e(C.value.WorkTelephoneNo),1)]),t("div",null,[ba,t("p",ga,e(C.value.OtherNames),1)]),t("div",null,[pa,t("p",fa,e(C.value.BirthDate),1)]),t("div",null,[va,t("p",xa,e(C.value.HomeTelephoneNo),1)])])):(o(),n("div",Aa,"No personal data available."))])])):(o(),n("div",$a,[w.value==="business"?(o(),n("div",Da,[Na,t("div",wa,[t("div",null,[ka,t("p",Ca,e(R(V.value.BusinessName)),1)]),t("div",null,[Sa,t("p",qa,e(R(V.value.DateOfIncorporation)),1)]),t("div",null,[La,t("p",Ta,e(R(V.value.CommercialAddress1))+", "+e(R(V.value.CommercialAddress2))+", "+e(R(V.value.CommercialAddress4)),1)])])])):Y("",!0),w.value==="business"?(o(),n("div",Ya,[Oa,tt.value.length>0?(o(),n("div",Ba,[t("table",Fa,[Ia,t("tbody",null,[(o(!0),n(N,null,q(tt.value,(l,h)=>(o(),n("tr",{key:h},[t("td",Ra,e(R(l.firstName)),1),t("td",Ma,e(R(l.othernames)),1),t("td",Ha,e(R(l.surname)),1),t("td",Pa,e(R(l.Identificationnumber)),1)]))),128))])])])):(o(),n("div",Ea," No director information available. "))])):Y("",!0)])),t("div",Ua,[Wa,t("div",Va,[t("div",null,[za,t("p",ja,e(p.value.TotalMonthlyInstalment),1)]),t("div",null,[Ga,t("p",Ja,e(p.value.TotalAccounts),1)]),t("div",null,[Ka,t("p",Qa,e(R(p.value.totalOpen)),1)]),t("div",null,[Xa,t("p",Za,e(p.value.Amountarrear),1)]),t("div",null,[tl,t("p",el,e(p.value.TotalOutstandingdebt),1)]),t("div",null,[sl,t("p",ol,e(R(p.value.totalClosed)),1)]),t("div",null,[nl,t("p",al,e(p.value.TotalAccountarrear),1)]),t("div",null,[ll,t("p",il,e(it.value),1)]),t("div",null,[rl,t("p",cl,e(R(p.value.totalWrittenOff)),1)])])]),t("div",dl,[ul,S.value&&S.value.length>0?(o(),n("div",_l,[k(Q,{headers:rt,items:S.value,"item-value":"uid",expanded:et.value,class:"elevation-1","fixed-header":"",height:"400","hide-default-footer":""},{"item.status":v(({item:l})=>[k(ct,{color:wt(l.status),variant:"tonal",size:"small",class:"text-white"},{default:v(()=>{var h;return[u(e(((h=l.status)==null?void 0:h.trim())||"Unknown"),1)]}),_:2},1032,["color"])]),"item.action":v(({item:l})=>[k(M,{size:"small",color:"primary",onClick:h=>gt(l.uid)},{default:v(()=>[u(e(pt(l.uid)?"Hide":"View"),1)]),_:2},1032,["onClick"])]),"expanded-row":v(({item:l})=>[t("td",{colspan:rt.length,class:"px-4 py-2 bg-gray-50 mb-4"},[t("div",hl,[t("p",null,[yl,u(" "+e(l.accountNo),1)]),t("p",null,[bl,u(" "+e(l.amount),1)]),t("p",null,[gl,u(" "+e(l.balance),1)]),t("p",null,[pl,u(" "+e(l.overdue),1)]),t("p",null,[fl,u(" "+e(l.instalment),1)]),t("p",null,[vl,u(" "+e(l.loanDuration),1)]),t("p",null,[xl,u(" "+e(l.repaymentFrequency),1)]),t("p",null,[Al,u(" "+e(l.date),1)]),t("p",null,[$l,u(" "+e(l.closedDate),1)]),t("p",null,[Dl,u(" "+e(l.performanceStatus),1)]),t("p",null,[Nl,u(" "+e(l.status),1)])])],8,ml)]),_:1},8,["items","expanded"])])):(o(),n("div",wl,"No loan accounts available."))]),t("div",kl,[t("div",Cl,[Sl,U.value&&U.value.length>0?(o(),n("div",ql,[t("table",Ll,[Tl,t("tbody",null,[(o(!0),n(N,null,q(U.value,(l,h)=>(o(),n("tr",{key:h,class:"border-b"},[t("td",Yl,e(l.lender),1),t("td",Ol,e(l.date),1)]))),128))])])])):(o(),n("div",Bl,"No enquiry history available."))]),t("div",Fl,[Il,$.value&&$.value.length>0?(o(),n("div",Rl,[k(Q,{headers:qt,items:$.value,class:"elevation-1","fixed-header":"",height:"200"},{"item.date":v(({item:l})=>[u(e(l.date),1)]),_:1},8,["items"])])):(o(),n("div",Ml," No employment history available. "))])]),t("div",Hl,[Pl,L.value&&L.value.length>0?(o(),n("div",El,[t("div",Ul,[t("table",Wl,[Vl,t("tbody",zl,[(o(!0),n(N,null,q(L.value,(l,h)=>(o(),n("tr",{key:h},[t("td",jl,e(l.address),1),t("td",Gl,e(l.date),1)]))),128))])])])])):(o(),n("div",Jl,"No address history available."))])],64)):P.value==="credit_registry"?(o(),n(N,{key:1},[w.value!=="business"?(o(),n("div",Kl,[Ql,F.value&&Object.values(F.value).some(l=>l&&l.toString().trim()!=="")?(o(),n("div",Xl,[t("div",null,[Zl,t("p",ti,e(F.value.Surname||"N/A"),1)]),t("div",null,[ei,t("p",si,e(F.value.Gender||"N/A"),1)]),t("div",null,[oi,t("p",ni,e(F.value.CellularNo||"N/A"),1)]),t("div",null,[ai,t("p",li,e(F.value.ResidentialAddress1||"N/A"),1)]),t("div",null,[ii,t("p",ri,e(F.value.FirstName||"N/A"),1)]),t("div",null,[ci,t("p",di,e(F.value.BankVerificationNo||"N/A"),1)]),t("div",null,[ui,t("p",_i,e(F.value.WorkTelephoneNo||"N/A"),1)]),t("div",null,[mi,t("p",hi,e(F.value.OtherNames||"N/A"),1)]),t("div",null,[yi,t("p",bi,e(F.value.BirthDate||"N/A"),1)]),t("div",null,[gi,t("p",pi,e(F.value.HomeTelephoneNo||"N/A"),1)])])):(o(),n("div",fi,"No personal data available."))])):(o(),n("div",vi,[w.value==="business"?(o(),n("div",xi,Di)):Y("",!0),w.value==="business"?(o(),n("div",Ni,Ci)):Y("",!0)])),t("div",Si,[qi,t("div",Li,[t("div",null,[Ti,t("p",Yi,e(p.value.TotalMonthlyInstalment),1)]),t("div",null,[Oi,t("p",Bi,e(ht.value),1)]),t("div",null,[Fi,t("p",Ii,e(p.value.TotalOpenFacilities),1)]),t("div",null,[Ri,t("p",Mi,e(p.value.Amountarrear),1)]),t("div",null,[Hi,t("p",Pi,e(p.value.TotalOutstandingdebt),1)]),Ei,t("div",null,[Ui,t("p",Wi,e(p.value.TotalAccountarrear),1)]),t("div",null,[Vi,t("p",zi,e(it.value),1)]),t("div",null,[ji,t("p",Gi,e(p.value.TotalWrittenOffFacilities),1)])])]),t("div",Ji,[Ki,T.value&&T.value.length>0?(o(),n("div",Qi,[k(Q,{headers:rt,items:T.value,"item-value":"uid",expanded:et.value,"show-expand":"","fixed-header":"",height:"400","hide-default-footer":"",class:"elevation-1"},{"item.status":v(({item:l})=>[k(ct,{color:l.status==="Closed"?"green":"red",variant:"tonal",size:"small",class:"text-white"},{default:v(()=>[u(e(l.status),1)]),_:2},1032,["color"])]),"item.action":v(({item:l})=>[k(M,{size:"small",color:"primary",onClick:h=>gt(l.uid)},{default:v(()=>[u(e(pt(l.uid)?"Hide":"View"),1)]),_:2},1032,["onClick"])]),"expanded-row":v(({item:l})=>{var h,st;return[t("td",{colspan:rt.length,class:"p-4 bg-gray-50"},[t("div",Zi,[t("p",null,[tr,u(" "+e(l.accountNo),1)]),t("p",null,[er,u(" "+e(l.amount.toLocaleString()),1)]),t("p",null,[sr,u(" "+e(l.balance.toLocaleString()),1)]),t("p",null,[or,u(" "+e(((h=l.overdue)==null?void 0:h.toLocaleString())||0),1)]),t("p",null,[nr,u(" â‚¦"+e(((st=l.instalment)==null?void 0:st.toLocaleString())||0),1)]),t("p",null,[ar,u(" "+e(l.duration)+" months",1)]),t("p",null,[lr,u(" "+e(l.repaymentFrequency),1)]),t("p",null,[ir,u(" "+e(l.date),1)]),t("p",null,[rr,u(" "+e(l.closedDate),1)]),t("p",null,[cr,u(" "+e(l.performanceStatus),1)]),t("p",null,[dr,u(" "+e(l.status),1)])])],8,Xi)]}),_:1},8,["items","expanded"])])):(o(),n("div",ur,"No loan accounts available."))]),t("div",_r,[mr,t("table",hr,[yr,t("tbody",null,[I.value.length===0?(o(),n("tr",br,pr)):Y("",!0),(o(!0),n(N,null,q(I.value,(l,h)=>(o(),n("tr",{key:"delinquents-"+h,class:"hover:bg-gray-50"},[t("td",fr,e(l.lender),1),t("td",vr,e(l.date),1),t("td",xr,"â‚¦"+e(l.amount.toLocaleString()),1),t("td",Ar,"â‚¦"+e(l.balance.toLocaleString()),1),$r]))),128))])])]),t("div",Dr,[Nr,t("table",wr,[kr,t("tbody",null,[O.value.length===0?(o(),n("tr",Cr,qr)):Y("",!0),(o(!0),n(N,null,q(O.value,(l,h)=>(o(),n("tr",{key:"delinquents-"+h,class:"hover:bg-gray-50"},[t("td",Lr,e(l.lender),1),t("td",Tr,e(l.date),1),t("td",Yr,"â‚¦"+e(l.amount.toLocaleString()),1),t("td",Or,"â‚¦"+e(l.balance.toLocaleString()),1),Br]))),128))])])]),t("div",Fr,[Ir,m.value&&m.value.length>0?(o(),n("div",Rr,[t("table",Mr,[Hr,t("tbody",null,[(o(!0),n(N,null,q(m.value,(l,h)=>(o(),n("tr",{key:h,class:"text-sm"},[t("td",Pr,e(l.lender),1),t("td",Er,e(l.date),1),t("td",Ur,"â‚¦"+e(l.amount.toLocaleString()),1),t("td",Wr,"â‚¦"+e(l.balance.toLocaleString()),1),Vr]))),128))])])])):(o(),n("div",zr," No written-off accounts available. "))]),t("div",jr,[Gr,B.value&&B.value.length>0?(o(),n("div",Jr,[t("table",Kr,[Qr,t("tbody",null,[(o(!0),n(N,null,q(B.value,(l,h)=>(o(),n("tr",{key:h,class:"text-sm"},[t("td",Xr,e(l.lender),1),t("td",Zr,e(l.date),1),t("td",tc,"â‚¦"+e(l.amount.toLocaleString()),1),t("td",ec,"â‚¦"+e(l.balance.toLocaleString()),1),sc]))),128))])])])):(o(),n("div",oc,"No unknown accounts available."))]),t("div",nc,[ac,W.value&&W.value.length>0?(o(),n("div",lc,[t("table",ic,[rc,t("tbody",null,[(o(!0),n(N,null,q(W.value,(l,h)=>(o(),n("tr",{key:h,class:"text-sm hover:bg-gray-50 transition-colors"},[t("td",cc,e(l.subscriber),1),t("td",dc,e(l.date),1),t("td",uc,e(l.phone),1),t("td",_c,e(l.reason),1)]))),128))])])])):(o(),n("div",mc,"No inquiries available."))])],64)):Y("",!0)]))]),_:1})]),t("div",hc,[k(Wn,{"id-type":w.value,"business-data":V.value,directors:tt.value,fcbcCreditAgreementSummaryCount:ht.value,fcbcHighestDelinquencyRatingCount:it.value,ref_key:"reportRef",ref:ft,personal:C.value,summary:p.value,"credit-agreement-summary":S.value,"enquiry-history":U.value,"employment-history":$.value,"address-history":L.value,"loan-accounts":T.value,"delinquent-accounts":I.value,"closed-accounts":O.value,"derogatory-accounts":i.value,"written-off-accounts":m.value,"unknown-accounts":B.value,"inquiry-history":W.value},null,8,["id-type","business-data","directors","fcbcCreditAgreementSummaryCount","fcbcHighestDelinquencyRatingCount","personal","summary","credit-agreement-summary","enquiry-history","employment-history","address-history","loan-accounts","delinquent-accounts","closed-accounts","derogatory-accounts","written-off-accounts","unknown-accounts","inquiry-history"])])]),_:1})}}},pc=Ot(yc,[["__scopeId","data-v-096ab4ff"]]);export{pc as default};
