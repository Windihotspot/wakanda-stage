import{r as D,w as Ge,a as fe,o as n,c as l,b as e,t as s,d as ee,F as U,e as Q,n as N,f as a,g as w,h as g,i as Je,E as Oe,j as Ke,k as Qe,_ as Xe,u as Ze,l as et,m as tt,p as st,T as ot,M as nt,q as He,s as lt,v as p,x as at,y as rt}from"./index-SseKAiMf.js";const it=e("h1",{class:"text-2xl font-bold"},"First Central",-1),dt={key:0},ct={class:"bg-white p-6 rounded space-y-4"},ut=e("h2",{class:"text-md font-semibold mb-4"},"Personal details summary",-1),mt={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-y-6 gap-x-8 text-sm text-gray-600"},_t=e("p",{class:"mb-1"},"Last Name",-1),yt={class:"font-bold text-gray-900"},ht=e("p",{class:"mb-1"},"Gender",-1),pt={class:"font-bold text-gray-900"},gt=e("p",{class:"mb-1"},"Phone Number",-1),ft={class:"font-bold text-gray-900"},bt=e("p",{class:"mb-1"},"Latest Residential Address",-1),vt={class:"font-bold text-gray-900 leading-snug"},xt=e("p",{class:"mb-1"},"First Name",-1),At={class:"font-bold text-gray-900"},Nt=e("p",{class:"mb-1"},"Bank Verification Number",-1),Dt={class:"font-bold text-gray-900"},wt=e("p",{class:"mb-1"},"Work Telephone",-1),$t={class:"font-bold text-gray-900"},Ct=e("p",{class:"mb-1"},"Other Names",-1),kt={class:"font-bold text-gray-900"},St=e("p",{class:"mb-1"},"Date of Birth",-1),Yt={class:"font-bold text-gray-900"},Tt=e("p",{class:"mb-1"},"Home Telephone",-1),Ot={class:"font-bold text-gray-900"},qt={key:1,class:"text-gray-500 text-sm italic"},Bt={key:1},Ft={key:0,class:"bg-white p-6 rounded space-y-4"},Lt=e("h2",{class:"text-md font-semibold"},"Business Information",-1),Mt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-6 gap-x-8 text-sm text-gray-600"},It=e("p",{class:"mb-1"},"Business Name",-1),Rt={class:"font-bold text-gray-900"},Pt=e("p",{class:"mb-1"},"Date of Incorporation",-1),Et={class:"font-bold text-gray-900"},Ht=e("p",{class:"mb-1"},"Business Address",-1),Wt={class:"font-bold text-gray-900"},Ut={key:1,class:"bg-white p-6 rounded space-y-4 mt-4"},zt=e("h2",{class:"text-md font-semibold"},"Director Information",-1),jt={key:0},Vt={class:"min-w-full text-sm text-left"},Gt=e("thead",{class:"text-xs font-semibold text-gray-700"},[e("tr",null,[e("th",{class:"p-2"},"First Name"),e("th",{class:"p-2"},"Other Names"),e("th",{class:"p-2"},"Surname"),e("th",{class:"p-2"},"Identification Number")])],-1),Jt={class:"p-2 font-bold text-gray-900"},Kt={class:"p-2 font-bold text-gray-900"},Qt={class:"p-2 font-bold text-gray-900"},Xt={class:"p-2 font-bold text-gray-900"},Zt={key:1,class:"text-sm text-gray-500 italic"},es={class:"bg-white p-6 rounded-md mt-4"},ts=e("h2",{class:"text-md font-semibold mb-6"},"Summary",-1),ss={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-6 gap-x-8 text-sm text-gray-600"},os=e("p",{class:"mb-1"},"Total active monthly installment",-1),ns={class:"font-bold text-gray-900"},ls=e("p",{class:"mb-1"},"Total no of credit facilities",-1),as={class:"font-bold text-gray-900"},rs=e("p",{class:"mb-1"},"Total no of open facilities",-1),is={class:"font-bold text-gray-900"},ds=e("p",{class:"mb-1"},"Total arrear amount",-1),cs={class:"font-bold text-gray-900"},us=e("p",{class:"mb-1"},"Total outstanding debts",-1),ms={class:"font-bold text-gray-900"},_s=e("p",{class:"mb-1"},"Total no of closed credit facilities",-1),ys={class:"font-bold text-gray-900"},hs=e("p",{class:"mb-1"},"Total no of account in arrears",-1),ps={class:"font-bold text-gray-900"},gs=e("p",{class:"mb-1"},"Total no of delinquent facilities",-1),fs={class:"font-bold text-gray-900"},bs=e("p",{class:"mb-1"},"Total no written off facilities",-1),vs={class:"font-bold text-gray-900"},xs={class:"bg-white p-6 rounded"},As=e("h2",{class:"text-md font-semibold mb-4"},"Loan Accounts",-1),Ns={key:0},Ds={class:"min-w-full border border-gray-200 text-sm"},ws=e("thead",{class:"bg-gray-100 text-left"},[e("tr",null,[e("th",{class:"px-4 py-2 border"},"Account No"),e("th",{class:"px-4 py-2 border"},"Loan Amount"),e("th",{class:"px-4 py-2 border"},"Balance"),e("th",{class:"px-4 py-2 border"},"Overdue"),e("th",{class:"px-4 py-2 border"},"Instalment"),e("th",{class:"px-4 py-2 border"},"Duration"),e("th",{class:"px-4 py-2 border"},"Repayment Freq."),e("th",{class:"px-4 py-2 border"},"Opened"),e("th",{class:"px-4 py-2 border"},"Closed"),e("th",{class:"px-4 py-2 border"},"Performance"),e("th",{class:"px-4 py-2 border"},"Status")])],-1),$s={class:"px-4 py-2 border"},Cs={class:"px-4 py-2 border"},ks={class:"px-4 py-2 border"},Ss={class:"px-4 py-2 border"},Ys={class:"px-4 py-2 border"},Ts={class:"px-4 py-2 border"},Os={class:"px-4 py-2 border"},qs={class:"px-4 py-2 border"},Bs={class:"px-4 py-2 border"},Fs={class:"px-4 py-2 border"},Ls={class:"px-4 py-2 border"},Ms={key:1,class:"text-sm text-gray-500 italic"},Is={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Rs={class:"bg-white rounded p-4"},Ps=e("h2",{class:"font-semibold text-md mb-4"},"Enquiry History",-1),Es={key:0},Hs={class:"w-full text-sm text-left"},Ws=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{class:"p-2"},"Lender's Name"),e("th",{class:"p-2"},"Date Requested")])],-1),Us={class:"p-2"},zs={class:"p-2"},js={key:1,class:"text-sm text-gray-500 italic"},Vs={class:"bg-white rounded p-4"},Gs=e("h2",{class:"font-semibold text-md mb-4"},"Employment History",-1),Js={key:0},Ks={key:1,class:"text-sm text-gray-500 italic"},Qs={class:"bg-white rounded p-4"},Xs=e("h2",{class:"font-semibold text-md mb-4"},"Address History",-1),Zs={key:0},eo={class:"overflow-auto max-h-72 border rounded"},to={class:"min-w-full text-sm text-left"},so=e("thead",{class:"bg-gray-100 sticky top-0 z-10"},[e("tr",null,[e("th",{class:"p-3 font-medium text-gray-700"},"Address"),e("th",{class:"p-3 font-medium text-gray-700 w-40"},"Date Updated")])],-1),oo={class:"divide-y divide-gray-200"},no={class:"p-3 text-gray-800"},lo={class:"p-3 text-gray-800 w-40"},ao={key:1,class:"text-sm text-gray-500 italic"},ro={key:0,class:"bg-white p-6 rounded space-y-4"},io=e("h2",{class:"text-md font-semibold mb-4"},"Personal details summary",-1),co={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-y-6 gap-x-8 text-sm text-gray-600"},uo=e("p",{class:"mb-1"},"Last Name",-1),mo={class:"font-bold text-gray-900"},_o=e("p",{class:"mb-1"},"Gender",-1),yo={class:"font-bold text-gray-900"},ho=e("p",{class:"mb-1"},"Phone Number",-1),po={class:"font-bold text-gray-900"},go=e("p",{class:"mb-1"},"Latest Residential Address",-1),fo={class:"font-bold text-gray-900 leading-snug"},bo=e("p",{class:"mb-1"},"First Name",-1),vo={class:"font-bold text-gray-900"},xo=e("p",{class:"mb-1"},"Bank Verification Number",-1),Ao={class:"font-bold text-gray-900"},No=e("p",{class:"mb-1"},"Work Telephone",-1),Do={class:"font-bold text-gray-900"},wo=e("p",{class:"mb-1"},"Other Names",-1),$o={class:"font-bold text-gray-900"},Co=e("p",{class:"mb-1"},"Date of Birth",-1),ko={class:"font-bold text-gray-900"},So=e("p",{class:"mb-1"},"Home Telephone",-1),Yo={class:"font-bold text-gray-900"},To={key:1,class:"text-gray-500 text-sm italic"},Oo={key:1},qo={key:0,class:"bg-white p-6 rounded space-y-4"},Bo=e("h2",{class:"text-md font-semibold"},"Business Information",-1),Fo={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-6 gap-x-8 text-sm text-gray-600"},Lo=e("p",{class:"mb-1"},"Business Name",-1),Mo={class:"font-bold text-gray-900"},Io=e("div",null,[e("p",{class:"mb-1"},"Date of Incorporation"),e("p",{class:"font-bold text-gray-900"},"N/A")],-1),Ro=e("div",null,[e("p",{class:"mb-1"},"Business Address"),e("p",{class:"font-bold text-gray-900"},"N/A")],-1),Po={key:1,class:"bg-white p-6 rounded space-y-4 mt-4"},Eo=e("h2",{class:"text-md font-semibold"},"Director Information",-1),Ho={key:0},Wo={class:"min-w-full text-sm text-left"},Uo=e("thead",{class:"text-xs font-semibold text-gray-700"},[e("tr",null,[e("th",{class:""},"First Name"),e("th",{class:""},"Other Names"),e("th",{class:""},"Surname"),e("th",{class:""},"Identification Number")])],-1),zo={class:"py-2"},jo={class:"py-2"},Vo={class:"py-2"},Go={class:"py-2"},Jo={key:1,class:"text-sm text-gray-500 italic"},Ko={class:"bg-white p-6 rounded-md mt-4"},Qo=e("h2",{class:"text-md font-semibold mb-6"},"Summary",-1),Xo={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-6 gap-x-8 text-sm text-gray-600"},Zo=e("div",null,[e("p",{class:"mb-1"},"Total active monthly installment"),e("p",{class:"font-bold text-gray-900"},"N/A")],-1),en=e("div",null,[e("p",{class:"mb-1"},"Total no of credit facilities"),e("p",{class:"font-bold text-gray-900"},"N/A")],-1),tn=e("p",{class:"mb-1"},"Total no of open facilities",-1),sn={class:"font-bold text-gray-900"},on=e("div",null,[e("p",{class:"mb-1"},"Total arrear amount"),e("p",{class:"font-bold text-gray-900"},"N/A")],-1),nn=e("div",null,[e("p",{class:"mb-1"},"Total outstanding debts"),e("p",{class:"font-bold text-gray-900"},"N/A")],-1),ln=e("p",{class:"mb-1"},"Total no of closed credit facilities",-1),an={class:"font-bold text-gray-900"},rn=e("div",null,[e("p",{class:"mb-1"},"Total no of account in arrears"),e("p",{class:"font-bold text-gray-900"},"N/A")],-1),dn=e("div",null,[e("p",{class:"mb-1"},"Total no of delinquent facilities"),e("p",{class:"font-bold text-gray-900"},"N/A")],-1),cn=e("p",{class:"mb-1"},"Total no written off facilities",-1),un={class:"font-bold text-gray-900"},mn=e("section",null,null,-1),_n={__name:"CreditReportExport",props:{idType:String,businessData:Object,directors:Array,personal:Object,summary:Object,creditAgreementSummary:Array,enquiryHistory:Array,employmentHistory:Array,addressHistory:Array,loanAccounts:Array,delinquentAccounts:Array,closedAccounts:Array,derogatoryAccounts:Array,writtenOffAccounts:Array,unknownAccounts:Array,inquiryHistory:Array,creditPersonal:Object,creditRegistrybusinessName:String,creditDirectors:Array,creditRegistryTotalOpen:Number,creditRegistryTotalClosed:Number,creditRegistryTotalWrittenOff:Number},setup(i,{expose:Ae}){const q=i;function z(A){return A&&A.trim()!==""?A:"N/A"}function ie(A){if(!A)return"bg-gray-200 text-gray-700";const Y=A.toLowerCase();return Y==="closed"||Y==="performing"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}function Ne(A){if(!A)return"bg-gray-500";const Y=A.toLowerCase();return Y==="closed"||Y==="performing"?"bg-green-600":"bg-red-600"}const ke=D([]);Ge(()=>{var A;(A=q.creditAgreementSummary.value)!=null&&A.length&&(ke.value=q.creditAgreementSummary.value.map(Y=>Y.uid))});const B=[{title:"Employer Name",key:"employerName"},{title:"Date Updated",key:"date"}],T=D(null);return Ae({exportPDF:async()=>{if(await Je(),await new Promise(x=>setTimeout(x,500)),!T.value)return Oe({title:"Error",message:"No content available for PDF export",type:"error"});const Y=new Date().toISOString().slice(0,16).replace("T","_").replace(":","-");let F="";if(q.idType==="business"&&q.businessData)F=`${q.businessData.BusinessName||"Business"}_${Y}.pdf`;else{const x=q.personal&&Object.keys(q.personal).length>0?q.personal:q.creditPersonal,E=(x==null?void 0:x.FirstName)||"FirstName",H=(x==null?void 0:x.Surname)||"LastName";F=`${E}_${H}_${Y}.pdf`}const I=Ke({message:"Generating PDF...",type:"warning",duration:0,showClose:!0}),m={margin:.5,filename:F,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,logging:!1,windowWidth:document.documentElement.offsetWidth},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};try{const x=await Qe().set(m).from(T.value).toPdf().get("pdf").then(X=>X.output("blob")),E=URL.createObjectURL(x),H=document.createElement("a");H.href=E,H.download=F,document.body.appendChild(H),H.click(),H.remove(),URL.revokeObjectURL(E),I.close(),Oe({title:"Download Complete",message:"Report has been downloaded successfully!",type:"success",duration:3e3})}catch(x){I.close(),console.error("Blob export failed:",x),Oe({title:"Error",message:"PDF export failed. Please try again.",type:"error",duration:4e3})}}}),(A,Y)=>{var I;const F=fe("v-data-table");return n(),l("div",{ref_key:"pdfContent",ref:T,class:"p-6 space-y-6 bg-white text-gray-800"},[it,e("section",null,[i.idType!=="business"?(n(),l("div",dt,[e("div",ct,[ut,i.personal&&Object.keys(i.personal).length>0?(n(),l("div",mt,[e("div",null,[_t,e("p",yt,s(i.personal.Surname),1)]),e("div",null,[ht,e("p",pt,s(i.personal.Gender),1)]),e("div",null,[gt,e("p",ft,s(i.personal.CellularNo),1)]),e("div",null,[bt,e("p",vt,s(i.personal.ResidentialAddress1),1)]),e("div",null,[xt,e("p",At,s(i.personal.FirstName),1)]),e("div",null,[Nt,e("p",Dt,s(i.personal.BankVerificationNo),1)]),e("div",null,[wt,e("p",$t,s(i.personal.WorkTelephoneNo),1)]),e("div",null,[Ct,e("p",kt,s(i.personal.OtherNames),1)]),e("div",null,[St,e("p",Yt,s(i.personal.BirthDate),1)]),e("div",null,[Tt,e("p",Ot,s(i.personal.HomeTelephoneNo),1)])])):(n(),l("div",qt,"No personal data available."))])])):(n(),l("div",Bt,[i.idType==="business"?(n(),l("div",Ft,[Lt,e("div",Mt,[e("div",null,[It,e("p",Rt,s(i.businessData.BusinessName),1)]),e("div",null,[Pt,e("p",Et,s(i.businessData.DateOfIncorporation),1)]),e("div",null,[Ht,e("p",Wt,s(i.businessData.CommercialAddress1)+", "+s(i.businessData.CommercialAddress2)+", "+s(i.businessData.CommercialAddress4),1)])])])):ee("",!0),i.idType==="business"?(n(),l("div",Ut,[zt,i.directors.length>0?(n(),l("div",jt,[e("table",Vt,[Gt,e("tbody",null,[(n(!0),l(U,null,Q(i.directors,(m,x)=>(n(),l("tr",{key:x,class:""},[e("td",Jt,s(m.firstName),1),e("td",Kt,s(m.othernames),1),e("td",Qt,s(m.surname),1),e("td",Xt,s(m.Identificationnumber),1)]))),128))])])])):(n(),l("div",Zt,"No director information available."))])):ee("",!0)])),e("div",es,[ts,e("div",ss,[e("div",null,[os,e("p",ns,s(i.summary.TotalMonthlyInstalment||0),1)]),e("div",null,[ls,e("p",as,s(i.summary.TotalAccounts||0),1)]),e("div",null,[rs,e("p",is,s(i.summary.totalOpen||0),1)]),e("div",null,[ds,e("p",cs,s(i.summary.Amountarrear||0),1)]),e("div",null,[us,e("p",ms,s(i.summary.TotalOutstandingdebt||0),1)]),e("div",null,[_s,e("p",ys,s(i.summary.totalClosed||0),1)]),e("div",null,[hs,e("p",ps,s(i.summary.TotalAccountarrear||0),1)]),e("div",null,[gs,e("p",fs,s(i.summary.TotalaccountinBadcondition||0),1)]),e("div",null,[bs,e("p",vs,s(i.summary.totalWrittenOff||0),1)])])]),e("div",xs,[As,i.creditAgreementSummary&&i.creditAgreementSummary.length>0?(n(),l("div",Ns,[e("table",Ds,[ws,e("tbody",null,[(n(!0),l(U,null,Q(i.creditAgreementSummary,m=>(n(),l("tr",{key:m.uid,class:"hover:bg-gray-50"},[e("td",$s,s(z(m.accountNo)),1),e("td",Cs,s(m.amount||0),1),e("td",ks,s(m.balance||0),1),e("td",Ss,s(m.overdue||0),1),e("td",Ys,s(m.instalment||0),1),e("td",Ts,s(z(m.duration)),1),e("td",Os,s(z(m.repaymentFrequency)),1),e("td",qs,s(z(m.date)),1),e("td",Bs,s(z(m.closedDate)),1),e("td",Fs,[e("span",{class:N(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",ie(m.performanceStatus)])},[e("span",{class:N(["h-1.5 w-1.5 rounded-full mr-1.5",Ne(m.performanceStatus)])},null,2),a(" "+s(m.performanceStatus||"N/A"),1)],2)]),e("td",Ls,[e("span",{class:N(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",ie(m.status)])},[e("span",{class:N(["h-1.5 w-1.5 rounded-full mr-1.5",Ne(m.status)])},null,2),a(" "+s(m.status||"N/A"),1)],2)])]))),128))])])])):(n(),l("div",Ms,"No loan accounts available."))]),e("div",Is,[e("div",Rs,[Ps,i.enquiryHistory&&i.enquiryHistory.length>0?(n(),l("div",Es,[e("table",Hs,[Ws,e("tbody",null,[(n(!0),l(U,null,Q(i.enquiryHistory,(m,x)=>(n(),l("tr",{key:x,class:"border-b"},[e("td",Us,s(m.lender),1),e("td",zs,s(m.date),1)]))),128))])])])):(n(),l("div",js,"No enquiry history available."))]),e("div",Vs,[Gs,i.employmentHistory&&i.employmentHistory.length>0?(n(),l("div",Js,[w(F,{headers:B,items:i.employmentHistory,class:"elevation-1","fixed-header":"",height:"200"},{"item.date":g(({item:m})=>[a(s(m.date),1)]),_:1},8,["items"])])):(n(),l("div",Ks,"No employment history available."))])]),e("div",Qs,[Xs,i.addressHistory&&i.addressHistory.length>0?(n(),l("div",Zs,[e("div",eo,[e("table",to,[so,e("tbody",oo,[(n(!0),l(U,null,Q(i.addressHistory,(m,x)=>(n(),l("tr",{key:x},[e("td",no,s(m.address),1),e("td",lo,s(m.date),1)]))),128))])])])])):(n(),l("div",ao,"No address history available."))])]),i.idType!=="business"?(n(),l("div",ro,[io,i.creditPersonal&&Object.values(i.creditPersonal).some(m=>m&&m.toString().trim()!=="")?(n(),l("div",co,[e("div",null,[uo,e("p",mo,s(i.creditPersonal.Surname||"N/A"),1)]),e("div",null,[_o,e("p",yo,s(i.creditPersonal.Gender||"N/A"),1)]),e("div",null,[ho,e("p",po,s(i.creditPersonal.CellularNo||"N/A"),1)]),e("div",null,[go,e("p",fo,s(((I=i.creditPersonal)==null?void 0:I.address)||"N/A"),1)]),e("div",null,[bo,e("p",vo,s(i.creditPersonal.FirstName||"N/A"),1)]),e("div",null,[xo,e("p",Ao,s(i.creditPersonal.BankVerificationNo||"N/A"),1)]),e("div",null,[No,e("p",Do,s(i.creditPersonal.WorkTelephoneNo||"N/A"),1)]),e("div",null,[wo,e("p",$o,s(i.creditPersonal.OtherNames||"N/A"),1)]),e("div",null,[Co,e("p",ko,s(i.creditPersonal.BirthDate||"N/A"),1)]),e("div",null,[So,e("p",Yo,s(i.creditPersonal.HomeTelephoneNo||"N/A"),1)])])):(n(),l("div",To,"No personal data available."))])):(n(),l("div",Oo,[i.idType==="business"?(n(),l("div",qo,[Bo,e("div",Fo,[e("div",null,[Lo,e("p",Mo,s(z(i.creditRegistrybusinessName)),1)]),Io,Ro])])):ee("",!0),i.idType==="business"?(n(),l("div",Po,[Eo,i.creditDirectors.length>0?(n(),l("div",Ho,[e("table",Wo,[Uo,e("tbody",null,[(n(!0),l(U,null,Q(i.creditDirectors,(m,x)=>(n(),l("tr",{key:x},[e("td",zo,s(m.firstName),1),e("td",jo,s(m.otherNames),1),e("td",Vo,s(m.surname),1),e("td",Go,s(m.identificationNumber),1)]))),128))])])])):(n(),l("div",Jo,"No director information available."))])):ee("",!0)])),e("div",Ko,[Qo,e("div",Xo,[Zo,en,e("div",null,[tn,e("p",sn,s(i.creditRegistryTotalOpen||0),1)]),on,nn,e("div",null,[ln,e("p",an,s(i.creditRegistryTotalClosed||0),1)]),rn,dn,e("div",null,[cn,e("p",un,s(i.creditRegistryTotalWrittenOff||0),1)])])]),mn],512)}}},r=i=>(at("data-v-e8087b4d"),i=i(),rt(),i),yn={class:"mt-4 p-2 mx-auto space-y-6"},hn={key:0,class:"flex flex-col items-center justify-center min-h-[200px]"},pn=r(()=>e("span",{class:"mt-2 text-gray-600 text-sm"},"Loading credit report",-1)),gn={key:1,class:"relative flex flex-col items-center justify-center h-screen text-center"},fn=r(()=>e("button",{class:"m-2 flex items-center text-black text-lg font-normal"},[e("i",{class:"fas fa-circle-arrow-left mr-2 text-xl",style:{color:"#2563eb"}}),a(" Back ")],-1)),bn=r(()=>e("p",{class:"font-semibold"},"NO HIT RECORD",-1)),vn={key:2},xn=r(()=>e("button",{class:"m-2 flex items-center text-black text-lg font-normal"},[e("i",{class:"fas fa-circle-arrow-left mr-2 text-xl",style:{color:"#2563eb"}}),a(" Back ")],-1)),An={class:"mt- 4 flex justify-between items-center p-2"},Nn={class:"flex space-x-4"},Dn=["onClick"],wn=r(()=>e("i",{class:"fas fa-download mr-2"},null,-1)),$n={key:0},Cn={class:"bg-white p-6 rounded space-y-4"},kn=r(()=>e("h2",{class:"text-md font-semibold mb-4"},"Personal details summary",-1)),Sn={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-y-6 gap-x-8 text-sm text-gray-600"},Yn=r(()=>e("p",{class:"mb-1"},"Last Name",-1)),Tn={class:"font-bold text-gray-900"},On=r(()=>e("p",{class:"mb-1"},"Gender",-1)),qn={class:"font-bold text-gray-900"},Bn=r(()=>e("p",{class:"mb-1"},"Phone Number",-1)),Fn={class:"font-bold text-gray-900"},Ln=r(()=>e("p",{class:"mb-1"},"Latest Residential Address",-1)),Mn={class:"font-bold text-gray-900 leading-snug"},In=r(()=>e("p",{class:"mb-1"},"First Name",-1)),Rn={class:"font-bold text-gray-900"},Pn=r(()=>e("p",{class:"mb-1"},"Bank Verification Number",-1)),En={class:"font-bold text-gray-900"},Hn=r(()=>e("p",{class:"mb-1"},"Work Telephone",-1)),Wn={class:"font-bold text-gray-900"},Un=r(()=>e("p",{class:"mb-1"},"Other Names",-1)),zn={class:"font-bold text-gray-900"},jn=r(()=>e("p",{class:"mb-1"},"Date of Birth",-1)),Vn={class:"font-bold text-gray-900"},Gn=r(()=>e("p",{class:"mb-1"},"Home Telephone",-1)),Jn={class:"font-bold text-gray-900"},Kn={key:1,class:"text-gray-500 text-sm italic"},Qn={key:1},Xn={key:0,class:"bg-white p-6 rounded space-y-4"},Zn=r(()=>e("h2",{class:"text-md font-semibold"},"Business Information",-1)),el={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-6 gap-x-8 text-sm text-gray-600"},tl=r(()=>e("p",{class:"mb-1"},"Business Name",-1)),sl={class:"font-bold text-gray-900"},ol=r(()=>e("p",{class:"mb-1"},"Date of Incorporation",-1)),nl={class:"font-bold text-gray-900"},ll=r(()=>e("p",{class:"mb-1"},"Business Address",-1)),al={class:"font-bold text-gray-900"},rl={key:1,class:"bg-white p-6 rounded space-y-4 mt-4"},il=r(()=>e("h2",{class:"text-md font-semibold"},"Director Information",-1)),dl={key:0},cl={class:"min-w-full text-sm text-left"},ul=r(()=>e("thead",{class:"text-xs font-semibold text-gray-700"},[e("tr",null,[e("th",{class:""},"First Name"),e("th",{class:""},"Other Names"),e("th",{class:""},"Surname"),e("th",{class:""},"Identification Number")])],-1)),ml={class:"pt-4 font-bold text-gray-900"},_l={class:"font-bold text-gray-900"},yl={class:"font-bold text-gray-900"},hl={class:"font-bold text-gray-900"},pl={key:1,class:"text-sm text-gray-500 italic"},gl={class:"bg-white p-6 rounded-md mt-4"},fl=r(()=>e("h2",{class:"text-md font-semibold mb-6"},"Summary",-1)),bl={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-6 gap-x-8 text-sm text-gray-600"},vl=r(()=>e("p",{class:"mb-1"},"Total active monthly installment",-1)),xl={class:"font-bold text-gray-900"},Al=r(()=>e("p",{class:"mb-1"},"Total no of credit facilities",-1)),Nl={class:"font-bold text-gray-900"},Dl=r(()=>e("p",{class:"mb-1"},"Total no of open facilities",-1)),wl={class:"font-bold text-gray-900"},$l=r(()=>e("p",{class:"mb-1"},"Total arrear amount",-1)),Cl={class:"font-bold text-gray-900"},kl=r(()=>e("p",{class:"mb-1"},"Total outstanding debts",-1)),Sl={class:"font-bold text-gray-900"},Yl=r(()=>e("p",{class:"mb-1"},"Total no of closed credit facilities",-1)),Tl={class:"font-bold text-gray-900"},Ol=r(()=>e("p",{class:"mb-1"},"Total no of account in arrears",-1)),ql={class:"font-bold text-gray-900"},Bl=r(()=>e("p",{class:"mb-1"},"Total no of delinquent facilities",-1)),Fl={class:"font-bold text-gray-900"},Ll=r(()=>e("p",{class:"mb-1"},"Total no written off facilities",-1)),Ml={class:"font-bold text-gray-900"},Il={class:"bg-white p-6 rounded"},Rl=r(()=>e("h2",{class:"text-md font-semibold mb-4"},"Loan Accounts",-1)),Pl={key:0},El=["colspan"],Hl={class:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm"},Wl=r(()=>e("br",null,null,-1)),Ul=r(()=>e("br",null,null,-1)),zl={key:1,class:"text-sm text-gray-500 italic"},jl={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Vl={class:"bg-white rounded p-4"},Gl=r(()=>e("h2",{class:"font-semibold text-md mb-4"},"Enquiry History",-1)),Jl={key:0},Kl={class:"w-full text-sm text-left"},Ql=r(()=>e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{class:"p-2"},"Lender's Name"),e("th",{class:"p-2"},"Date Requested")])],-1)),Xl={class:"p-2"},Zl={class:"p-2"},ea={key:1,class:"text-sm text-gray-500 italic"},ta={class:"bg-white rounded p-4"},sa=r(()=>e("h2",{class:"font-semibold text-md mb-4"},"Employment History",-1)),oa={key:0},na={key:1,class:"text-sm text-gray-500 italic"},la={class:"bg-white rounded p-4"},aa=r(()=>e("h2",{class:"font-semibold text-md mb-4"},"Address History",-1)),ra={key:0},ia={class:"overflow-auto max-h-72 border rounded"},da={class:"min-w-full text-sm text-left"},ca=r(()=>e("thead",{class:"bg-gray-100 sticky top-0 z-10"},[e("tr",null,[e("th",{class:"p-3 font-medium text-gray-700"},"Address"),e("th",{class:"p-3 font-medium text-gray-700 w-40"},"Date Updated")])],-1)),ua={class:"divide-y divide-gray-200"},ma={class:"p-3 text-gray-800"},_a={class:"p-3 text-gray-800 w-40"},ya={key:1,class:"text-sm text-gray-500 italic"},ha={key:0,class:"bg-white p-6 rounded space-y-4"},pa=r(()=>e("h2",{class:"text-md font-semibold mb-4"},"Personal details summary",-1)),ga={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-y-6 gap-x-8 text-sm text-gray-600"},fa=r(()=>e("p",{class:"mb-1"},"Last Name",-1)),ba={class:"font-bold text-gray-900"},va=r(()=>e("p",{class:"mb-1"},"Gender",-1)),xa={class:"font-bold text-gray-900"},Aa=r(()=>e("p",{class:"mb-1"},"Phone Number",-1)),Na={class:"font-bold text-gray-900"},Da=r(()=>e("p",{class:"mb-1"},"Latest Residential Address",-1)),wa={class:"font-bold text-gray-900 leading-snug"},$a=r(()=>e("p",{class:"mb-1"},"First Name",-1)),Ca={class:"font-bold text-gray-900"},ka=r(()=>e("p",{class:"mb-1"},"Bank Verification Number",-1)),Sa={class:"font-bold text-gray-900"},Ya=r(()=>e("p",{class:"mb-1"},"Work Telephone",-1)),Ta={class:"font-bold text-gray-900"},Oa=r(()=>e("p",{class:"mb-1"},"Other Names",-1)),qa={class:"font-bold text-gray-900"},Ba=r(()=>e("p",{class:"mb-1"},"Date of Birth",-1)),Fa={class:"font-bold text-gray-900"},La=r(()=>e("p",{class:"mb-1"},"Home Telephone",-1)),Ma={class:"font-bold text-gray-900"},Ia={key:1,class:"text-gray-500 text-sm italic"},Ra={key:1},Pa={key:0,class:"bg-white p-6 rounded space-y-4"},Ea=r(()=>e("h2",{class:"text-md font-semibold"},"Business Information",-1)),Ha={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-6 gap-x-8 text-sm text-gray-600"},Wa=r(()=>e("p",{class:"mb-1"},"Business Name",-1)),Ua={class:"font-bold text-gray-900"},za=r(()=>e("div",null,[e("p",{class:"mb-1"},"Date of Incorporation"),e("p",{class:"font-bold text-gray-900"},"N/A")],-1)),ja=r(()=>e("div",null,[e("p",{class:"mb-1"},"Business Address"),e("p",{class:"font-bold text-gray-900"},"N/A")],-1)),Va={key:1,class:"bg-white p-6 rounded space-y-4 mt-4"},Ga=r(()=>e("h2",{class:"text-md font-semibold"},"Director Information",-1)),Ja={key:0},Ka={class:"min-w-full text-sm text-left"},Qa=r(()=>e("thead",{class:"text-xs font-semibold text-gray-700"},[e("tr",null,[e("th",{class:""},"First Name"),e("th",{class:""},"Other Names"),e("th",{class:""},"Surname"),e("th",{class:""},"Identification Number")])],-1)),Xa={class:"py-2"},Za={class:"py-2"},er={class:"py-2"},tr={class:"py-2"},sr={key:1,class:"text-sm text-gray-500 italic"},or={class:"bg-white p-6 rounded-md mt-4"},nr=r(()=>e("h2",{class:"text-md font-semibold mb-6"},"Summary",-1)),lr={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-6 gap-x-8 text-sm text-gray-600"},ar=r(()=>e("div",null,[e("p",{class:"mb-1"},"Total active monthly installment"),e("p",{class:"font-bold text-gray-900"},"N/A")],-1)),rr=r(()=>e("div",null,[e("p",{class:"mb-1"},"Total no of credit facilities"),e("p",{class:"font-bold text-gray-900"},"N/A")],-1)),ir=r(()=>e("p",{class:"mb-1"},"Total no of open facilities",-1)),dr={class:"font-bold text-gray-900"},cr=r(()=>e("div",null,[e("p",{class:"mb-1"},"Total arrear amount"),e("p",{class:"font-bold text-gray-900"},"N/A")],-1)),ur=r(()=>e("div",null,[e("p",{class:"mb-1"},"Total outstanding debts"),e("p",{class:"font-bold text-gray-900"},"N/A")],-1)),mr=r(()=>e("p",{class:"mb-1"},"Total no of closed credit facilities",-1)),_r={class:"font-bold text-gray-900"},yr=r(()=>e("div",null,[e("p",{class:"mb-1"},"Total no of account in arrears"),e("p",{class:"font-bold text-gray-900"},"N/A")],-1)),hr=r(()=>e("div",null,[e("p",{class:"mb-1"},"Total no of delinquent facilities"),e("p",{class:"font-bold text-gray-900"},"N/A")],-1)),pr=r(()=>e("p",{class:"mb-1"},"Total no written off facilities",-1)),gr={class:"font-bold text-gray-900"},fr={class:"bg-white p-6 rounded"},br=r(()=>e("h2",{class:"text-md font-semibold mb-4"},"Performing Accounts",-1)),vr={key:0},xr=["colspan"],Ar={class:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm"},Nr=r(()=>e("br",null,null,-1)),Dr=r(()=>e("br",null,null,-1)),wr={key:1,class:"text-sm text-gray-500 italic"},$r={class:"bg-white p-6 rounded-md shadow"},Cr=r(()=>e("h2",{class:"text-md font-semibold mb-4"},"Deliquents Accounts",-1)),kr={key:0},Sr=["colspan"],Yr={class:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm"},Tr=r(()=>e("br",null,null,-1)),Or=r(()=>e("br",null,null,-1)),qr={key:1,class:"text-sm text-gray-500 italic"},Br={class:"bg-white p-6 rounded-md shadow"},Fr=r(()=>e("h2",{class:"text-md font-semibold mb-4"},"Closed Accounts",-1)),Lr={key:0},Mr=["colspan"],Ir={class:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm"},Rr=r(()=>e("br",null,null,-1)),Pr=r(()=>e("br",null,null,-1)),Er={key:1,class:"text-sm text-gray-500 italic"},Hr={class:"bg-white p-6 rounded mb-6"},Wr=r(()=>e("h2",{class:"text-md font-semibold mb-4"},"Written Off Accounts",-1)),Ur={key:0},zr=["colspan"],jr={class:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm"},Vr=r(()=>e("br",null,null,-1)),Gr=r(()=>e("br",null,null,-1)),Jr={key:1,class:"text-sm text-gray-500 italic"},Kr={class:"bg-white p-6 rounded mb-6"},Qr=r(()=>e("h2",{class:"text-md font-semibold mb-4"},"Unknown Accounts Status",-1)),Xr={key:0},Zr=["colspan"],ei={class:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm"},ti=r(()=>e("br",null,null,-1)),si=r(()=>e("br",null,null,-1)),oi={key:1,class:"text-sm text-gray-500 italic"},ni={class:"bg-white p-6 rounded mb-6"},li=r(()=>e("h2",{class:"text-md font-semibold mb-4"},"Inquiry History",-1)),ai={key:0},ri={class:"min-w-full text-left"},ii=r(()=>e("thead",null,[e("tr",{class:"bg-gray-100 text-sm"},[e("th",{class:"p-2"},"Subscriber Name"),e("th",{class:"p-2"},"Inquiry Date"),e("th",{class:"p-2"},"Contact Phone"),e("th",{class:"p-2"},"Inquiry Reason")])],-1)),di={class:"p-2"},ci={class:"p-2"},ui={class:"p-2"},mi={class:"p-2"},_i={key:1,class:"text-sm text-gray-500 italic"},yi={class:"hidden"},hi={__name:"CreditReport",setup(i){const Ae=Ze(),q=D("first_central"),z=D(!1),ie=et(),Ne=Ae.params.hitRecord==="true",ke=[{key:"first_central",label:"First Central"},{key:"credit_registry",label:"Credit Registry"}],B=D(""),T=D({}),k=D({}),A=D([]),Y=D([]),F=D([]),I=D([]),m=D([]),x=D([]),E=D([]),H=D([]),X=D([]),ne=D([]),le=D([]),ae=D({}),be=D([]),L=D({Surname:"",FirstName:"",OtherNames:"",Gender:"",BirthDate:"",BankVerificationNo:"",WorkTelephoneNo:"",HomeTelephoneNo:"",CellularNo:"",ResidentialAddress1:""}),Se=D(""),ce=D([]),ue=D(0),me=D(0),_e=D(0);function G(h){if(!h)return"â‚¦0.00";const b=parseFloat(String(h).replace(/,/g,"").trim());return new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:2}).format(isNaN(b)?0:b)}function Ye(h){console.log("Raw amount:",h,"Type:",typeof h);const b=Number(h);if(isNaN(b))return console.warn("âš ï¸ formatNaira: Value is not a valid number:",h),h;const W=new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:2}).format(b);return console.log("Formatted amount:",W),W}function We(h){if(!h||h.trim()==="")return"grey";const b=h.toLowerCase().trim();return b==="closed"?"green":b==="open"?"red":b==="paid up"?"blue":"grey"}const Ue=h=>{if(Array.isArray(h))return h;const b=[];for(const W in h)isNaN(Number(W))||b.push(h[W]);return b},ze=h=>{const b={};for(const W of h)for(const de in W)Object.hasOwn(W,de)&&(b[de]=W[de]);return b};function y(h){return h&&h.trim()!==""?h:"N/A"}const je=async h=>{var oe,Z,J,o,v,R,P,K,Ie,Re;const b=localStorage.getItem("data")?JSON.parse(localStorage.getItem("data")):null,W=b?b==null?void 0:b.token:(oe=He(()=>ie.token))==null?void 0:oe.value,se=`https://dev02201.getjupita.com
/api/${b?(Z=b.user)!=null&&Z.business_name?(J=b.user)==null?void 0:J.id:(o=b.user)==null?void 0:o.tenant_id:(v=He(()=>{var ve;return(ve=ie.user)!=null&&ve.business_name?ie.user.id:ie.user.tenant_id}))==null?void 0:v.value}/get-credit-check-key?unique_key=${h}`;z.value=!0;try{const we=(await lt.get(se,{headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"}})).data.data,M=we==null?void 0:we.credit_history;B.value=M==null?void 0:M.id_type,console.log("ðŸ“Œ idType",B.value),console.log("ðŸŸ¢ Full Report:",we);const xe=M==null?void 0:M.fcbc_credit_history;if(xe){console.log("âœ… FCBC (array)Data:",xe),console.log("ðŸ” typeof rawFcbc:",typeof xe),console.log("ðŸ” Fcbc isArray:",Array.isArray(xe));const C=Ue(xe);console.log("ðŸ” Normalized FCBC:",C);const u=ze(C);if(console.log("âœ… Merged FCBC Object:",u),B.value==="business"){let t=function(c){return c==null||c===""?"N/A":c};const d=(u==null?void 0:u.BusinessData)||[],$=(u==null?void 0:u.DirectorInformation)||[];ae.value=d[0]||{},be.value=$,console.log("âœ…FCBC BusinessData:",ae.value),console.log("âœ…FCBC Directors:",be.value);const re=(u==null?void 0:u.CreditAgreementSummary)??[];A.value=re.map((c,O)=>({uid:`${c.AccountNo||"acc"}-${O}`,lender:t(c.SubscriberName),date:c.DateAccountOpened?p(c.DateAccountOpened).format("DD/MM/YYYY"):"N/A",amount:G(c.OpeningBalanceAmt??0),balance:G(c.CurrentBalanceAmt??0),status:t(c.AccountStatus),accountNo:t(c.AccountNo),closedDate:c.ClosedDate?p(c.ClosedDate).format("DD/MM/YYYY"):"N/A",duration:t(c.LoanDuration),repaymentFrequency:t(c.RepaymentFrequency),overdue:G(c.AmountOverdue??0),instalment:G(c.InstalmentAmount??0),performanceStatus:t(c.PerformanceStatus),currency:t(c.Currency)})),console.log("âœ…FCBC Credit Agreement Summary:",A.value);const pe=u==null?void 0:u.FacilityPerformanceSummary;k.value=Array.isArray(pe)&&pe.length>0?pe[0]:{};const ge=A.value.filter(c=>{var O;return((O=c.status)==null?void 0:O.toLowerCase())==="open"}).length,$e=A.value.filter(c=>{var O;return((O=c.status)==null?void 0:O.toLowerCase())==="closed"}).length,Ce=A.value.filter(c=>{var O;return((O=c.performanceStatus)==null?void 0:O.toLowerCase())==="written-off"}).length;k.value.TotalOpenFacilities=ge,k.value.TotalClosedFacilities=$e,k.value.TotalWrittenOffFacilities=Ce,console.log("âœ…FCBC Summary (Business):",k.value),console.log("Open:",ge,"Closed:",$e,"Written-off:",Ce);const Te=(u==null?void 0:u.EnquiryHistoryTop)??[];Y.value=Te.filter(c=>{var O,Ee;return((O=c.SubscriberName)==null?void 0:O.trim())&&((Ee=c.DateRequested)==null?void 0:Ee.trim())}).map(c=>({lender:c.SubscriberName.trim(),date:p(c.DateRequested).format("DD/MM/YYYY"),rawDate:p(c.LastUpdatedDate)})),console.log("âœ… FCBC Enquiry History (cleaned):",Y.value);const _=(u==null?void 0:u.EmploymentHistory)??[];F.value=_.filter(c=>c.EmployerDetail&&c.EmployerDetail.trim()!=="").map(c=>({employerName:c.EmployerDetail,date:c.UpdateDate&&c.UpdateDate.trim()!==""?p(c.UpdateDate).format("DD/MM/YYYY"):"N/A",rawDate:c.UpdateDate&&c.UpdateDate.trim()!==""?p(c.UpdateDate):null})),console.log("âœ…FCBC Employment History:",F.value);const S=(u==null?void 0:u.AddressHistory)??[];I.value=S.map(c=>({address:[c.CommercialAddress1,c.CommercialAddress2,c.CommercialAddress3,c.CommercialAddress4].map(O=>O==null?void 0:O.trim()).filter(O=>O).join(", "),date:c.UpDateOnDate||""})),console.log("âœ…FCBC Address History:",I.value)}else if(B.value==="individual"){const t=(u==null?void 0:u.CreditAgreementSummary)??[];A.value=t.map((_,S)=>({uid:`${_.AccountNo||"acc"}-${S}`,lender:_.SubscriberName,date:p(_.DateAccountOpened).format("DD/MM/YYYY"),amount:G(_.OpeningBalanceAmt??"0"),balance:G(_.CurrentBalanceAmt??"0"),status:_.AccountStatus,accountNo:_.AccountNo,closedDate:p(_.ClosedDate).format("DD/MM/YYYY"),duration:_.LoanDuration,repaymentFrequency:_.RepaymentFrequency,overdue:G(_.AmountOverdue),instalment:G(_.InstalmentAmount),performanceStatus:_.PerformanceStatus,currency:_.Currency})),console.log("âœ…FCBC Credit Agreement Summary (Individual):",A.value);const d=u==null?void 0:u.CreditAccountSummary;k.value=Array.isArray(d)&&d.length>0?d[0]:{};const $=A.value.filter(_=>{var S;return((S=_.status)==null?void 0:S.toLowerCase())==="open"}).length,re=A.value.filter(_=>{var S;return((S=_.status)==null?void 0:S.toLowerCase())==="closed"}).length,pe=A.value.filter(_=>{var S;return((S=_.performanceStatus)==null?void 0:S.toLowerCase())==="written-off"}).length;k.value.TotalOpenFacilities=$,k.value.TotalClosedFacilities=re,k.value.TotalWrittenOffFacilities=pe,console.log("âœ…FCBC Summary (Individual):",k.value),console.log("Open:",$,"Closed:",re,"Written-off:",pe);const ge=(u==null?void 0:u.PersonalDetailsSummary)??[];T.value=Array.isArray(ge)&&ge.length>0?ge[0]:{},console.log("âœ… FCBC Personal Details (Individual):",T.value);const $e=(u==null?void 0:u.EnquiryHistoryTop)??[];Y.value=$e.filter(_=>{var S,c;return((S=_.SubscriberName)==null?void 0:S.trim())&&((c=_.DateRequested)==null?void 0:c.trim())}).map(_=>({lender:_.SubscriberName.trim(),date:p(_.DateRequested).format("DD/MM/YYYY"),rawDate:p(_.LastUpdatedDate)})),console.log("âœ… FCBC Enquiry History (Individual):",Y.value);const Ce=(u==null?void 0:u.EmploymentHistory)??[];F.value=Ce.filter(_=>_.EmployerDetail&&_.EmployerDetail.trim()!=="").map(_=>({employerName:_.EmployerDetail,date:_.UpdateDate&&_.UpdateDate.trim()!==""?p(_.UpdateDate).format("DD/MM/YYYY"):"N/A",rawDate:_.UpdateDate&&_.UpdateDate.trim()!==""?p(_.UpdateDate):null})),console.log("âœ…FCBC Employment History (Individual):",F.value);const Te=(u==null?void 0:u.AddressHistory)??[];I.value=Te.map(_=>({address:[_.CommercialAddress1,_.CommercialAddress2,_.CommercialAddress3,_.CommercialAddress4].map(S=>S==null?void 0:S.trim()).filter(S=>S).join(", "),date:_.UpDateOnDate||""})),console.log("âœ…FCBC Address History (Individual):",I.value)}}else console.warn("âš ï¸ No FCBC credit history found");const f=(R=M==null?void 0:M.credit_registry_history)==null?void 0:R.AccountData,Pe=(P=M==null?void 0:M.credit_registry_history)==null?void 0:P.PersonalDetail;if(console.log("ðŸŸ  Credit Registry AccountData:",f),console.log("ðŸŸ  Credit Registry PersonalDetail:",Pe),!f){console.warn("âš ï¸ No Credit Registry data found");return}if(B.value==="business"){const C=Pe;if(C&&C.Name&&((K=C.IDs)!=null&&K.length)){const t=C.Name.trim().split(" "),d=t[t.length-1],$=t[0],re=t.slice(1,t.length-1).join(" ");ce.value=[{firstName:$,otherNames:re,surname:d,identificationNumber:C.IDs.join(" | ")}],console.log("credit registry directors:",ce.value)}else ce.value=[];const u=f==null?void 0:f.PerformingAccounts;if(Array.isArray(f.PerformingAccounts)){const t=(Ie=u[0])==null?void 0:Ie.Account_Owners,d=Array.isArray(t)&&t.length>0?t[0].FullName:null;Se.value=t,m.value=f.PerformingAccounts.map(($,re)=>({uid:`${$.Account_No||"acc"}-${re}`,lender:$.CreditorName,date:p($.Date_Opened).format("DD/MM/YYYY"),amount:$.Credit_Limit||0,balance:$.Balance||0,status:$.Account_Status||"Performing",raw:$,accountNo:$.Account_No,closedDate:p($.Balance_Date).format("DD/MM/YYYY"),duration:$.Term,repaymentFrequency:$.Term_Frequency,overdue:$.AmountOverdue,instalment:$.Minimum_Installment,performanceStatus:$.Account_Status,currency:$.Currency})),console.log("âœ… Credit Registry Performing Accounts:",m.value)}else console.warn("âš ï¸ No PerformingAccounts found");Array.isArray(u)?(ue.value=u.filter(t=>{var d;return((d=t.status)==null?void 0:d.toLowerCase())==="open"}).length,me.value=u.filter(t=>{var d;return((d=t.status)==null?void 0:d.toLowerCase())==="closed"}).length,_e.value=u.filter(t=>{var d;return((d=t.performanceStatus)==null?void 0:d.toLowerCase())==="written-off"}).length):console.warn("âš ï¸ No PerformingAccounts found in Credit Registry"),console.log("Open:",ue,"Closed:",me,"Written-off:",_e),Array.isArray(f.DelinquentAccounts)?(x.value=f.DelinquentAccounts.map((t,d)=>({uid:`${t.Account_No||"acc"}-${d}`,lender:t.CreditorName,date:p(t.Date_Opened).format("DD/MM/YYYY"),amount:t.Credit_Limit||0,balance:t.Balance||0,status:t.Account_Status||"Delinquent",raw:t,accountNo:t.Account_No,closedDate:p(t.Balance_Date).format("DD/MM/YYYY"),duration:t.Term,repaymentFrequency:t.Term_Frequency,overdue:t.AmountOverdue,instalment:t.Minimum_Installment,performanceStatus:t.Account_Status,currency:t.Currency})),console.log("âœ… Credit Registry Delinquent Accounts:",x.value)):console.warn("âš ï¸ No DelinquentAccounts found"),Array.isArray(f.ClosedAccounts)?(E.value=f.ClosedAccounts.map((t,d)=>({uid:`${t.Account_No||"acc"}-${d}`,lender:t.CreditorName,date:p(t.Date_Opened).format("DD/MM/YYYY"),amount:t.Credit_Limit||0,balance:t.Balance||0,status:t.Account_Status||"Closed",raw:t,accountNo:t.Account_No,closedDate:p(t.Balance_Date).format("DD/MM/YYYY"),duration:t.Term,repaymentFrequency:t.Term_Frequency,overdue:t.AmountOverdue,instalment:t.Minimum_Installment,performanceStatus:t.Account_Status,currency:t.Currency})),console.log("âœ… Credit Registry Closed Accounts:",E.value)):console.warn("âš ï¸ No ClosedAccounts found"),Array.isArray(f.DerogatoryAccounts)?(H.value=f.DerogatoryAccounts.map((t,d)=>({uid:`${t.Account_No||"acc"}-${d}`,lender:t.CreditorName,date:p(t.Date_Opened).format("DD/MM/YYYY"),amount:t.Credit_Limit||0,balance:t.Balance||0,status:t.Account_Status||"Derogatory",raw:t,accountNo:t.Account_No,closedDate:p(t.Balance_Date).format("DD/MM/YYYY"),duration:t.Term,repaymentFrequency:t.Term_Frequency,overdue:t.AmountOverdue,instalment:t.Minimum_Installment,performanceStatus:t.Account_Status,currency:t.Currency})),console.log("âœ… Credit Registry Derogatory Accounts:",H.value)):console.warn("âš ï¸ No DerogatoryAccounts found"),Array.isArray(f.WrittenOffAccounts)?(X.value=f.WrittenOffAccounts.map((t,d)=>({uid:`${t.Account_No||"acc"}-${d}`,lender:t.CreditorName,date:p(t.Date_Opened).format("DD/MM/YYYY"),amount:t.Credit_Limit||0,balance:t.Balance||0,status:t.Account_Status||"Written off",raw:t,accountNo:t.Account_No,closedDate:p(t.Balance_Date).format("DD/MM/YYYY"),duration:t.Term,repaymentFrequency:t.Term_Frequency,overdue:t.AmountOverdue,instalment:t.Minimum_Installment,performanceStatus:t.Account_Status,currency:t.Currency})),console.log("âœ… Credit Registry Written Off Accounts:",X.value)):console.warn("âš ï¸ No WrittenOffAccounts found"),Array.isArray(f.unknownAccounts)?(ne.value=f.unknownAccounts.map((t,d)=>({uid:`${t.Account_No||"acc"}-${d}`,lender:t.CreditorName,date:p(t.Date_Opened).format("DD/MM/YYYY"),amount:t.Credit_Limit||0,balance:t.Balance||0,status:t.Account_Status||"Unknown",raw:t,accountNo:t.Account_No,closedDate:p(t.Balance_Date).format("DD/MM/YYYY"),duration:t.Term,repaymentFrequency:t.Term_Frequency,overdue:t.AmountOverdue,instalment:t.Minimum_Installment,performanceStatus:t.Account_Status,currency:t.Currency})),console.log("âœ… Credit Registry Unknown Status Accounts:",ne.value)):console.warn("âš ï¸ No unknownAccounts found"),Array.isArray(f.InquiryHistory)?(le.value=f.InquiryHistory.map((t,d)=>({uid:`inq-${d}`,subscriber:t.Subscriber||"Unknown",date:p(t.InquiryDate).format("DD/MM/YYYY"),phone:t.ContactPhone||"N/A",reason:t.Reason||"N/A",raw:t})),console.log("âœ… Credit Registry Inquiry History:",le.value)):console.warn("âš ï¸ No InquiryHistory found")}else if(B.value==="individual"){const C=(Re=M==null?void 0:M.credit_registry_history)==null?void 0:Re.PersonalDetail;if(C){const[t="",d="",$=""]=(C.Name||"").trim().split(/\s+/);L.value={Surname:t,FirstName:d,OtherNames:$,Gender:C.Gender||"",BirthDate:C.DOBI?p(C.DOBI).format("DD/MM/YYYY"):"",BankVerificationNo:"",WorkTelephoneNo:Array.isArray(C.PhoneNumbers)&&C.PhoneNumbers[1]||"",HomeTelephoneNo:Array.isArray(C.PhoneNumbers)&&C.PhoneNumbers[1]||"",CellularNo:Array.isArray(C.PhoneNumbers)&&C.PhoneNumbers[0]||"",ResidentialAddress1:C==null?void 0:C.Address},console.log("credit registry personal:",L.value)}const u=f==null?void 0:f.PerformingAccounts;Array.isArray(f.PerformingAccounts)?(m.value=f.PerformingAccounts.map((t,d)=>({uid:`${t.Account_No||"acc"}-${d}`,lender:t.CreditorName,date:p(t.Date_Opened).format("DD/MM/YYYY"),amount:Ye(t.Credit_Limit||0),balance:t.Balance||0,status:t.Account_Status||"Performing",raw:t,accountNo:t.Account_No,closedDate:p(t.Balance_Date).format("DD/MM/YYYY"),duration:t.Term,repaymentFrequency:t.RepaymentFrequency,overdue:t.AmountOverdue,instalment:t.Minimum_Installment,performanceStatus:t.Account_Status,currency:t.Currency})),console.log("âœ… Credit Registry Performing Accounts:",m.value)):console.warn("âš ï¸ No PerformingAccounts found"),Array.isArray(u)?(ue.value=u.filter(t=>{var d;return((d=t.status)==null?void 0:d.toLowerCase())==="open"}).length,me.value=u.filter(t=>{var d;return((d=t.status)==null?void 0:d.toLowerCase())==="closed"}).length,_e.value=u.filter(t=>{var d;return((d=t.performanceStatus)==null?void 0:d.toLowerCase())==="written-off"}).length):console.warn("âš ï¸ No PerformingAccounts found in Credit Registry"),console.log("Open:",ue,"Closed:",me,"Written-off:",_e),Array.isArray(f.DelinquentAccounts)?(x.value=f.DelinquentAccounts.map((t,d)=>({uid:`${t.Account_No||"acc"}-${d}`,lender:t.CreditorName,date:p(t.Date_Opened).format("DD/MM/YYYY"),amount:t.Credit_Limit||0,balance:t.Balance||0,status:t.Account_Status||"Delinquent",raw:t,accountNo:t.Account_No,closedDate:p(t.Balance_Date).format("DD/MM/YYYY"),duration:t.Term,repaymentFrequency:t.Term_Frequency,overdue:t.AmountOverdue,instalment:t.Minimum_Installment,performanceStatus:t.Account_Status,currency:t.Currency})),console.log("âœ… Credit Registry Delinquent Accounts:",x.value)):console.warn("âš ï¸ No DelinquentAccounts found"),Array.isArray(f.ClosedAccounts)?(E.value=f.ClosedAccounts.map((t,d)=>({uid:`${t.Account_No||"acc"}-${d}`,lender:t.CreditorName,date:p(t.Date_Opened).format("DD/MM/YYYY"),amount:t.Credit_Limit||0,balance:t.Balance||0,status:t.Account_Status||"Closed",raw:t,accountNo:t.Account_No,closedDate:p(t.Balance_Date).format("DD/MM/YYYY"),duration:t.Term,repaymentFrequency:t.Term_Frequency,overdue:t.AmountOverdue,instalment:t.Minimum_Installment,performanceStatus:t.Account_Status,currency:t.Currency})),console.log("âœ… Credit Registry Closed Accounts:",E.value)):console.warn("âš ï¸ No ClosedAccounts found"),Array.isArray(f.DerogatoryAccounts)?(H.value=f.DerogatoryAccounts.map((t,d)=>({uid:`${t.Account_No||"acc"}-${d}`,lender:t.CreditorName,date:p(t.Date_Opened).format("DD/MM/YYYY"),amount:t.Credit_Limit||0,balance:t.Balance||0,status:t.Account_Status||"Closed",raw:t,accountNo:t.Account_No,closedDate:p(t.Balance_Date).format("DD/MM/YYYY"),duration:t.Term,repaymentFrequency:t.Term_Frequency,overdue:t.AmountOverdue,instalment:t.Minimum_Installment,performanceStatus:t.Account_Status,currency:t.Currency})),console.log("âœ… Credit Registry Derogatory Accounts:",H.value)):console.warn("âš ï¸ No DerogatoryAccounts found"),Array.isArray(f.WrittenOffAccounts)?(X.value=f.WrittenOffAccounts.map((t,d)=>({uid:`${t.Account_No||"acc"}-${d}`,lender:t.CreditorName,date:p(t.Date_Opened).format("DD/MM/YYYY"),amount:t.Credit_Limit||0,balance:t.Balance||0,status:t.Account_Status||"Written off",raw:t,accountNo:t.Account_No,closedDate:p(t.Balance_Date).format("DD/MM/YYYY"),duration:t.Term,repaymentFrequency:t.Term_Frequency,overdue:t.AmountOverdue,instalment:t.Minimum_Installment,performanceStatus:t.Account_Status,currency:t.Currency})),console.log("âœ… Credit Registry Written Off Accounts:",X.value)):console.warn("âš ï¸ No WrittenOffAccounts found"),Array.isArray(f.unknownAccounts)?(ne.value=f.unknownAccounts.map((t,d)=>({uid:`${t.Account_No||"acc"}-${d}`,lender:t.CreditorName,date:p(t.Date_Opened).format("DD/MM/YYYY"),amount:t.Credit_Limit||0,balance:t.Balance||0,status:t.Account_Status||"Unknown",raw:t,accountNo:t.Account_No,closedDate:p(t.Balance_Date).format("DD/MM/YYYY"),duration:t.Term,repaymentFrequency:t.Term_Frequency,overdue:t.AmountOverdue,instalment:t.Minimum_Installment,performanceStatus:t.Account_Status,currency:t.Currency})),console.log("âœ… Credit Registry Unknown Status Accounts:",ne.value)):console.warn("âš ï¸ No unknownAccounts found"),Array.isArray(f.InquiryHistory)?(le.value=f.InquiryHistory.map((t,d)=>({uid:`inq-${d}`,subscriber:t.Subscriber||"Unknown",date:p(t.InquiryDate).format("DD/MM/YYYY"),phone:t.ContactPhone||"N/A",reason:t.Reason||"N/A",raw:t})),console.log("âœ… Credit Registry Inquiry History:",le.value)):console.warn("âš ï¸ No InquiryHistory found")}}catch(ve){console.log("âŒ Error fetching credit report:",ve)}finally{z.value=!1}},te=D([]),ye=h=>{te.value=te.value.includes(h)?[]:[h]},he=h=>te.value.includes(h),De=[{title:"Lender's Name",key:"lender"},{title:"Disbursement Date",key:"date"},{title:"Loan Amount",value:"amount"},{title:"Loan Balance",key:"balance"},{title:"Status",key:"status"},{title:"Action",key:"action",sortable:!1}],Ve=[{title:"Employer Name",key:"employerName"},{title:"Date Updated",key:"date"}],qe=[{title:"Lender's Name",key:"lender"},{title:"Disbursement Date",key:"date"},{title:"Loan Amount",key:"amount"},{title:"Loan Balance",key:"balance"},{title:"Action",key:"action",sortable:!1}],Be=[{title:"Lender's Name",key:"lender"},{title:"Disbursement Date",key:"date"},{title:"Loan Amount",key:"amount"},{title:"Loan Balance",key:"balance"},{title:"Action",key:"action",sortable:!1}],Fe=[{title:"Lender's Name",key:"lender"},{title:"Disbursement Date",key:"date"},{title:"Loan Amount",key:"amount"},{title:"Loan Balance",key:"balance"},{title:"Action",key:"action",sortable:!1}],Le=[{title:"Lender's Name",key:"lender"},{title:"Disbursement Date",key:"date"},{title:"Loan Amount",key:"amount"},{title:"Loan Balance",key:"balance"},{title:"Action",key:"action",sortable:!1}],Me=D(null);tt(()=>{const h=Ae.params.unique_key;h?je(h):(console.warn("âŒ Invalid unique key from route"),z.value=!1)});function j(h){if(!h)return"bg-gray-200 text-gray-700";const b=h.toLowerCase();return b==="closed"||b==="performing"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}function V(h){if(!h)return"bg-gray-500";const b=h.toLowerCase();return b==="closed"||b==="performing"?"bg-green-600":"bg-red-600"}return(h,b)=>{const W=fe("v-progress-circular"),de=fe("RouterLink"),se=fe("v-btn"),oe=fe("v-chip"),Z=fe("v-data-table");return n(),st(nt,null,{default:g(()=>[e("div",yn,[z.value?(n(),l("div",hn,[w(W,{indeterminate:"",color:"#1f5aa3",size:"80",width:"8"}),pn])):Ne?(n(),l("div",gn,[w(de,{to:"/credit-search",class:"absolute top-4 left-4"},{default:g(()=>[fn]),_:1}),bn])):(n(),l("div",vn,[w(de,{to:"/credit-search"},{default:g(()=>[xn]),_:1}),e("div",An,[e("div",Nn,[(n(),l(U,null,Q(ke,J=>e("button",{key:J.key,onClick:o=>q.value=J.key,class:N([q.value===J.key?"bg-blue-600 text-white":"bg-white text-black","px-4 py-2 rounded transition text-sm"])},s(J.label),11,Dn)),64))]),e("div",null,[w(se,{onClick:b[0]||(b[0]=J=>{var o;return(o=Me.value)==null?void 0:o.exportPDF()}),"no-uppercase":"",size:"small",class:"normal-case p-4 bg-blue-600 hover:bg-blue-700 text-white text-none custom-btn"},{default:g(()=>[wn,a(" Export PDF ")]),_:1})])]),w(ot,{name:"fade",mode:"out-in"},{default:g(()=>{var J;return[z.value?ee("",!0):(n(),l("div",{key:q.value,class:"space-y-6"},[q.value==="first_central"?(n(),l(U,{key:0},[B.value!=="business"?(n(),l("div",$n,[e("div",Cn,[kn,T.value&&Object.keys(T.value).length>0?(n(),l("div",Sn,[e("div",null,[Yn,e("p",Tn,s(T.value.Surname),1)]),e("div",null,[On,e("p",qn,s(T.value.Gender),1)]),e("div",null,[Bn,e("p",Fn,s(T.value.CellularNo),1)]),e("div",null,[Ln,e("p",Mn,s(T.value.ResidentialAddress1),1)]),e("div",null,[In,e("p",Rn,s(T.value.FirstName),1)]),e("div",null,[Pn,e("p",En,s(T.value.BankVerificationNo),1)]),e("div",null,[Hn,e("p",Wn,s(T.value.WorkTelephoneNo),1)]),e("div",null,[Un,e("p",zn,s(T.value.OtherNames),1)]),e("div",null,[jn,e("p",Vn,s(T.value.BirthDate),1)]),e("div",null,[Gn,e("p",Jn,s(T.value.HomeTelephoneNo),1)])])):(n(),l("div",Kn,"No personal data available."))])])):(n(),l("div",Qn,[B.value==="business"?(n(),l("div",Xn,[Zn,e("div",el,[e("div",null,[tl,e("p",sl,s(y(ae.value.BusinessName)),1)]),e("div",null,[ol,e("p",nl,s(y(ae.value.DateOfIncorporation)),1)]),e("div",null,[ll,e("p",al,s(y(ae.value.CommercialAddress1))+", "+s(y(ae.value.CommercialAddress2))+", "+s(y(ae.value.CommercialAddress4)),1)])])])):ee("",!0),B.value==="business"?(n(),l("div",rl,[il,be.value.length>0?(n(),l("div",dl,[e("table",cl,[ul,e("tbody",null,[(n(!0),l(U,null,Q(be.value,(o,v)=>(n(),l("tr",{key:v},[e("td",ml,s(y(o.firstName)),1),e("td",_l,s(y(o.othernames)),1),e("td",yl,s(y(o.surname)),1),e("td",hl,s(y(o.Identificationnumber)),1)]))),128))])])])):(n(),l("div",pl," No director information available. "))])):ee("",!0)])),e("div",gl,[fl,e("div",bl,[e("div",null,[vl,e("p",xl,s(G(k.value.TotalMonthlyInstalment||0)),1)]),e("div",null,[Al,e("p",Nl,s(k.value.TotalAccounts||0),1)]),e("div",null,[Dl,e("p",wl,s(k.value.totalOpen||0),1)]),e("div",null,[$l,e("p",Cl,s(k.value.Amountarrear||0),1)]),e("div",null,[kl,e("p",Sl,s(G(k.value.TotalOutstandingdebt)||0),1)]),e("div",null,[Yl,e("p",Tl,s(k.value.totalClosed||0),1)]),e("div",null,[Ol,e("p",ql,s(k.value.TotalAccountarrear||0),1)]),e("div",null,[Bl,e("p",Fl,s(k.value.TotalaccountinBadcondition||0),1)]),e("div",null,[Ll,e("p",Ml,s(k.value.totalWrittenOff||0),1)])])]),e("div",Il,[Rl,A.value&&A.value.length>0?(n(),l("div",Pl,[w(Z,{headers:De,items:A.value,"item-value":"uid",expanded:te.value,class:"elevation-1","fixed-header":"",height:"400","hide-default-footer":""},{"item.status":g(({item:o})=>[w(oe,{color:We(o.status),variant:"tonal",size:"small",class:"text-white"},{default:g(()=>{var v;return[a(s(((v=o.status)==null?void 0:v.trim())||"Unknown"),1)]}),_:2},1032,["color"])]),"item.action":g(({item:o})=>[w(se,{size:"small",color:"primary",onClick:v=>ye(o.uid)},{default:g(()=>[a(s(he(o.uid)?"Hide":"View"),1)]),_:2},1032,["onClick"])]),"expanded-row":g(({item:o})=>[e("td",{colspan:De.length,class:"px-4 py-2 bg-gray-90 mb-4"},[e("div",Hl,[e("p",null,[a(" Account number: "),e("strong",null,s(y(o.accountNo)),1)]),e("p",null,[a(" Loan Amount: "),e("strong",null,s(o.amount||0),1)]),e("p",null,[a(" Current Balance: "),e("strong",null,s(o.balance||0),1)]),e("p",null,[a(" Amount Overdue: "),e("strong",null,s(o.overdue||0),1)]),e("p",null,[a(" Instalment Amount: "),e("strong",null,s(o.instalment||0),1)]),e("p",null,[a(" Loan Duration: "),e("strong",null,s(y(o.duration)),1)]),e("p",null,[a(" Repayment Frequency: "),e("strong",null,s(y(o.repaymentFrequency)),1)]),e("p",null,[a(" Date Account Opened: "),e("strong",null,s(y(o.date)),1)]),e("p",null,[a(" Closed Date: "),e("strong",null,s(y(o.closedDate)),1)]),e("div",null,[a(" Performance Status "),Wl,e("div",{class:N(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1",j(o.performanceStatus)])},[e("span",{class:N(["h-1.5 w-1.5 rounded-full mr-1.5",V(o.performanceStatus)])},null,2),e("strong",null,s(o.performanceStatus||"N/A"),1)],2)]),e("div",null,[a(" Account Status "),Ul,e("div",{class:N(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1",j(o.status)])},[e("span",{class:N(["h-1.5 w-1.5 rounded-full mr-1.5",V(o.status)])},null,2),e("strong",null,s(o.status||"N/A"),1)],2)])])],8,El)]),_:1},8,["items","expanded"])])):(n(),l("div",zl,"No loan accounts available."))]),e("div",jl,[e("div",Vl,[Gl,Y.value&&Y.value.length>0?(n(),l("div",Jl,[e("table",Kl,[Ql,e("tbody",null,[(n(!0),l(U,null,Q(Y.value,(o,v)=>(n(),l("tr",{key:v,class:"border-b"},[e("td",Xl,s(o.lender),1),e("td",Zl,s(o.date),1)]))),128))])])])):(n(),l("div",ea," No enquiry history available. "))]),e("div",ta,[sa,F.value&&F.value.length>0?(n(),l("div",oa,[w(Z,{headers:Ve,items:F.value,class:"elevation-1","fixed-header":"",height:"200"},{"item.date":g(({item:o})=>[a(s(o.date),1)]),_:1},8,["items"])])):(n(),l("div",na," No employment history available. "))])]),e("div",la,[aa,I.value&&I.value.length>0?(n(),l("div",ra,[e("div",ia,[e("table",da,[ca,e("tbody",ua,[(n(!0),l(U,null,Q(I.value,(o,v)=>(n(),l("tr",{key:v},[e("td",ma,s(o.address),1),e("td",_a,s(o.date),1)]))),128))])])])])):(n(),l("div",ya,"No address history available."))])],64)):q.value==="credit_registry"?(n(),l(U,{key:1},[B.value!=="business"?(n(),l("div",ha,[pa,L.value&&Object.values(L.value).some(o=>o&&o.toString().trim()!=="")?(n(),l("div",ga,[e("div",null,[fa,e("p",ba,s(L.value.Surname||"N/A"),1)]),e("div",null,[va,e("p",xa,s(L.value.Gender||"N/A"),1)]),e("div",null,[Aa,e("p",Na,s(L.value.CellularNo||"N/A"),1)]),e("div",null,[Da,e("p",wa,s(((J=L.value)==null?void 0:J.address)||"N/A"),1)]),e("div",null,[$a,e("p",Ca,s(L.value.FirstName||"N/A"),1)]),e("div",null,[ka,e("p",Sa,s(L.value.BankVerificationNo||"N/A"),1)]),e("div",null,[Ya,e("p",Ta,s(L.value.WorkTelephoneNo||"N/A"),1)]),e("div",null,[Oa,e("p",qa,s(L.value.OtherNames||"N/A"),1)]),e("div",null,[Ba,e("p",Fa,s(L.value.BirthDate||"N/A"),1)]),e("div",null,[La,e("p",Ma,s(L.value.HomeTelephoneNo||"N/A"),1)])])):(n(),l("div",Ia,"No personal data available."))])):(n(),l("div",Ra,[B.value==="business"?(n(),l("div",Pa,[Ea,e("div",Ha,[e("div",null,[Wa,e("p",Ua,s(y(Se.value)),1)]),za,ja])])):ee("",!0),B.value==="business"?(n(),l("div",Va,[Ga,ce.value.length>0?(n(),l("div",Ja,[e("table",Ka,[Qa,e("tbody",null,[(n(!0),l(U,null,Q(ce.value,(o,v)=>(n(),l("tr",{key:v},[e("td",Xa,s(o.firstName),1),e("td",Za,s(o.otherNames),1),e("td",er,s(o.surname),1),e("td",tr,s(o.identificationNumber),1)]))),128))])])])):(n(),l("div",sr," No director information available. "))])):ee("",!0)])),e("div",or,[nr,e("div",lr,[ar,rr,e("div",null,[ir,e("p",dr,s(ue.value||0),1)]),cr,ur,e("div",null,[mr,e("p",_r,s(me.value||0),1)]),yr,hr,e("div",null,[pr,e("p",gr,s(_e.value||0),1)])])]),e("div",fr,[br,m.value&&m.value.length>0?(n(),l("div",vr,[w(Z,{headers:De,items:m.value,"item-value":"uid",expanded:te.value,"show-expand":"","fixed-header":"",height:"300","hide-default-footer":"",class:"elevation-1"},{"item.status":g(({item:o})=>[w(oe,{color:o.status==="Closed"?"green":"red",variant:"tonal",size:"small",class:"text-white"},{default:g(()=>[a(s(o.status),1)]),_:2},1032,["color"])]),"item.action":g(({item:o})=>[w(se,{size:"small",color:"primary",onClick:v=>ye(o.uid)},{default:g(()=>[a(s(he(o.uid)?"Hide":"View"),1)]),_:2},1032,["onClick"])]),"expanded-row":g(({item:o})=>[e("td",{colspan:De.length,class:"px-4 py-2 bg-gray-90 mb-4"},[e("div",Ar,[e("p",null,[a(" Account number: "),e("strong",null,s(y(o.accountNo)),1)]),e("p",null,[a(" Loan Amount: "),e("strong",null,s(Ye(o.amount||0)),1)]),e("p",null,[a(" Current Balance: "),e("strong",null,s(G(o.balance)||0),1)]),e("p",null,[a(" Amount Overdue: "),e("strong",null,s(o.overdue||0),1)]),e("p",null,[a(" Instalment Amount: "),e("strong",null,s(o.instalment||0),1)]),e("p",null,[a(" Loan Duration: "),e("strong",null,s(y(o.duration))+" months",1)]),e("p",null,[a(" Repayment Frequency: "),e("strong",null,s(y(o.repaymentFrequency)),1)]),e("p",null,[a(" Date Account Opened: "),e("strong",null,s(y(o.date)),1)]),e("p",null,[a(" Closed Date: "),e("strong",null,s(y(o.closedDate)),1)]),e("div",null,[a(" Performance Status "),Nr,e("div",{class:N(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1",j(o.performanceStatus)])},[e("span",{class:N(["h-1.5 w-1.5 rounded-full mr-1.5",V(o.performanceStatus)])},null,2),e("strong",null,s(o.performanceStatus||"N/A"),1)],2)]),e("div",null,[a(" Account Status "),Dr,e("div",{class:N(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1",j(o.status)])},[e("span",{class:N(["h-1.5 w-1.5 rounded-full mr-1.5",V(o.status)])},null,2),e("strong",null,s(o.status||"N/A"),1)],2)])])],8,xr)]),_:1},8,["items","expanded"])])):(n(),l("div",wr,"No loan accounts available."))]),e("div",$r,[Cr,x.value&&x.value.length>0?(n(),l("div",kr,[w(Z,{headers:qe,items:x.value,"item-value":"uid",expanded:te.value,"show-expand":"","fixed-header":"",height:"300","hide-default-footer":"",class:"elevation-1"},{"item.status":g(({item:o})=>[w(oe,{color:o.status==="Closed"?"green":"red",variant:"tonal",size:"small",class:"text-white"},{default:g(()=>[a(s(o.status),1)]),_:2},1032,["color"])]),"item.action":g(({item:o})=>[w(se,{size:"small",color:"primary",onClick:v=>ye(o.uid)},{default:g(()=>[a(s(he(o.uid)?"Hide":"View"),1)]),_:2},1032,["onClick"])]),"expanded-row":g(({item:o})=>{var v,R,P,K;return[e("td",{colspan:qe.length,class:"px-4 py-2 bg-gray-90 mb-4"},[e("div",Yr,[e("p",null,[a(" Account number: "),e("strong",null,s(y(o.accountNo)),1)]),e("p",null,[a(" Loan Amount: "),e("strong",null,"â‚¦"+s(((v=o.amount)==null?void 0:v.toLocaleString())||"0"),1)]),e("p",null,[a(" Current Balance: "),e("strong",null,"â‚¦"+s(((R=o.balance)==null?void 0:R.toLocaleString())||"0"),1)]),e("p",null,[a(" Amount Overdue: "),e("strong",null,"â‚¦"+s(((P=o.overdue)==null?void 0:P.toLocaleString())||"0"),1)]),e("p",null,[a(" Instalment Amount: "),e("strong",null,"â‚¦"+s(((K=o.instalment)==null?void 0:K.toLocaleString())||"0"),1)]),e("p",null,[a(" Loan Duration: "),e("strong",null,s(y(o.duration))+" months",1)]),e("p",null,[a(" Repayment Frequency: "),e("strong",null,s(y(o.repaymentFrequency)),1)]),e("p",null,[a(" Date Account Opened: "),e("strong",null,s(y(o.date)),1)]),e("p",null,[a(" Closed Date: "),e("strong",null,s(y(o.closedDate)),1)]),e("div",null,[a(" Performance Status "),Tr,e("div",{class:N(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1",j(o.performanceStatus)])},[e("span",{class:N(["h-1.5 w-1.5 rounded-full mr-1.5",V(o.performanceStatus)])},null,2),e("strong",null,s(o.performanceStatus||"N/A"),1)],2)]),e("div",null,[a(" Account Status "),Or,e("div",{class:N(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1",j(o.status)])},[e("span",{class:N(["h-1.5 w-1.5 rounded-full mr-1.5",V(o.status)])},null,2),e("strong",null,s(o.status||"N/A"),1)],2)])])],8,Sr)]}),_:1},8,["items","expanded"])])):(n(),l("div",qr," No delinquent accounts available. "))]),e("div",Br,[Fr,E.value&&E.value.length>0?(n(),l("div",Lr,[w(Z,{headers:Be,items:E.value,"item-value":"uid",expanded:te.value,"show-expand":"","fixed-header":"",height:"300","hide-default-footer":"",class:"elevation-1"},{"item.status":g(({item:o})=>[w(oe,{color:o.status==="Closed"?"green":"red",variant:"tonal",size:"small",class:"text-white"},{default:g(()=>[a(s(o.status),1)]),_:2},1032,["color"])]),"item.action":g(({item:o})=>[w(se,{size:"small",color:"primary",onClick:v=>ye(o.uid)},{default:g(()=>[a(s(he(o.uid)?"Hide":"View"),1)]),_:2},1032,["onClick"])]),"expanded-row":g(({item:o})=>{var v,R,P;return[e("td",{colspan:Be.length,class:"px-4 py-2 bg-gray-90 mb-4"},[e("div",Ir,[e("p",null,[a(" Account number: "),e("strong",null,s(y(o.accountNo)),1)]),e("p",null,[a(" Loan Amount: "),e("strong",null,s(Ye(o.amount||"0")),1)]),e("p",null,[a(" Current Balance: "),e("strong",null,"â‚¦"+s(((v=o.balance)==null?void 0:v.toLocaleString())||"0"),1)]),e("p",null,[a(" Amount Overdue: "),e("strong",null,"â‚¦"+s(((R=o.overdue)==null?void 0:R.toLocaleString())||"0"),1)]),e("p",null,[a(" Instalment Amount: "),e("strong",null,"â‚¦"+s(((P=o.instalment)==null?void 0:P.toLocaleString())||"0"),1)]),e("p",null,[a(" Loan Duration: "),e("strong",null,s(y(o.duration))+" months",1)]),e("p",null,[a(" Repayment Frequency: "),e("strong",null,s(y(o.repaymentFrequency)),1)]),e("p",null,[a(" Date Account Opened: "),e("strong",null,s(y(o.date)),1)]),e("p",null,[a(" Closed Date: "),e("strong",null,s(y(o.closedDate)),1)]),e("div",null,[a(" Performance Status "),Rr,e("div",{class:N(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1",j(o.performanceStatus)])},[e("span",{class:N(["h-1.5 w-1.5 rounded-full mr-1.5",V(o.performanceStatus)])},null,2),e("strong",null,s(o.performanceStatus||"N/A"),1)],2)]),e("div",null,[a(" Account Status "),Pr,e("div",{class:N(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1",j(o.status)])},[e("span",{class:N(["h-1.5 w-1.5 rounded-full mr-1.5",V(o.status)])},null,2),e("strong",null,s(o.status||"N/A"),1)],2)])])],8,Mr)]}),_:1},8,["items","expanded"])])):(n(),l("div",Er,"No Closed accounts available."))]),e("div",Hr,[Wr,X.value&&X.value.length>0?(n(),l("div",Ur,[w(Z,{headers:Fe,items:X.value,"item-value":"uid",expanded:te.value,"show-expand":"","fixed-header":"",height:"300","hide-default-footer":"",class:"elevation-1"},{"item.status":g(({item:o})=>[w(oe,{color:o.status==="Closed"?"green":"red",variant:"tonal",size:"small",class:"text-white"},{default:g(()=>[a(s(o.status),1)]),_:2},1032,["color"])]),"item.action":g(({item:o})=>[w(se,{size:"small",color:"primary",onClick:v=>ye(o.uid)},{default:g(()=>[a(s(he(o.uid)?"Hide":"View"),1)]),_:2},1032,["onClick"])]),"expanded-row":g(({item:o})=>{var v,R,P,K;return[e("td",{colspan:Fe.length,class:"px-4 py-2 bg-gray-90 mb-4"},[e("div",jr,[e("p",null,[a(" Account number: "),e("strong",null,s(y(o.accountNo)),1)]),e("p",null,[a(" Loan Amount: "),e("strong",null,"â‚¦"+s(((v=o.amount)==null?void 0:v.toLocaleString())||"0"),1)]),e("p",null,[a(" Current Balance: "),e("strong",null,"â‚¦"+s(((R=o.balance)==null?void 0:R.toLocaleString())||"0"),1)]),e("p",null,[a(" Amount Overdue: "),e("strong",null,"â‚¦"+s(((P=o.overdue)==null?void 0:P.toLocaleString())||"0"),1)]),e("p",null,[a(" Instalment Amount: "),e("strong",null,"â‚¦"+s(((K=o.instalment)==null?void 0:K.toLocaleString())||"0"),1)]),e("p",null,[a(" Loan Duration: "),e("strong",null,s(y(o.duration))+" months",1)]),e("p",null,[a(" Repayment Frequency: "),e("strong",null,s(y(o.repaymentFrequency)),1)]),e("p",null,[a(" Date Account Opened: "),e("strong",null,s(y(o.date)),1)]),e("p",null,[a(" Closed Date: "),e("strong",null,s(y(o.closedDate)),1)]),e("div",null,[a(" Performance Status "),Vr,e("div",{class:N(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1",j(o.performanceStatus)])},[e("span",{class:N(["h-1.5 w-1.5 rounded-full mr-1.5",V(o.performanceStatus)])},null,2),e("strong",null,s(o.performanceStatus||"N/A"),1)],2)]),e("div",null,[a(" Account Status "),Gr,e("div",{class:N(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1",j(o.status)])},[e("span",{class:N(["h-1.5 w-1.5 rounded-full mr-1.5",V(o.status)])},null,2),e("strong",null,s(o.status||"N/A"),1)],2)])])],8,zr)]}),_:1},8,["items","expanded"])])):(n(),l("div",Jr," No written-off accounts available. "))]),e("div",Kr,[Qr,ne.value&&ne.value.length>0?(n(),l("div",Xr,[w(Z,{headers:Le,items:ne.value,"item-value":"uid",expanded:te.value,"show-expand":"","fixed-header":"",height:"300","hide-default-footer":"",class:"elevation-1"},{"item.status":g(({item:o})=>[w(oe,{color:o.status==="Closed"?"green":"red",variant:"tonal",size:"small",class:"text-white"},{default:g(()=>[a(s(o.status),1)]),_:2},1032,["color"])]),"item.action":g(({item:o})=>[w(se,{size:"small",color:"primary",onClick:v=>ye(o.uid)},{default:g(()=>[a(s(he(o.uid)?"Hide":"View"),1)]),_:2},1032,["onClick"])]),"expanded-row":g(({item:o})=>{var v,R,P,K;return[e("td",{colspan:Le.length,class:"px-4 py-2 bg-gray-90 mb-4"},[e("div",ei,[e("p",null,[a(" Account number: "),e("strong",null,s(y(o.accountNo)),1)]),e("p",null,[a(" Loan Amount: "),e("strong",null,"â‚¦"+s(((v=o.amount)==null?void 0:v.toLocaleString())||"0"),1)]),e("p",null,[a(" Current Balance: "),e("strong",null,"â‚¦"+s(((R=o.balance)==null?void 0:R.toLocaleString())||"0"),1)]),e("p",null,[a(" Amount Overdue: "),e("strong",null,"â‚¦"+s(((P=o.overdue)==null?void 0:P.toLocaleString())||"0"),1)]),e("p",null,[a(" Instalment Amount: "),e("strong",null,"â‚¦"+s(((K=o.instalment)==null?void 0:K.toLocaleString())||"0"),1)]),e("p",null,[a(" Loan Duration: "),e("strong",null,s(y(o.duration))+" months",1)]),e("p",null,[a(" Repayment Frequency: "),e("strong",null,s(y(o.repaymentFrequency)),1)]),e("p",null,[a(" Date Account Opened: "),e("strong",null,s(y(o.date)),1)]),e("p",null,[a(" Closed Date: "),e("strong",null,s(y(o.closedDate)),1)]),e("div",null,[a(" Performance Status "),ti,e("div",{class:N(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1",j(o.performanceStatus)])},[e("span",{class:N(["h-1.5 w-1.5 rounded-full mr-1.5",V(o.performanceStatus)])},null,2),e("strong",null,s(o.performanceStatus||"N/A"),1)],2)]),e("div",null,[a(" Account Status "),si,e("div",{class:N(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1",j(o.status)])},[e("span",{class:N(["h-1.5 w-1.5 rounded-full mr-1.5",V(o.status)])},null,2),e("strong",null,s(o.status||"N/A"),1)],2)])])],8,Zr)]}),_:1},8,["items","expanded"])])):(n(),l("div",oi," No unknown accounts available. "))]),e("div",ni,[li,le.value&&le.value.length>0?(n(),l("div",ai,[e("table",ri,[ii,e("tbody",null,[(n(!0),l(U,null,Q(le.value,(o,v)=>(n(),l("tr",{key:v,class:"text-sm hover:bg-gray-50 transition-colors"},[e("td",di,s(o.subscriber),1),e("td",ci,s(o.date),1),e("td",ui,s(o.phone),1),e("td",mi,s(o.reason),1)]))),128))])])])):(n(),l("div",_i,"No inquiries available."))])],64)):ee("",!0)]))]}),_:1})]))]),e("div",yi,[w(_n,{"id-type":B.value,"business-data":ae.value,directors:be.value,ref_key:"reportRef",ref:Me,personal:T.value,summary:k.value,"credit-agreement-summary":A.value,"enquiry-history":Y.value,"employment-history":F.value,"address-history":I.value,"loan-accounts":m.value,"delinquent-accounts":x.value,"closed-accounts":E.value,"derogatory-accounts":H.value,"written-off-accounts":X.value,"unknown-accounts":ne.value,"inquiry-history":le.value,"credit-personal":L.value,"credit-registry-business-name":Se.value,"credit-directors":ce.value,"credit-registry-total-open":ue.value,"credit-registry-total-closed":me.value,"credit-registry-total-written-off":_e.value},null,8,["id-type","business-data","directors","personal","summary","credit-agreement-summary","enquiry-history","employment-history","address-history","loan-accounts","delinquent-accounts","closed-accounts","derogatory-accounts","written-off-accounts","unknown-accounts","inquiry-history","credit-personal","credit-registry-business-name","credit-directors","credit-registry-total-open","credit-registry-total-closed","credit-registry-total-written-off"])])]),_:1})}}},gi=Xe(hi,[["__scopeId","data-v-e8087b4d"]]);export{gi as default};
