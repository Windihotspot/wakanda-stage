import{r as D,a as it,o as l,c as a,b as t,t as s,d as j,F,e as U,f as A,w as h,g as n,E as zt,h as Vt,i as jt,_ as Gt,u as Jt,j as Kt,k as Qt,l as Xt,n as N,T as Zt,M as te,m as Rt,p as ee,q as p,s as se,v as oe}from"./index-DKw6oJR0.js";const ne=t("h1",{class:"text-2xl font-bold"},"First Central",-1),le={key:0},ae={class:"bg-white p-6 rounded space-y-4"},re=t("h2",{class:"text-md font-semibold mb-4"},"Personal details summary",-1),ie={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-y-6 gap-x-8 text-sm text-gray-600"},de=t("p",{class:"mb-1"},"Last Name",-1),ce={class:"font-bold text-gray-900"},ue=t("p",{class:"mb-1"},"Gender",-1),me={class:"font-bold text-gray-900"},_e=t("p",{class:"mb-1"},"Phone Number",-1),he={class:"font-bold text-gray-900"},ye=t("p",{class:"mb-1"},"Latest Residential Address",-1),pe={class:"font-bold text-gray-900 leading-snug"},ge=t("p",{class:"mb-1"},"First Name",-1),fe={class:"font-bold text-gray-900"},be=t("p",{class:"mb-1"},"Bank Verification Number",-1),ve={class:"font-bold text-gray-900"},xe=t("p",{class:"mb-1"},"Work Telephone",-1),Ae={class:"font-bold text-gray-900"},De=t("p",{class:"mb-1"},"Other Names",-1),Ne={class:"font-bold text-gray-900"},$e=t("p",{class:"mb-1"},"Date of Birth",-1),we={class:"font-bold text-gray-900"},ke=t("p",{class:"mb-1"},"Home Telephone",-1),Ce={class:"font-bold text-gray-900"},Se={key:1,class:"text-gray-500 text-sm italic"},Ye={key:1},qe={key:0,class:"bg-white p-6 rounded space-y-4"},Te=t("h2",{class:"text-md font-semibold"},"Business Information",-1),Le={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-6 gap-x-8 text-sm text-gray-600"},Oe=t("p",{class:"mb-1"},"Business Name",-1),Be={class:"font-bold text-gray-900"},Fe=t("p",{class:"mb-1"},"Date of Incorporation",-1),Me={class:"font-bold text-gray-900"},Ie=t("p",{class:"mb-1"},"Business Address",-1),Re={class:"font-bold text-gray-900"},Pe={key:1,class:"bg-white p-6 rounded space-y-4 mt-4"},He=t("h2",{class:"text-md font-semibold"},"Director Information",-1),Ee={key:0},We={class:"min-w-full text-sm text-left"},Ue=t("thead",{class:"text-xs font-semibold text-gray-700"},[t("tr",null,[t("th",{class:"p-2"},"First Name"),t("th",{class:"p-2"},"Other Names"),t("th",{class:"p-2"},"Surname"),t("th",{class:"p-2"},"Identification Number")])],-1),ze={class:"p-2 font-bold text-gray-900"},Ve={class:"p-2 font-bold text-gray-900"},je={class:"p-2 font-bold text-gray-900"},Ge={class:"p-2 font-bold text-gray-900"},Je={key:1,class:"text-sm text-gray-500 italic"},Ke={class:"bg-white p-6 rounded-md mt-4"},Qe=t("h2",{class:"text-md font-semibold mb-6"},"Summary",-1),Xe={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-6 gap-x-8 text-sm text-gray-600"},Ze=t("p",{class:"mb-1"},"Total active monthly installment",-1),ts={class:"font-bold text-gray-900"},es=t("p",{class:"mb-1"},"Total no of credit facilities",-1),ss={class:"font-bold text-gray-900"},os=t("p",{class:"mb-1"},"Total no of open facilities",-1),ns={class:"font-bold text-gray-900"},ls=t("p",{class:"mb-1"},"Total arrear amount",-1),as={class:"font-bold text-gray-900"},rs=t("p",{class:"mb-1"},"Total outstanding debts",-1),is={class:"font-bold text-gray-900"},ds=t("div",null,[t("p",{class:"mb-1"},"Total no of closed credit facilities"),t("p",{class:"font-bold text-gray-900"})],-1),cs=t("p",{class:"mb-1"},"Total no of account in arrears",-1),us={class:"font-bold text-gray-900"},ms=t("p",{class:"mb-1"},"Total no of delinquent facilities",-1),_s={class:"font-bold text-gray-900"},hs=t("p",{class:"mb-1"},"Total no written off facilities",-1),ys={class:"font-bold text-gray-900"},ps={class:"bg-white p-6 rounded"},gs=t("h2",{class:"text-md font-semibold mb-4"},"Loan Accounts",-1),fs={key:0},bs=["colspan"],vs={class:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm"},xs=t("strong",null,"Account number:",-1),As=t("strong",null,"Loan Amount:",-1),Ds=t("strong",null,"Current Balance:",-1),Ns=t("strong",null,"Amount Overdue:",-1),$s=t("strong",null,"Instalment Amount:",-1),ws=t("strong",null,"Loan Duration:",-1),ks=t("strong",null,"Repayment Frequency:",-1),Cs=t("strong",null,"Date Account Opened:",-1),Ss=t("strong",null,"Closed Date:",-1),Ys=t("strong",null,"Performance Status:",-1),qs=t("strong",null,"Account Status:",-1),Ts={key:1,class:"text-sm text-gray-500 italic"},Ls={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Os={class:"bg-white rounded p-4"},Bs=t("h2",{class:"font-semibold text-md mb-4"},"Enquiry History",-1),Fs={key:0},Ms={class:"w-full text-sm text-left"},Is=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"p-2"},"Lender's Name"),t("th",{class:"p-2"},"Date Requested")])],-1),Rs={class:"p-2"},Ps={class:"p-2"},Hs={key:1,class:"text-sm text-gray-500 italic"},Es={class:"bg-white rounded p-4"},Ws=t("h2",{class:"font-semibold text-md mb-4"},"Employment History",-1),Us={key:0},zs={key:1,class:"text-sm text-gray-500 italic"},Vs={class:"bg-white rounded p-4"},js=t("h2",{class:"font-semibold text-md mb-4"},"Address History",-1),Gs={key:0},Js={class:"overflow-auto max-h-72 border rounded"},Ks={class:"min-w-full text-sm text-left"},Qs=t("thead",{class:"bg-gray-100 sticky top-0 z-10"},[t("tr",null,[t("th",{class:"p-3 font-medium text-gray-700"},"Address"),t("th",{class:"p-3 font-medium text-gray-700 w-40"},"Date Updated")])],-1),Xs={class:"divide-y divide-gray-200"},Zs={class:"p-3 text-gray-800"},to={class:"p-3 text-gray-800 w-40"},eo={key:1,class:"text-sm text-gray-500 italic"},so=t("h1",{class:"text-2xl font-bold"},"Credit registry",-1),oo={key:0,class:"bg-white p-6 rounded space-y-4"},no=t("h2",{class:"text-md font-semibold mb-4"},"Personal details summary",-1),lo=t("div",{class:"text-gray-500 text-sm italic"},"No personal data available.",-1),ao=[no,lo],ro={key:1},io={key:0,class:"bg-white p-6 rounded space-y-4"},co=t("h2",{class:"text-md font-semibold"},"Business Information",-1),uo=t("div",{class:"text-sm text-gray-500 italic"},"No business information available.",-1),mo=[co,uo],_o={key:1,class:"bg-white p-6 rounded space-y-4 mt-4"},ho=t("h2",{class:"text-md font-semibold"},"Director Information",-1),yo=t("div",{class:"text-sm text-gray-500 italic"},"No director information available.",-1),po=[ho,yo],go={class:"bg-white p-6 rounded-md mt-4"},fo=t("h2",{class:"text-md font-semibold mb-6"},"Summary",-1),bo={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-6 gap-x-8 text-sm text-gray-600"},vo=t("p",{class:"mb-1"},"Total active monthly installment",-1),xo={class:"font-bold text-gray-900"},Ao=t("p",{class:"mb-1"},"Total no of credit facilities",-1),Do={class:"font-bold text-gray-900"},No=t("p",{class:"mb-1"},"Total no of open facilities",-1),$o={class:"font-bold text-gray-900"},wo=t("p",{class:"mb-1"},"Total arrear amount",-1),ko={class:"font-bold text-gray-900"},Co=t("p",{class:"mb-1"},"Total outstanding debts",-1),So={class:"font-bold text-gray-900"},Yo=t("div",null,[t("p",{class:"mb-1"},"Total no of closed credit facilities"),t("p",{class:"font-bold text-gray-900"})],-1),qo=t("p",{class:"mb-1"},"Total no of account in arrears",-1),To={class:"font-bold text-gray-900"},Lo=t("p",{class:"mb-1"},"Total no of delinquent facilities",-1),Oo={class:"font-bold text-gray-900"},Bo=t("p",{class:"mb-1"},"Total no written off facilities",-1),Fo={class:"font-bold text-gray-900"},Mo={class:"bg-white p-6 rounded"},Io=t("h2",{class:"text-md font-semibold mb-4"},"Performing Accounts",-1),Ro={key:0},Po=["colspan"],Ho={class:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm"},Eo=t("strong",null,"Account number:",-1),Wo=t("strong",null,"Loan Amount:",-1),Uo=t("strong",null,"Current Balance:",-1),zo=t("strong",null,"Amount Overdue:",-1),Vo=t("strong",null,"Instalment Amount:",-1),jo=t("strong",null,"Loan Duration:",-1),Go=t("strong",null,"Repayment Frequency:",-1),Jo=t("strong",null,"Date Account Opened:",-1),Ko=t("strong",null,"Closed Date:",-1),Qo=t("strong",null,"Performance Status:",-1),Xo=t("strong",null,"Account Status:",-1),Zo={key:1,class:"text-sm text-gray-500 italic"},tn={class:"bg-white p-6 rounded-md shadow"},en=t("h2",{class:"text-md font-semibold mb-4"},"Deliquents Accounts",-1),sn={class:"min-w-full text-left text-sm"},on=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"p-3 border-b"},"Lender's Name"),t("th",{class:"p-3 border-b"},"Disbursement Date"),t("th",{class:"p-3 border-b"},"Loan Amount"),t("th",{class:"p-3 border-b"},"Loan Balance"),t("th",{class:"p-3 border-b"},"Action")])],-1),nn={key:0},ln=t("td",{colspan:"5",class:"p-4 text-center text-gray-500"}," No delinquents accounts available. ",-1),an=[ln],rn={class:"p-3 border-b"},dn={class:"p-3 border-b"},cn={class:"p-3 border-b"},un={class:"p-3 border-b"},mn=t("td",{class:"p-3 border-b"},[t("button",{class:"bg-red-600 text-white text-xs px-3 py-1 rounded hover:bg-red-700"}," View ")],-1),_n={class:"bg-white p-6 rounded-md shadow"},hn=t("h2",{class:"text-md font-semibold mb-4"},"Closed Accounts",-1),yn={class:"min-w-full text-left text-sm"},pn=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"p-3 border-b"},"Lender's Name"),t("th",{class:"p-3 border-b"},"Disbursement Date"),t("th",{class:"p-3 border-b"},"Loan Amount"),t("th",{class:"p-3 border-b"},"Loan Balance"),t("th",{class:"p-3 border-b"},"Action")])],-1),gn={key:0},fn=t("td",{colspan:"5",class:"p-4 text-center text-gray-500"}," No closed accounts available. ",-1),bn=[fn],vn={class:"p-3 border-b"},xn={class:"p-3 border-b"},An={class:"p-3 border-b"},Dn={class:"p-3 border-b"},Nn=t("td",{class:"p-3 border-b"},[t("button",{class:"bg-red-600 text-white text-xs px-3 py-1 rounded hover:bg-red-700"}," View ")],-1),$n={class:"bg-white p-6 rounded mb-6"},wn=t("h2",{class:"text-md font-semibold mb-4"},"Written Off Accounts",-1),kn={key:0},Cn={class:"min-w-full text-left"},Sn=t("thead",null,[t("tr",{class:"bg-gray-100 text-sm"},[t("th",{class:"p-2"},"Lender's Name"),t("th",{class:"p-2"},"Disbursement Date"),t("th",{class:"p-2"},"Loan Amount"),t("th",{class:"p-2"},"Loan Balance"),t("th",{class:"p-2"},"Action")])],-1),Yn={class:"p-2"},qn={class:"p-2"},Tn={class:"p-2"},Ln={class:"p-2"},On=t("td",{class:"p-2"},[t("button",{class:"bg-blue-600 text-white text-xs px-3 py-1 rounded hover:bg-blue-700"}," View ")],-1),Bn={key:1,class:"text-sm text-gray-500 italic"},Fn={class:"bg-white p-6 rounded mb-6"},Mn=t("h2",{class:"text-md font-semibold mb-4"},"Unknown Accounts Status",-1),In={key:0},Rn={class:"min-w-full text-left"},Pn=t("thead",null,[t("tr",{class:"bg-gray-100 text-sm"},[t("th",{class:"p-2"},"Lender's Name"),t("th",{class:"p-2"},"Disbursement Date"),t("th",{class:"p-2"},"Loan Amount"),t("th",{class:"p-2"},"Loan Balance"),t("th",{class:"p-2"},"Action")])],-1),Hn={class:"p-2"},En={class:"p-2"},Wn={class:"p-2"},Un={class:"p-2"},zn=t("td",{class:"p-2"},[t("button",{class:"bg-blue-600 text-white text-xs px-3 py-1 rounded hover:bg-blue-700"}," View ")],-1),Vn={key:1,class:"text-sm text-gray-500 italic"},jn={class:"bg-white p-6 rounded mb-6"},Gn=t("h2",{class:"text-md font-semibold mb-4"},"Inquiry History",-1),Jn={key:0},Kn={class:"min-w-full text-left"},Qn=t("thead",null,[t("tr",{class:"bg-gray-100 text-sm"},[t("th",{class:"p-2"},"Subscriber Name"),t("th",{class:"p-2"},"Inquiry Date"),t("th",{class:"p-2"},"Contact Phone"),t("th",{class:"p-2"},"Inquiry Reason")])],-1),Xn={class:"p-2"},Zn={class:"p-2"},tl={class:"p-2"},el={class:"p-2"},sl={key:1,class:"text-sm text-gray-500 italic"},ol={__name:"CreditReportExport",props:{idType:String,businessData:Object,directors:Array,personal:Object,summary:Object,creditAgreementSummary:Array,enquiryHistory:Array,employmentHistory:Array,addressHistory:Array,loanAccounts:Array,delinquentAccounts:Array,closedAccounts:Array,derogatoryAccounts:Array,writtenOffAccounts:Array,unknownAccounts:Array,inquiryHistory:Array,creditPersonal:Object,creditRegistryBusinessName:String,creditDirectors:Array,creditRegistryTotalOpen:Number,creditRegistryTotalClosed:Number,creditRegistryTotalWrittenOff:Number},setup(d,{expose:wt}){const K=d,Q=D([]),rt=S=>{Q.value=Q.value.includes(S)?[]:[S]},xt=S=>Q.value.includes(S),q=[{title:"Lender's Name",key:"lender"},{title:"Disbursement Date",key:"date"},{title:"Loan Amount",value:"amount"},{title:"Loan Balance",key:"balance"},{title:"Status",key:"status"},{title:"Action",key:"action",sortable:!1}],T=[{title:"Employer Name",key:"employerName"},{title:"Date Updated",key:"date"}];function k(S){if(!S||S.trim()==="")return"grey";const O=S.toLowerCase().trim();return O==="closed"?"green":O==="open"?"red":O==="paid up"?"blue":"grey"}const L=D(null);return wt({exportPDF:()=>{var I,r;const O=new Date().toISOString().slice(0,16).replace("T","_").replace(":","-");let M="";if(K.idType==="business"&&K.businessData)M=`${K.businessData.BusinessName||"Business"}_${O}.pdf`;else{const f=((I=K.personal)==null?void 0:I.FirstName)||"FirstName",V=((r=K.personal)==null?void 0:r.Surname)||"LastName";M=`${f}_${V}_${O}.pdf`}const z=zt({message:"Downloading report...",type:"warning",duration:0,showClose:!0});setTimeout(()=>{Vt().set({margin:.5,filename:M,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}}).from(L.value).save().then(()=>{z.close(),jt({title:"Download Complete",message:"Report has been downloaded successfully!",type:"success",duration:3e3})})},500)}}),(S,O)=>{const M=it("v-chip"),z=it("v-btn"),I=it("v-data-table");return l(),a("div",{ref_key:"pdfContent",ref:L,class:"p-6 space-y-6 bg-white text-gray-800"},[ne,t("section",null,[d.idType!=="business"?(l(),a("div",le,[t("div",ae,[re,d.personal&&Object.keys(d.personal).length>0?(l(),a("div",ie,[t("div",null,[de,t("p",ce,s(d.personal.Surname),1)]),t("div",null,[ue,t("p",me,s(d.personal.Gender),1)]),t("div",null,[_e,t("p",he,s(d.personal.CellularNo),1)]),t("div",null,[ye,t("p",pe,s(d.personal.ResidentialAddress1),1)]),t("div",null,[ge,t("p",fe,s(d.personal.FirstName),1)]),t("div",null,[be,t("p",ve,s(d.personal.BankVerificationNo),1)]),t("div",null,[xe,t("p",Ae,s(d.personal.WorkTelephoneNo),1)]),t("div",null,[De,t("p",Ne,s(d.personal.OtherNames),1)]),t("div",null,[$e,t("p",we,s(d.personal.BirthDate),1)]),t("div",null,[ke,t("p",Ce,s(d.personal.HomeTelephoneNo),1)])])):(l(),a("div",Se,"No personal data available."))])])):(l(),a("div",Ye,[d.idType==="business"?(l(),a("div",qe,[Te,t("div",Le,[t("div",null,[Oe,t("p",Be,s(d.businessData.BusinessName),1)]),t("div",null,[Fe,t("p",Me,s(d.businessData.DateOfIncorporation),1)]),t("div",null,[Ie,t("p",Re,s(d.businessData.CommercialAddress1)+", "+s(d.businessData.CommercialAddress2)+", "+s(d.businessData.CommercialAddress4),1)])])])):j("",!0),d.idType==="business"?(l(),a("div",Pe,[He,d.directors.length>0?(l(),a("div",Ee,[t("table",We,[Ue,t("tbody",null,[(l(!0),a(F,null,U(d.directors,(r,f)=>(l(),a("tr",{key:f,class:""},[t("td",ze,s(r.firstName),1),t("td",Ve,s(r.othernames),1),t("td",je,s(r.surname),1),t("td",Ge,s(r.Identificationnumber),1)]))),128))])])])):(l(),a("div",Je,"No director information available."))])):j("",!0)])),t("div",Ke,[Qe,t("div",Xe,[t("div",null,[Ze,t("p",ts,s(d.summary.TotalMonthlyInstalment),1)]),t("div",null,[es,t("p",ss,s(),1)]),t("div",null,[os,t("p",ns,s(d.summary.TotalOpenFacilities),1)]),t("div",null,[ls,t("p",as,s(d.summary.Amountarrear),1)]),t("div",null,[rs,t("p",is,s(d.summary.TotalOutstandingdebt),1)]),ds,t("div",null,[cs,t("p",us,s(d.summary.TotalAccountarrear),1)]),t("div",null,[ms,t("p",_s,s(),1)]),t("div",null,[hs,t("p",ys,s(d.summary.TotalWrittenOffFacilities),1)])])]),t("div",ps,[gs,d.creditAgreementSummary&&d.creditAgreementSummary.length>0?(l(),a("div",fs,[A(I,{headers:q,items:d.creditAgreementSummary,"item-value":"uid",expanded:Q.value,class:"elevation-1","fixed-header":"",height:"400","hide-default-footer":""},{"item.status":h(({item:r})=>[A(M,{color:k(r.status),variant:"tonal",size:"small",class:"text-white"},{default:h(()=>{var f;return[n(s(((f=r.status)==null?void 0:f.trim())||"Unknown"),1)]}),_:2},1032,["color"])]),"item.action":h(({item:r})=>[A(z,{size:"small",color:"primary",onClick:f=>rt(r.uid)},{default:h(()=>[n(s(xt(r.uid)?"Hide":"View"),1)]),_:2},1032,["onClick"])]),"expanded-row":h(({item:r})=>[t("td",{colspan:q.length,class:"px-4 py-2 bg-gray-50 mb-4"},[t("div",vs,[t("p",null,[xs,n(" "+s(r.accountNo),1)]),t("p",null,[As,n(" "+s(r.amount),1)]),t("p",null,[Ds,n(" "+s(r.balance),1)]),t("p",null,[Ns,n(" "+s(r.overdue),1)]),t("p",null,[$s,n(" "+s(r.instalment),1)]),t("p",null,[ws,n(" "+s(r.loanDuration),1)]),t("p",null,[ks,n(" "+s(r.repaymentFrequency),1)]),t("p",null,[Cs,n(" "+s(r.date),1)]),t("p",null,[Ss,n(" "+s(r.closedDate),1)]),t("p",null,[Ys,n(" "+s(r.performanceStatus),1)]),t("p",null,[qs,n(" "+s(r.status),1)])])],8,bs)]),_:1},8,["items","expanded"])])):(l(),a("div",Ts,"No loan accounts available."))]),t("div",Ls,[t("div",Os,[Bs,d.enquiryHistory&&d.enquiryHistory.length>0?(l(),a("div",Fs,[t("table",Ms,[Is,t("tbody",null,[(l(!0),a(F,null,U(d.enquiryHistory,(r,f)=>(l(),a("tr",{key:f,class:"border-b"},[t("td",Rs,s(r.lender),1),t("td",Ps,s(r.date),1)]))),128))])])])):(l(),a("div",Hs,"No enquiry history available."))]),t("div",Es,[Ws,d.employmentHistory&&d.employmentHistory.length>0?(l(),a("div",Us,[A(I,{headers:T,items:d.employmentHistory,class:"elevation-1","fixed-header":"",height:"200"},{"item.date":h(({item:r})=>[n(s(r.date),1)]),_:1},8,["items"])])):(l(),a("div",zs,"No employment history available."))])]),t("div",Vs,[js,d.addressHistory&&d.addressHistory.length>0?(l(),a("div",Gs,[t("div",Js,[t("table",Ks,[Qs,t("tbody",Xs,[(l(!0),a(F,null,U(d.addressHistory,(r,f)=>(l(),a("tr",{key:f},[t("td",Zs,s(r.address),1),t("td",to,s(r.date),1)]))),128))])])])])):(l(),a("div",eo,"No address history available."))])]),so,t("section",null,[d.idType!=="business"?(l(),a("div",oo,ao)):(l(),a("div",ro,[d.idType==="business"?(l(),a("div",io,mo)):j("",!0),d.idType==="business"?(l(),a("div",_o,po)):j("",!0)])),t("div",go,[fo,t("div",bo,[t("div",null,[vo,t("p",xo,s(d.summary.TotalMonthlyInstalment),1)]),t("div",null,[Ao,t("p",Do,s(),1)]),t("div",null,[No,t("p",$o,s(d.summary.TotalOpenFacilities),1)]),t("div",null,[wo,t("p",ko,s(d.summary.Amountarrear),1)]),t("div",null,[Co,t("p",So,s(d.summary.TotalOutstandingdebt),1)]),Yo,t("div",null,[qo,t("p",To,s(d.summary.TotalAccountarrear),1)]),t("div",null,[Lo,t("p",Oo,s(),1)]),t("div",null,[Bo,t("p",Fo,s(d.summary.TotalWrittenOffFacilities),1)])])]),t("div",Mo,[Io,d.loanAccounts&&d.loanAccounts.length>0?(l(),a("div",Ro,[A(I,{headers:q,items:d.loanAccounts,"item-value":"uid",expanded:Q.value,"show-expand":"","fixed-header":"",height:"400","hide-default-footer":"",class:"elevation-1"},{"item.status":h(({item:r})=>[A(M,{color:r.status==="Closed"?"green":"red",variant:"tonal",size:"small",class:"text-white"},{default:h(()=>[n(s(r.status),1)]),_:2},1032,["color"])]),"item.action":h(({item:r})=>[A(z,{size:"small",color:"primary",onClick:f=>rt(r.uid)},{default:h(()=>[n(s(xt(r.uid)?"Hide":"View"),1)]),_:2},1032,["onClick"])]),"expanded-row":h(({item:r})=>{var f,V;return[t("td",{colspan:q.length,class:"p-4 bg-gray-50"},[t("div",Ho,[t("p",null,[Eo,n(" "+s(r.accountNo),1)]),t("p",null,[Wo,n(" "+s(r.amount.toLocaleString()),1)]),t("p",null,[Uo,n(" "+s(r.balance.toLocaleString()),1)]),t("p",null,[zo,n(" "+s(((f=r.overdue)==null?void 0:f.toLocaleString())||0),1)]),t("p",null,[Vo,n(" â‚¦"+s(((V=r.instalment)==null?void 0:V.toLocaleString())||0),1)]),t("p",null,[jo,n(" "+s(r.duration)+" months",1)]),t("p",null,[Go,n(" "+s(r.repaymentFrequency),1)]),t("p",null,[Jo,n(" "+s(r.date),1)]),t("p",null,[Ko,n(" "+s(r.closedDate),1)]),t("p",null,[Qo,n(" "+s(r.performanceStatus),1)]),t("p",null,[Xo,n(" "+s(r.status),1)])])],8,Po)]}),_:1},8,["items","expanded"])])):(l(),a("div",Zo,"No loan accounts available."))]),t("div",tn,[en,t("table",sn,[on,t("tbody",null,[d.delinquentAccounts.length===0?(l(),a("tr",nn,an)):j("",!0),(l(!0),a(F,null,U(d.delinquentAccounts,(r,f)=>(l(),a("tr",{key:"delinquents-"+f,class:"hover:bg-gray-50"},[t("td",rn,s(r.lender),1),t("td",dn,s(r.date),1),t("td",cn,"â‚¦"+s(r.amount.toLocaleString()),1),t("td",un,"â‚¦"+s(r.balance.toLocaleString()),1),mn]))),128))])])]),t("div",_n,[hn,t("table",yn,[pn,t("tbody",null,[d.closedAccounts.length===0?(l(),a("tr",gn,bn)):j("",!0),(l(!0),a(F,null,U(d.closedAccounts,(r,f)=>(l(),a("tr",{key:"delinquents-"+f,class:"hover:bg-gray-50"},[t("td",vn,s(r.lender),1),t("td",xn,s(r.date),1),t("td",An,"â‚¦"+s(r.amount.toLocaleString()),1),t("td",Dn,"â‚¦"+s(r.balance.toLocaleString()),1),Nn]))),128))])])]),t("div",$n,[wn,d.writtenOffAccounts&&d.writtenOffAccounts.length>0?(l(),a("div",kn,[t("table",Cn,[Sn,t("tbody",null,[(l(!0),a(F,null,U(d.writtenOffAccounts,(r,f)=>(l(),a("tr",{key:f,class:"text-sm"},[t("td",Yn,s(r.lender),1),t("td",qn,s(r.date),1),t("td",Tn,"â‚¦"+s(r.amount.toLocaleString()),1),t("td",Ln,"â‚¦"+s(r.balance.toLocaleString()),1),On]))),128))])])])):(l(),a("div",Bn,"No written-off accounts available."))]),t("div",Fn,[Mn,d.unknownAccounts&&d.unknownAccounts.length>0?(l(),a("div",In,[t("table",Rn,[Pn,t("tbody",null,[(l(!0),a(F,null,U(d.unknownAccounts,(r,f)=>(l(),a("tr",{key:f,class:"text-sm"},[t("td",Hn,s(r.lender),1),t("td",En,s(r.date),1),t("td",Wn,"â‚¦"+s(r.amount.toLocaleString()),1),t("td",Un,"â‚¦"+s(r.balance.toLocaleString()),1),zn]))),128))])])])):(l(),a("div",Vn,"No unknown accounts available."))]),t("div",jn,[Gn,d.inquiryHistory&&d.inquiryHistory.length>0?(l(),a("div",Jn,[t("table",Kn,[Qn,t("tbody",null,[(l(!0),a(F,null,U(d.inquiryHistory,(r,f)=>(l(),a("tr",{key:f,class:"text-sm hover:bg-gray-50 transition-colors"},[t("td",Xn,s(r.subscriber),1),t("td",Zn,s(r.date),1),t("td",tl,s(r.phone),1),t("td",el,s(r.reason),1)]))),128))])])])):(l(),a("div",sl,"No inquiries available."))])])],512)}}},i=d=>(se("data-v-8bdb53b2"),d=d(),oe(),d),nl={class:"flex justify-between items-center p-2"},ll={class:"flex space-x-4"},al=["onClick"],rl=i(()=>t("i",{class:"fas fa-download mr-2"},null,-1)),il={class:"mt-4 p-2 mx-auto space-y-6"},dl={key:0,class:"flex flex-col items-center justify-center min-h-[200px]"},cl=i(()=>t("span",{class:"mt-2 text-gray-600 text-sm"},"Loading credit report",-1)),ul={key:0},ml={class:"bg-white p-6 rounded space-y-4"},_l=i(()=>t("h2",{class:"text-md font-semibold mb-4"},"Personal details summary",-1)),hl={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-y-6 gap-x-8 text-sm text-gray-600"},yl=i(()=>t("p",{class:"mb-1"},"Last Name",-1)),pl={class:"font-bold text-gray-900"},gl=i(()=>t("p",{class:"mb-1"},"Gender",-1)),fl={class:"font-bold text-gray-900"},bl=i(()=>t("p",{class:"mb-1"},"Phone Number",-1)),vl={class:"font-bold text-gray-900"},xl=i(()=>t("p",{class:"mb-1"},"Latest Residential Address",-1)),Al={class:"font-bold text-gray-900 leading-snug"},Dl=i(()=>t("p",{class:"mb-1"},"First Name",-1)),Nl={class:"font-bold text-gray-900"},$l=i(()=>t("p",{class:"mb-1"},"Bank Verification Number",-1)),wl={class:"font-bold text-gray-900"},kl=i(()=>t("p",{class:"mb-1"},"Work Telephone",-1)),Cl={class:"font-bold text-gray-900"},Sl=i(()=>t("p",{class:"mb-1"},"Other Names",-1)),Yl={class:"font-bold text-gray-900"},ql=i(()=>t("p",{class:"mb-1"},"Date of Birth",-1)),Tl={class:"font-bold text-gray-900"},Ll=i(()=>t("p",{class:"mb-1"},"Home Telephone",-1)),Ol={class:"font-bold text-gray-900"},Bl={key:1,class:"text-gray-500 text-sm italic"},Fl={key:1},Ml={key:0,class:"bg-white p-6 rounded space-y-4"},Il=i(()=>t("h2",{class:"text-md font-semibold"},"Business Information",-1)),Rl={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-6 gap-x-8 text-sm text-gray-600"},Pl=i(()=>t("p",{class:"mb-1"},"Business Name",-1)),Hl={class:"font-bold text-gray-900"},El=i(()=>t("p",{class:"mb-1"},"Date of Incorporation",-1)),Wl={class:"font-bold text-gray-900"},Ul=i(()=>t("p",{class:"mb-1"},"Business Address",-1)),zl={class:"font-bold text-gray-900"},Vl={key:1,class:"bg-white p-6 rounded space-y-4 mt-4"},jl=i(()=>t("h2",{class:"text-md font-semibold"},"Director Information",-1)),Gl={key:0},Jl={class:"min-w-full text-sm text-left"},Kl=i(()=>t("thead",{class:"text-xs font-semibold text-gray-700"},[t("tr",null,[t("th",{class:""},"First Name"),t("th",{class:""},"Other Names"),t("th",{class:""},"Surname"),t("th",{class:""},"Identification Number")])],-1)),Ql={class:"pt-4 font-bold text-gray-900"},Xl={class:"font-bold text-gray-900"},Zl={class:"font-bold text-gray-900"},ta={class:"font-bold text-gray-900"},ea={key:1,class:"text-sm text-gray-500 italic"},sa={class:"bg-white p-6 rounded-md mt-4"},oa=i(()=>t("h2",{class:"text-md font-semibold mb-6"},"Summary",-1)),na={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-6 gap-x-8 text-sm text-gray-600"},la=i(()=>t("p",{class:"mb-1"},"Total active monthly installment",-1)),aa={class:"font-bold text-gray-900"},ra=i(()=>t("p",{class:"mb-1"},"Total no of credit facilities",-1)),ia={class:"font-bold text-gray-900"},da=i(()=>t("p",{class:"mb-1"},"Total no of open facilities",-1)),ca={class:"font-bold text-gray-900"},ua=i(()=>t("p",{class:"mb-1"},"Total arrear amount",-1)),ma={class:"font-bold text-gray-900"},_a=i(()=>t("p",{class:"mb-1"},"Total outstanding debts",-1)),ha={class:"font-bold text-gray-900"},ya=i(()=>t("p",{class:"mb-1"},"Total no of closed credit facilities",-1)),pa={class:"font-bold text-gray-900"},ga=i(()=>t("p",{class:"mb-1"},"Total no of account in arrears",-1)),fa={class:"font-bold text-gray-900"},ba=i(()=>t("p",{class:"mb-1"},"Total no of delinquent facilities",-1)),va={class:"font-bold text-gray-900"},xa=i(()=>t("p",{class:"mb-1"},"Total no written off facilities",-1)),Aa={class:"font-bold text-gray-900"},Da={class:"bg-white p-6 rounded"},Na=i(()=>t("h2",{class:"text-md font-semibold mb-4"},"Loan Accounts",-1)),$a={key:0},wa=["colspan"],ka={class:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm"},Ca=i(()=>t("br",null,null,-1)),Sa=i(()=>t("br",null,null,-1)),Ya={key:1,class:"text-sm text-gray-500 italic"},qa={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ta={class:"bg-white rounded p-4"},La=i(()=>t("h2",{class:"font-semibold text-md mb-4"},"Enquiry History",-1)),Oa={key:0},Ba={class:"w-full text-sm text-left"},Fa=i(()=>t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"p-2"},"Lender's Name"),t("th",{class:"p-2"},"Date Requested")])],-1)),Ma={class:"p-2"},Ia={class:"p-2"},Ra={key:1,class:"text-sm text-gray-500 italic"},Pa={class:"bg-white rounded p-4"},Ha=i(()=>t("h2",{class:"font-semibold text-md mb-4"},"Employment History",-1)),Ea={key:0},Wa={key:1,class:"text-sm text-gray-500 italic"},Ua={class:"bg-white rounded p-4"},za=i(()=>t("h2",{class:"font-semibold text-md mb-4"},"Address History",-1)),Va={key:0},ja={class:"overflow-auto max-h-72 border rounded"},Ga={class:"min-w-full text-sm text-left"},Ja=i(()=>t("thead",{class:"bg-gray-100 sticky top-0 z-10"},[t("tr",null,[t("th",{class:"p-3 font-medium text-gray-700"},"Address"),t("th",{class:"p-3 font-medium text-gray-700 w-40"},"Date Updated")])],-1)),Ka={class:"divide-y divide-gray-200"},Qa={class:"p-3 text-gray-800"},Xa={class:"p-3 text-gray-800 w-40"},Za={key:1,class:"text-sm text-gray-500 italic"},tr={key:0,class:"bg-white p-6 rounded space-y-4"},er=i(()=>t("h2",{class:"text-md font-semibold mb-4"},"Personal details summary",-1)),sr={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-y-6 gap-x-8 text-sm text-gray-600"},or=i(()=>t("p",{class:"mb-1"},"Last Name",-1)),nr={class:"font-bold text-gray-900"},lr=i(()=>t("p",{class:"mb-1"},"Gender",-1)),ar={class:"font-bold text-gray-900"},rr=i(()=>t("p",{class:"mb-1"},"Phone Number",-1)),ir={class:"font-bold text-gray-900"},dr=i(()=>t("p",{class:"mb-1"},"Latest Residential Address",-1)),cr={class:"font-bold text-gray-900 leading-snug"},ur=i(()=>t("p",{class:"mb-1"},"First Name",-1)),mr={class:"font-bold text-gray-900"},_r=i(()=>t("p",{class:"mb-1"},"Bank Verification Number",-1)),hr={class:"font-bold text-gray-900"},yr=i(()=>t("p",{class:"mb-1"},"Work Telephone",-1)),pr={class:"font-bold text-gray-900"},gr=i(()=>t("p",{class:"mb-1"},"Other Names",-1)),fr={class:"font-bold text-gray-900"},br=i(()=>t("p",{class:"mb-1"},"Date of Birth",-1)),vr={class:"font-bold text-gray-900"},xr=i(()=>t("p",{class:"mb-1"},"Home Telephone",-1)),Ar={class:"font-bold text-gray-900"},Dr={key:1,class:"text-gray-500 text-sm italic"},Nr={key:1},$r={key:0,class:"bg-white p-6 rounded space-y-4"},wr=i(()=>t("h2",{class:"text-md font-semibold"},"Business Information",-1)),kr={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-6 gap-x-8 text-sm text-gray-600"},Cr=i(()=>t("p",{class:"mb-1"},"Business Name",-1)),Sr={class:"font-bold text-gray-900"},Yr=i(()=>t("div",null,[t("p",{class:"mb-1"},"Date of Incorporation"),t("p",{class:"font-bold text-gray-900"},"N/A")],-1)),qr=i(()=>t("div",null,[t("p",{class:"mb-1"},"Business Address"),t("p",{class:"font-bold text-gray-900"},"N/A")],-1)),Tr={key:1,class:"bg-white p-6 rounded space-y-4 mt-4"},Lr=i(()=>t("h2",{class:"text-md font-semibold"},"Director Information",-1)),Or={key:0},Br={class:"min-w-full text-sm text-left"},Fr=i(()=>t("thead",{class:"text-xs font-semibold text-gray-700"},[t("tr",null,[t("th",{class:""},"First Name"),t("th",{class:""},"Other Names"),t("th",{class:""},"Surname"),t("th",{class:""},"Identification Number")])],-1)),Mr={class:"py-2"},Ir={class:"py-2"},Rr={class:"py-2"},Pr={class:"py-2"},Hr={key:1,class:"text-sm text-gray-500 italic"},Er={class:"bg-white p-6 rounded-md mt-4"},Wr=i(()=>t("h2",{class:"text-md font-semibold mb-6"},"Summary",-1)),Ur={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-6 gap-x-8 text-sm text-gray-600"},zr=i(()=>t("div",null,[t("p",{class:"mb-1"},"Total active monthly installment"),t("p",{class:"font-bold text-gray-900"},"N/A")],-1)),Vr=i(()=>t("div",null,[t("p",{class:"mb-1"},"Total no of credit facilities"),t("p",{class:"font-bold text-gray-900"},"N/A")],-1)),jr=i(()=>t("p",{class:"mb-1"},"Total no of open facilities",-1)),Gr={class:"font-bold text-gray-900"},Jr=i(()=>t("div",null,[t("p",{class:"mb-1"},"Total arrear amount"),t("p",{class:"font-bold text-gray-900"},"N/A")],-1)),Kr=i(()=>t("div",null,[t("p",{class:"mb-1"},"Total outstanding debts"),t("p",{class:"font-bold text-gray-900"},"N/A")],-1)),Qr=i(()=>t("p",{class:"mb-1"},"Total no of closed credit facilities",-1)),Xr={class:"font-bold text-gray-900"},Zr=i(()=>t("div",null,[t("p",{class:"mb-1"},"Total no of account in arrears"),t("p",{class:"font-bold text-gray-900"},"N/A")],-1)),ti=i(()=>t("div",null,[t("p",{class:"mb-1"},"Total no of delinquent facilities"),t("p",{class:"font-bold text-gray-900"},"N/A")],-1)),ei=i(()=>t("p",{class:"mb-1"},"Total no written off facilities",-1)),si={class:"font-bold text-gray-900"},oi={class:"bg-white p-6 rounded"},ni=i(()=>t("h2",{class:"text-md font-semibold mb-4"},"Performing Accounts",-1)),li={key:0},ai=["colspan"],ri={class:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm"},ii=i(()=>t("br",null,null,-1)),di=i(()=>t("br",null,null,-1)),ci={key:1,class:"text-sm text-gray-500 italic"},ui={class:"bg-white p-6 rounded-md shadow"},mi=i(()=>t("h2",{class:"text-md font-semibold mb-4"},"Deliquents Accounts",-1)),_i={key:0},hi=["colspan"],yi={class:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm"},pi=i(()=>t("br",null,null,-1)),gi=i(()=>t("br",null,null,-1)),fi={key:1,class:"text-sm text-gray-500 italic"},bi={class:"bg-white p-6 rounded-md shadow"},vi=i(()=>t("h2",{class:"text-md font-semibold mb-4"},"Closed Accounts",-1)),xi={key:0},Ai=["colspan"],Di={class:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm"},Ni=i(()=>t("br",null,null,-1)),$i=i(()=>t("br",null,null,-1)),wi={key:1,class:"text-sm text-gray-500 italic"},ki={class:"bg-white p-6 rounded mb-6"},Ci=i(()=>t("h2",{class:"text-md font-semibold mb-4"},"Written Off Accounts",-1)),Si={key:0},Yi=["colspan"],qi={class:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm"},Ti=i(()=>t("br",null,null,-1)),Li=i(()=>t("br",null,null,-1)),Oi={key:1,class:"text-sm text-gray-500 italic"},Bi={class:"bg-white p-6 rounded mb-6"},Fi=i(()=>t("h2",{class:"text-md font-semibold mb-4"},"Unknown Accounts Status",-1)),Mi={key:0},Ii=["colspan"],Ri={class:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm"},Pi=i(()=>t("br",null,null,-1)),Hi=i(()=>t("br",null,null,-1)),Ei={key:1,class:"text-sm text-gray-500 italic"},Wi={class:"bg-white p-6 rounded mb-6"},Ui=i(()=>t("h2",{class:"text-md font-semibold mb-4"},"Inquiry History",-1)),zi={key:0},Vi={class:"min-w-full text-left"},ji=i(()=>t("thead",null,[t("tr",{class:"bg-gray-100 text-sm"},[t("th",{class:"p-2"},"Subscriber Name"),t("th",{class:"p-2"},"Inquiry Date"),t("th",{class:"p-2"},"Contact Phone"),t("th",{class:"p-2"},"Inquiry Reason")])],-1)),Gi={class:"p-2"},Ji={class:"p-2"},Ki={class:"p-2"},Qi={class:"p-2"},Xi={key:1,class:"text-sm text-gray-500 italic"},Zi={class:"hidden"},td={__name:"CreditReport",setup(d){const wt=Jt(),K=D("first_central"),Q=D(!1),rt=Kt(),xt=[{key:"first_central",label:"First Central"},{key:"credit_registry",label:"Credit Registry"}],q=D(""),T=D({}),k=D({}),L=D([]),tt=D([]),S=D([]),O=D([]),M=D([]),z=D([]),I=D([]),r=D([]),f=D([]),V=D([]),st=D([]),ot=D({}),ft=D([]),R=D({Surname:"",FirstName:"",OtherNames:"",Gender:"",BirthDate:"",BankVerificationNo:"",WorkTelephoneNo:"",HomeTelephoneNo:"",CellularNo:"",ResidentialAddress1:""}),kt=D(""),dt=D([]),ct=D(0),ut=D(0),mt=D(0);function nt(b){if(!b)return"â‚¦0.00";const x=parseFloat(String(b).replace(/,/g,"").trim());return new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:2}).format(isNaN(x)?0:x)}function Pt(b){if(!b||b.trim()==="")return"grey";const x=b.toLowerCase().trim();return x==="closed"?"green":x==="open"?"red":x==="paid up"?"blue":"grey"}const Ht=b=>{if(Array.isArray(b))return b;const x=[];for(const B in b)isNaN(Number(B))||x.push(b[B]);return x},Et=b=>{const x={};for(const B of b)for(const yt in B)Object.hasOwn(B,yt)&&(x[yt]=B[yt]);return x};function y(b){return b&&b.trim()!==""?b:"N/A"}const Wt=async b=>{var Z,X,o,v,H,E,W,Ot,Bt,Ft;const x=localStorage.getItem("data")?JSON.parse(localStorage.getItem("data")):null,B=x?x==null?void 0:x.token:(Z=Rt(()=>rt.token))==null?void 0:Z.value,lt=`https://dev02201.getjupita.com
/api/${x?(X=x.user)!=null&&X.business_name?(o=x.user)==null?void 0:o.id:(v=x.user)==null?void 0:v.tenant_id:(H=Rt(()=>{var bt;return(bt=rt.user)!=null&&bt.business_name?rt.user.id:rt.user.tenant_id}))==null?void 0:H.value}/get-credit-check-key?unique_key=${b}`;Q.value=!0;try{const Dt=(await ee.get(lt,{headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"}})).data.data,P=Dt==null?void 0:Dt.credit_history;q.value=P==null?void 0:P.id_type,console.log("ðŸ“Œ idType",q.value),console.log("ðŸŸ¢ Full Report:",Dt);const vt=P==null?void 0:P.fcbc_credit_history;if(vt){console.log("âœ… FCBC (array)Data:",vt),console.log("ðŸ” typeof rawFcbc:",typeof vt),console.log("ðŸ” Fcbc isArray:",Array.isArray(vt));const w=Ht(vt);console.log("ðŸ” Normalized FCBC:",w);const m=Et(w);if(console.log("âœ… Merged FCBC Object:",m),q.value==="business"){let e=function(u){return u==null||u===""?"N/A":u};const c=(m==null?void 0:m.BusinessData)||[],$=(m==null?void 0:m.DirectorInformation)||[];ot.value=c[0]||{},ft.value=$,console.log("âœ…FCBC BusinessData:",ot.value),console.log("âœ…FCBC Directors:",ft.value);const at=(m==null?void 0:m.CreditAgreementSummary)??[];L.value=at.map((u,Y)=>({uid:`${u.AccountNo||"acc"}-${Y}`,lender:e(u.SubscriberName),date:u.DateAccountOpened?p(u.DateAccountOpened).format("DD/MM/YYYY"):"N/A",amount:nt(u.OpeningBalanceAmt??0),balance:nt(u.CurrentBalanceAmt??0),status:e(u.AccountStatus),accountNo:e(u.AccountNo),closedDate:u.ClosedDate?p(u.ClosedDate).format("DD/MM/YYYY"):"N/A",duration:e(u.LoanDuration),repaymentFrequency:e(u.RepaymentFrequency),overdue:nt(u.AmountOverdue??0),instalment:nt(u.InstalmentAmount??0),performanceStatus:e(u.PerformanceStatus),currency:e(u.Currency)})),console.log("âœ…FCBC Credit Agreement Summary:",L.value);const pt=m==null?void 0:m.FacilityPerformanceSummary;k.value=Array.isArray(pt)&&pt.length>0?pt[0]:{};const gt=L.value.filter(u=>{var Y;return((Y=u.status)==null?void 0:Y.toLowerCase())==="open"}).length,Nt=L.value.filter(u=>{var Y;return((Y=u.status)==null?void 0:Y.toLowerCase())==="closed"}).length,$t=L.value.filter(u=>{var Y;return((Y=u.performanceStatus)==null?void 0:Y.toLowerCase())==="written-off"}).length;k.value.TotalOpenFacilities=gt,k.value.TotalClosedFacilities=Nt,k.value.TotalWrittenOffFacilities=$t,console.log("âœ…FCBC Summary (Business):",k.value),console.log("Open:",gt,"Closed:",Nt,"Written-off:",$t);const Ct=(m==null?void 0:m.EnquiryHistoryTop)??[];tt.value=Ct.filter(u=>{var Y,It;return((Y=u.SubscriberName)==null?void 0:Y.trim())&&((It=u.DateRequested)==null?void 0:It.trim())}).map(u=>({lender:u.SubscriberName.trim(),date:p(u.DateRequested).format("DD/MM/YYYY"),rawDate:p(u.LastUpdatedDate)})),console.log("âœ… FCBC Enquiry History (cleaned):",tt.value);const _=(m==null?void 0:m.EmploymentHistory)??[];S.value=_.filter(u=>u.EmployerDetail&&u.EmployerDetail.trim()!=="").map(u=>({employerName:u.EmployerDetail,date:u.UpdateDate&&u.UpdateDate.trim()!==""?p(u.UpdateDate).format("DD/MM/YYYY"):"N/A",rawDate:u.UpdateDate&&u.UpdateDate.trim()!==""?p(u.UpdateDate):null})),console.log("âœ…FCBC Employment History:",S.value);const C=(m==null?void 0:m.AddressHistory)??[];O.value=C.map(u=>({address:[u.CommercialAddress1,u.CommercialAddress2,u.CommercialAddress3,u.CommercialAddress4].map(Y=>Y==null?void 0:Y.trim()).filter(Y=>Y).join(", "),date:u.UpDateOnDate||""})),console.log("âœ…FCBC Address History:",O.value)}else if(q.value==="individual"){const e=(m==null?void 0:m.CreditAgreementSummary)??[];L.value=e.map((_,C)=>({uid:`${_.AccountNo||"acc"}-${C}`,lender:_.SubscriberName,date:p(_.DateAccountOpened).format("DD/MM/YYYY"),amount:nt(_.OpeningBalanceAmt??"0"),balance:nt(_.CurrentBalanceAmt??"0"),status:_.AccountStatus,accountNo:_.AccountNo,closedDate:p(_.ClosedDate).format("DD/MM/YYYY"),duration:_.LoanDuration,repaymentFrequency:_.RepaymentFrequency,overdue:nt(_.AmountOverdue),instalment:nt(_.InstalmentAmount),performanceStatus:_.PerformanceStatus,currency:_.Currency})),console.log("âœ…FCBC Credit Agreement Summary (Individual):",L.value);const c=m==null?void 0:m.CreditAccountSummary;k.value=Array.isArray(c)&&c.length>0?c[0]:{};const $=L.value.filter(_=>{var C;return((C=_.status)==null?void 0:C.toLowerCase())==="open"}).length,at=L.value.filter(_=>{var C;return((C=_.status)==null?void 0:C.toLowerCase())==="closed"}).length,pt=L.value.filter(_=>{var C;return((C=_.performanceStatus)==null?void 0:C.toLowerCase())==="written-off"}).length;k.value.TotalOpenFacilities=$,k.value.TotalClosedFacilities=at,k.value.TotalWrittenOffFacilities=pt,console.log("âœ…FCBC Summary (Individual):",k.value),console.log("Open:",$,"Closed:",at,"Written-off:",pt);const gt=(m==null?void 0:m.PersonalDetailsSummary)??[];T.value=Array.isArray(gt)&&gt.length>0?gt[0]:{},console.log("âœ… FCBC Personal Details (Individual):",T.value);const Nt=(m==null?void 0:m.EnquiryHistoryTop)??[];tt.value=Nt.filter(_=>{var C,u;return((C=_.SubscriberName)==null?void 0:C.trim())&&((u=_.DateRequested)==null?void 0:u.trim())}).map(_=>({lender:_.SubscriberName.trim(),date:p(_.DateRequested).format("DD/MM/YYYY"),rawDate:p(_.LastUpdatedDate)})),console.log("âœ… FCBC Enquiry History (Individual):",tt.value);const $t=(m==null?void 0:m.EmploymentHistory)??[];S.value=$t.filter(_=>_.EmployerDetail&&_.EmployerDetail.trim()!=="").map(_=>({employerName:_.EmployerDetail,date:_.UpdateDate&&_.UpdateDate.trim()!==""?p(_.UpdateDate).format("DD/MM/YYYY"):"N/A",rawDate:_.UpdateDate&&_.UpdateDate.trim()!==""?p(_.UpdateDate):null})),console.log("âœ…FCBC Employment History (Individual):",S.value);const Ct=(m==null?void 0:m.AddressHistory)??[];O.value=Ct.map(_=>({address:[_.CommercialAddress1,_.CommercialAddress2,_.CommercialAddress3,_.CommercialAddress4].map(C=>C==null?void 0:C.trim()).filter(C=>C).join(", "),date:_.UpDateOnDate||""})),console.log("âœ…FCBC Address History (Individual):",O.value)}}else console.warn("âš ï¸ No FCBC credit history found");const g=(E=P==null?void 0:P.credit_registry_history)==null?void 0:E.AccountData,Mt=(W=P==null?void 0:P.credit_registry_history)==null?void 0:W.PersonalDetail;if(console.log("ðŸŸ  Credit Registry AccountData:",g),console.log("ðŸŸ  Credit Registry PersonalDetail:",Mt),!g){console.warn("âš ï¸ No Credit Registry data found");return}if(q.value==="business"){const w=Mt;if(w&&w.Name&&((Ot=w.IDs)!=null&&Ot.length)){const e=w.Name.trim().split(" "),c=e[e.length-1],$=e[0],at=e.slice(1,e.length-1).join(" ");dt.value=[{firstName:$,otherNames:at,surname:c,identificationNumber:w.IDs.join(" | ")}],console.log("credit registry directors:",dt.value)}else dt.value=[];const m=g==null?void 0:g.PerformingAccounts;if(Array.isArray(g.PerformingAccounts)){const e=(Bt=m[0])==null?void 0:Bt.Account_Owners,c=Array.isArray(e)&&e.length>0?e[0].FullName:null;kt.value=e,M.value=g.PerformingAccounts.map(($,at)=>({uid:`${$.Account_No||"acc"}-${at}`,lender:$.CreditorName,date:p($.Date_Opened).format("DD/MM/YYYY"),amount:$.Credit_Limit||0,balance:$.Balance||0,status:$.Account_Status||"Performing",raw:$,accountNo:$.Account_No,closedDate:p($.Balance_Date).format("DD/MM/YYYY"),duration:$.Term,repaymentFrequency:$.Term_Frequency,overdue:$.AmountOverdue,instalment:$.Minimum_Installment,performanceStatus:$.Account_Status,currency:$.Currency})),console.log("âœ… Credit Registry Performing Accounts:",M.value)}else console.warn("âš ï¸ No PerformingAccounts found");Array.isArray(m)?(ct.value=m.filter(e=>{var c;return((c=e.status)==null?void 0:c.toLowerCase())==="open"}).length,ut.value=m.filter(e=>{var c;return((c=e.status)==null?void 0:c.toLowerCase())==="closed"}).length,mt.value=m.filter(e=>{var c;return((c=e.performanceStatus)==null?void 0:c.toLowerCase())==="written-off"}).length):console.warn("âš ï¸ No PerformingAccounts found in Credit Registry"),console.log("Open:",ct,"Closed:",ut,"Written-off:",mt),Array.isArray(g.DelinquentAccounts)?(z.value=g.DelinquentAccounts.map((e,c)=>({uid:`${e.Account_No||"acc"}-${c}`,lender:e.CreditorName,date:p(e.Date_Opened).format("DD/MM/YYYY"),amount:e.Credit_Limit||0,balance:e.Balance||0,status:e.Account_Status||"Delinquent",raw:e,accountNo:e.Account_No,closedDate:p(e.Balance_Date).format("DD/MM/YYYY"),duration:e.Term,repaymentFrequency:e.Term_Frequency,overdue:e.AmountOverdue,instalment:e.Minimum_Installment,performanceStatus:e.Account_Status,currency:e.Currency})),console.log("âœ… Credit Registry Delinquent Accounts:",z.value)):console.warn("âš ï¸ No DelinquentAccounts found"),Array.isArray(g.ClosedAccounts)?(I.value=g.ClosedAccounts.map((e,c)=>({uid:`${e.Account_No||"acc"}-${c}`,lender:e.CreditorName,date:p(e.Date_Opened).format("DD/MM/YYYY"),amount:e.Credit_Limit||0,balance:e.Balance||0,status:e.Account_Status||"Closed",raw:e,accountNo:e.Account_No,closedDate:p(e.Balance_Date).format("DD/MM/YYYY"),duration:e.Term,repaymentFrequency:e.Term_Frequency,overdue:e.AmountOverdue,instalment:e.Minimum_Installment,performanceStatus:e.Account_Status,currency:e.Currency})),console.log("âœ… Credit Registry Closed Accounts:",I.value)):console.warn("âš ï¸ No ClosedAccounts found"),Array.isArray(g.DerogatoryAccounts)?(r.value=g.DerogatoryAccounts.map((e,c)=>({uid:`${e.Account_No||"acc"}-${c}`,lender:e.CreditorName,date:p(e.Date_Opened).format("DD/MM/YYYY"),amount:e.Credit_Limit||0,balance:e.Balance||0,status:e.Account_Status||"Derogatory",raw:e,accountNo:e.Account_No,closedDate:p(e.Balance_Date).format("DD/MM/YYYY"),duration:e.Term,repaymentFrequency:e.Term_Frequency,overdue:e.AmountOverdue,instalment:e.Minimum_Installment,performanceStatus:e.Account_Status,currency:e.Currency})),console.log("âœ… Credit Registry Derogatory Accounts:",r.value)):console.warn("âš ï¸ No DerogatoryAccounts found"),Array.isArray(g.WrittenOffAccounts)?(f.value=g.WrittenOffAccounts.map((e,c)=>({uid:`${e.Account_No||"acc"}-${c}`,lender:e.CreditorName,date:p(e.Date_Opened).format("DD/MM/YYYY"),amount:e.Credit_Limit||0,balance:e.Balance||0,status:e.Account_Status||"Written off",raw:e,accountNo:e.Account_No,closedDate:p(e.Balance_Date).format("DD/MM/YYYY"),duration:e.Term,repaymentFrequency:e.Term_Frequency,overdue:e.AmountOverdue,instalment:e.Minimum_Installment,performanceStatus:e.Account_Status,currency:e.Currency})),console.log("âœ… Credit Registry Written Off Accounts:",f.value)):console.warn("âš ï¸ No WrittenOffAccounts found"),Array.isArray(g.unknownAccounts)?(V.value=g.unknownAccounts.map((e,c)=>({uid:`${e.Account_No||"acc"}-${c}`,lender:e.CreditorName,date:p(e.Date_Opened).format("DD/MM/YYYY"),amount:e.Credit_Limit||0,balance:e.Balance||0,status:e.Account_Status||"Unknown",raw:e,accountNo:e.Account_No,closedDate:p(e.Balance_Date).format("DD/MM/YYYY"),duration:e.Term,repaymentFrequency:e.Term_Frequency,overdue:e.AmountOverdue,instalment:e.Minimum_Installment,performanceStatus:e.Account_Status,currency:e.Currency})),console.log("âœ… Credit Registry Unknown Status Accounts:",V.value)):console.warn("âš ï¸ No unknownAccounts found"),Array.isArray(g.InquiryHistory)?(st.value=g.InquiryHistory.map((e,c)=>({uid:`inq-${c}`,subscriber:e.Subscriber||"Unknown",date:p(e.InquiryDate).format("DD/MM/YYYY"),phone:e.ContactPhone||"N/A",reason:e.Reason||"N/A",raw:e})),console.log("âœ… Credit Registry Inquiry History:",st.value)):console.warn("âš ï¸ No InquiryHistory found")}else if(q.value==="individual"){const w=(Ft=P==null?void 0:P.credit_registry_history)==null?void 0:Ft.PersonalDetail;if(w){const[e="",c="",$=""]=(w.Name||"").trim().split(/\s+/);R.value={Surname:e,FirstName:c,OtherNames:$,Gender:w.Gender||"",BirthDate:w.DOBI?p(w.DOBI).format("DD/MM/YYYY"):"",BankVerificationNo:"",WorkTelephoneNo:Array.isArray(w.PhoneNumbers)&&w.PhoneNumbers[1]||"",HomeTelephoneNo:Array.isArray(w.PhoneNumbers)&&w.PhoneNumbers[1]||"",CellularNo:Array.isArray(w.PhoneNumbers)&&w.PhoneNumbers[0]||"",ResidentialAddress1:w==null?void 0:w.Address},console.log("credit registry personal:",R.value)}const m=g==null?void 0:g.PerformingAccounts;Array.isArray(g.PerformingAccounts)?(M.value=g.PerformingAccounts.map((e,c)=>({uid:`${e.Account_No||"acc"}-${c}`,lender:e.CreditorName,date:p(e.Date_Opened).format("DD/MM/YYYY"),amount:e.Credit_Limit||0,balance:e.Balance||0,status:e.Account_Status||"Performing",raw:e,accountNo:e.Account_No,closedDate:p(e.Balance_Date).format("DD/MM/YYYY"),duration:e.Term,repaymentFrequency:e.RepaymentFrequency,overdue:e.AmountOverdue,instalment:e.Minimum_Installment,performanceStatus:e.Account_Status,currency:e.Currency})),console.log("âœ… Credit Registry Performing Accounts:",M.value)):console.warn("âš ï¸ No PerformingAccounts found"),Array.isArray(m)?(ct.value=m.filter(e=>{var c;return((c=e.status)==null?void 0:c.toLowerCase())==="open"}).length,ut.value=m.filter(e=>{var c;return((c=e.status)==null?void 0:c.toLowerCase())==="closed"}).length,mt.value=m.filter(e=>{var c;return((c=e.performanceStatus)==null?void 0:c.toLowerCase())==="written-off"}).length):console.warn("âš ï¸ No PerformingAccounts found in Credit Registry"),console.log("Open:",ct,"Closed:",ut,"Written-off:",mt),Array.isArray(g.DelinquentAccounts)?(z.value=g.DelinquentAccounts.map((e,c)=>({uid:`${e.Account_No||"acc"}-${c}`,lender:e.CreditorName,date:p(e.Date_Opened).format("DD/MM/YYYY"),amount:e.Credit_Limit||0,balance:e.Balance||0,status:e.Account_Status||"Delinquent",raw:e,accountNo:e.Account_No,closedDate:p(e.Balance_Date).format("DD/MM/YYYY"),duration:e.Term,repaymentFrequency:e.Term_Frequency,overdue:e.AmountOverdue,instalment:e.Minimum_Installment,performanceStatus:e.Account_Status,currency:e.Currency})),console.log("âœ… Credit Registry Delinquent Accounts:",z.value)):console.warn("âš ï¸ No DelinquentAccounts found"),Array.isArray(g.ClosedAccounts)?(I.value=g.ClosedAccounts.map((e,c)=>({uid:`${e.Account_No||"acc"}-${c}`,lender:e.CreditorName,date:p(e.Date_Opened).format("DD/MM/YYYY"),amount:e.Credit_Limit||0,balance:e.Balance||0,status:e.Account_Status||"Closed",raw:e,accountNo:e.Account_No,closedDate:p(e.Balance_Date).format("DD/MM/YYYY"),duration:e.Term,repaymentFrequency:e.Term_Frequency,overdue:e.AmountOverdue,instalment:e.Minimum_Installment,performanceStatus:e.Account_Status,currency:e.Currency})),console.log("âœ… Credit Registry Closed Accounts:",I.value)):console.warn("âš ï¸ No ClosedAccounts found"),Array.isArray(g.DerogatoryAccounts)?(r.value=g.DerogatoryAccounts.map((e,c)=>({uid:`${e.Account_No||"acc"}-${c}`,lender:e.CreditorName,date:p(e.Date_Opened).format("DD/MM/YYYY"),amount:e.Credit_Limit||0,balance:e.Balance||0,status:e.Account_Status||"Closed",raw:e,accountNo:e.Account_No,closedDate:p(e.Balance_Date).format("DD/MM/YYYY"),duration:e.Term,repaymentFrequency:e.Term_Frequency,overdue:e.AmountOverdue,instalment:e.Minimum_Installment,performanceStatus:e.Account_Status,currency:e.Currency})),console.log("âœ… Credit Registry Derogatory Accounts:",r.value)):console.warn("âš ï¸ No DerogatoryAccounts found"),Array.isArray(g.WrittenOffAccounts)?(f.value=g.WrittenOffAccounts.map((e,c)=>({uid:`${e.Account_No||"acc"}-${c}`,lender:e.CreditorName,date:p(e.Date_Opened).format("DD/MM/YYYY"),amount:e.Credit_Limit||0,balance:e.Balance||0,status:e.Account_Status||"Written off",raw:e,accountNo:e.Account_No,closedDate:p(e.Balance_Date).format("DD/MM/YYYY"),duration:e.Term,repaymentFrequency:e.Term_Frequency,overdue:e.AmountOverdue,instalment:e.Minimum_Installment,performanceStatus:e.Account_Status,currency:e.Currency})),console.log("âœ… Credit Registry Written Off Accounts:",f.value)):console.warn("âš ï¸ No WrittenOffAccounts found"),Array.isArray(g.unknownAccounts)?(V.value=g.unknownAccounts.map((e,c)=>({uid:`${e.Account_No||"acc"}-${c}`,lender:e.CreditorName,date:p(e.Date_Opened).format("DD/MM/YYYY"),amount:e.Credit_Limit||0,balance:e.Balance||0,status:e.Account_Status||"Unknown",raw:e,accountNo:e.Account_No,closedDate:p(e.Balance_Date).format("DD/MM/YYYY"),duration:e.Term,repaymentFrequency:e.Term_Frequency,overdue:e.AmountOverdue,instalment:e.Minimum_Installment,performanceStatus:e.Account_Status,currency:e.Currency})),console.log("âœ… Credit Registry Unknown Status Accounts:",V.value)):console.warn("âš ï¸ No unknownAccounts found"),Array.isArray(g.InquiryHistory)?(st.value=g.InquiryHistory.map((e,c)=>({uid:`inq-${c}`,subscriber:e.Subscriber||"Unknown",date:p(e.InquiryDate).format("DD/MM/YYYY"),phone:e.ContactPhone||"N/A",reason:e.Reason||"N/A",raw:e})),console.log("âœ… Credit Registry Inquiry History:",st.value)):console.warn("âš ï¸ No InquiryHistory found")}}catch(bt){console.log("âŒ Error fetching credit report:",bt)}finally{Q.value=!1}},et=D([]),_t=b=>{et.value=et.value.includes(b)?[]:[b]},ht=b=>et.value.includes(b),At=[{title:"Lender's Name",key:"lender"},{title:"Disbursement Date",key:"date"},{title:"Loan Amount",value:"amount"},{title:"Loan Balance",key:"balance"},{title:"Status",key:"status"},{title:"Action",key:"action",sortable:!1}],Ut=[{title:"Employer Name",key:"employerName"},{title:"Date Updated",key:"date"}],St=[{title:"Lender's Name",key:"lender"},{title:"Disbursement Date",key:"date"},{title:"Loan Amount",key:"amount"},{title:"Loan Balance",key:"balance"},{title:"Action",key:"action",sortable:!1}],Yt=[{title:"Lender's Name",key:"lender"},{title:"Disbursement Date",key:"date"},{title:"Loan Amount",key:"amount"},{title:"Loan Balance",key:"balance"},{title:"Action",key:"action",sortable:!1}],qt=[{title:"Lender's Name",key:"lender"},{title:"Disbursement Date",key:"date"},{title:"Loan Amount",key:"amount"},{title:"Loan Balance",key:"balance"},{title:"Action",key:"action",sortable:!1}],Tt=[{title:"Lender's Name",key:"lender"},{title:"Disbursement Date",key:"date"},{title:"Loan Amount",key:"amount"},{title:"Loan Balance",key:"balance"},{title:"Action",key:"action",sortable:!1}],Lt=D(null);Qt(()=>{const b=wt.params.unique_key;b?Wt(b):(console.warn("âŒ Invalid unique key from route"),Q.value=!1)});function G(b){if(!b)return"bg-gray-200 text-gray-700";const x=b.toLowerCase();return x==="closed"||x==="performing"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}function J(b){if(!b)return"bg-gray-500";const x=b.toLowerCase();return x==="closed"||x==="performing"?"bg-green-600":"bg-red-600"}return(b,x)=>{const B=it("v-btn"),yt=it("v-progress-circular"),lt=it("v-chip"),Z=it("v-data-table");return l(),Xt(te,null,{default:h(()=>[t("div",nl,[t("div",ll,[(l(),a(F,null,U(xt,X=>t("button",{key:X.key,onClick:o=>K.value=X.key,class:N([K.value===X.key?"bg-blue-600 text-white":"bg-white text-black","px-4 py-2 rounded transition text-sm"])},s(X.label),11,al)),64))]),t("div",null,[A(B,{onClick:x[0]||(x[0]=X=>{var o;return(o=Lt.value)==null?void 0:o.exportPDF()}),"no-uppercase":"",size:"small",class:"normal-case p-4 bg-blue-600 hover:bg-blue-700 text-white text-none custom-btn"},{default:h(()=>[rl,n(" Export PDF ")]),_:1})])]),t("div",il,[Q.value?(l(),a("div",dl,[A(yt,{indeterminate:"",color:"#1f5aa3",size:"80",width:"8"}),cl])):j("",!0),A(Zt,{name:"fade",mode:"out-in"},{default:h(()=>{var X;return[Q.value?j("",!0):(l(),a("div",{key:K.value,class:"space-y-6"},[K.value==="first_central"?(l(),a(F,{key:0},[q.value!=="business"?(l(),a("div",ul,[t("div",ml,[_l,T.value&&Object.keys(T.value).length>0?(l(),a("div",hl,[t("div",null,[yl,t("p",pl,s(T.value.Surname),1)]),t("div",null,[gl,t("p",fl,s(T.value.Gender),1)]),t("div",null,[bl,t("p",vl,s(T.value.CellularNo),1)]),t("div",null,[xl,t("p",Al,s(T.value.ResidentialAddress1),1)]),t("div",null,[Dl,t("p",Nl,s(T.value.FirstName),1)]),t("div",null,[$l,t("p",wl,s(T.value.BankVerificationNo),1)]),t("div",null,[kl,t("p",Cl,s(T.value.WorkTelephoneNo),1)]),t("div",null,[Sl,t("p",Yl,s(T.value.OtherNames),1)]),t("div",null,[ql,t("p",Tl,s(T.value.BirthDate),1)]),t("div",null,[Ll,t("p",Ol,s(T.value.HomeTelephoneNo),1)])])):(l(),a("div",Bl,"No personal data available."))])])):(l(),a("div",Fl,[q.value==="business"?(l(),a("div",Ml,[Il,t("div",Rl,[t("div",null,[Pl,t("p",Hl,s(y(ot.value.BusinessName)),1)]),t("div",null,[El,t("p",Wl,s(y(ot.value.DateOfIncorporation)),1)]),t("div",null,[Ul,t("p",zl,s(y(ot.value.CommercialAddress1))+", "+s(y(ot.value.CommercialAddress2))+", "+s(y(ot.value.CommercialAddress4)),1)])])])):j("",!0),q.value==="business"?(l(),a("div",Vl,[jl,ft.value.length>0?(l(),a("div",Gl,[t("table",Jl,[Kl,t("tbody",null,[(l(!0),a(F,null,U(ft.value,(o,v)=>(l(),a("tr",{key:v},[t("td",Ql,s(y(o.firstName)),1),t("td",Xl,s(y(o.othernames)),1),t("td",Zl,s(y(o.surname)),1),t("td",ta,s(y(o.Identificationnumber)),1)]))),128))])])])):(l(),a("div",ea," No director information available. "))])):j("",!0)])),t("div",sa,[oa,t("div",na,[t("div",null,[la,t("p",aa,s(k.value.TotalMonthlyInstalment||0),1)]),t("div",null,[ra,t("p",ia,s(k.value.TotalAccounts||0),1)]),t("div",null,[da,t("p",ca,s(k.value.totalOpen||0),1)]),t("div",null,[ua,t("p",ma,s(k.value.Amountarrear||0),1)]),t("div",null,[_a,t("p",ha,s(k.value.TotalOutstandingdebt||0),1)]),t("div",null,[ya,t("p",pa,s(k.value.totalClosed||0),1)]),t("div",null,[ga,t("p",fa,s(k.value.TotalAccountarrear||0),1)]),t("div",null,[ba,t("p",va,s(k.value.TotalaccountinBadcondition||0),1)]),t("div",null,[xa,t("p",Aa,s(k.value.totalWrittenOff||0),1)])])]),t("div",Da,[Na,L.value&&L.value.length>0?(l(),a("div",$a,[A(Z,{headers:At,items:L.value,"item-value":"uid",expanded:et.value,class:"elevation-1","fixed-header":"",height:"400","hide-default-footer":""},{"item.status":h(({item:o})=>[A(lt,{color:Pt(o.status),variant:"tonal",size:"small",class:"text-white"},{default:h(()=>{var v;return[n(s(((v=o.status)==null?void 0:v.trim())||"Unknown"),1)]}),_:2},1032,["color"])]),"item.action":h(({item:o})=>[A(B,{size:"small",color:"primary",onClick:v=>_t(o.uid)},{default:h(()=>[n(s(ht(o.uid)?"Hide":"View"),1)]),_:2},1032,["onClick"])]),"expanded-row":h(({item:o})=>[t("td",{colspan:At.length,class:"px-4 py-2 bg-gray-90 mb-4"},[t("div",ka,[t("p",null,[n(" Account number: "),t("strong",null,s(y(o.accountNo)),1)]),t("p",null,[n(" Loan Amount: "),t("strong",null,s(o.amount||0),1)]),t("p",null,[n(" Current Balance: "),t("strong",null,s(o.balance||0),1)]),t("p",null,[n(" Amount Overdue: "),t("strong",null,s(o.overdue||0),1)]),t("p",null,[n(" Instalment Amount: "),t("strong",null,s(o.instalment||0),1)]),t("p",null,[n(" Loan Duration: "),t("strong",null,s(y(o.duration)),1)]),t("p",null,[n(" Repayment Frequency: "),t("strong",null,s(y(o.repaymentFrequency)),1)]),t("p",null,[n(" Date Account Opened: "),t("strong",null,s(y(o.date)),1)]),t("p",null,[n(" Closed Date: "),t("strong",null,s(y(o.closedDate)),1)]),t("div",null,[n(" Performance Status "),Ca,t("div",{class:N(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1",G(o.performanceStatus)])},[t("span",{class:N(["h-1.5 w-1.5 rounded-full mr-1.5",J(o.performanceStatus)])},null,2),t("strong",null,s(o.performanceStatus||"N/A"),1)],2)]),t("div",null,[n(" Account Status "),Sa,t("div",{class:N(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1",G(o.status)])},[t("span",{class:N(["h-1.5 w-1.5 rounded-full mr-1.5",J(o.status)])},null,2),t("strong",null,s(o.status||"N/A"),1)],2)])])],8,wa)]),_:1},8,["items","expanded"])])):(l(),a("div",Ya,"No loan accounts available."))]),t("div",qa,[t("div",Ta,[La,tt.value&&tt.value.length>0?(l(),a("div",Oa,[t("table",Ba,[Fa,t("tbody",null,[(l(!0),a(F,null,U(tt.value,(o,v)=>(l(),a("tr",{key:v,class:"border-b"},[t("td",Ma,s(o.lender),1),t("td",Ia,s(o.date),1)]))),128))])])])):(l(),a("div",Ra,"No enquiry history available."))]),t("div",Pa,[Ha,S.value&&S.value.length>0?(l(),a("div",Ea,[A(Z,{headers:Ut,items:S.value,class:"elevation-1","fixed-header":"",height:"200"},{"item.date":h(({item:o})=>[n(s(o.date),1)]),_:1},8,["items"])])):(l(),a("div",Wa," No employment history available. "))])]),t("div",Ua,[za,O.value&&O.value.length>0?(l(),a("div",Va,[t("div",ja,[t("table",Ga,[Ja,t("tbody",Ka,[(l(!0),a(F,null,U(O.value,(o,v)=>(l(),a("tr",{key:v},[t("td",Qa,s(o.address),1),t("td",Xa,s(o.date),1)]))),128))])])])])):(l(),a("div",Za,"No address history available."))])],64)):K.value==="credit_registry"?(l(),a(F,{key:1},[q.value!=="business"?(l(),a("div",tr,[er,R.value&&Object.values(R.value).some(o=>o&&o.toString().trim()!=="")?(l(),a("div",sr,[t("div",null,[or,t("p",nr,s(R.value.Surname||"N/A"),1)]),t("div",null,[lr,t("p",ar,s(R.value.Gender||"N/A"),1)]),t("div",null,[rr,t("p",ir,s(R.value.CellularNo||"N/A"),1)]),t("div",null,[dr,t("p",cr,s(((X=R.value)==null?void 0:X.address)||"N/A"),1)]),t("div",null,[ur,t("p",mr,s(R.value.FirstName||"N/A"),1)]),t("div",null,[_r,t("p",hr,s(R.value.BankVerificationNo||"N/A"),1)]),t("div",null,[yr,t("p",pr,s(R.value.WorkTelephoneNo||"N/A"),1)]),t("div",null,[gr,t("p",fr,s(R.value.OtherNames||"N/A"),1)]),t("div",null,[br,t("p",vr,s(R.value.BirthDate||"N/A"),1)]),t("div",null,[xr,t("p",Ar,s(R.value.HomeTelephoneNo||"N/A"),1)])])):(l(),a("div",Dr,"No personal data available."))])):(l(),a("div",Nr,[q.value==="business"?(l(),a("div",$r,[wr,t("div",kr,[t("div",null,[Cr,t("p",Sr,s(y(kt.value)),1)]),Yr,qr])])):j("",!0),q.value==="business"?(l(),a("div",Tr,[Lr,dt.value.length>0?(l(),a("div",Or,[t("table",Br,[Fr,t("tbody",null,[(l(!0),a(F,null,U(dt.value,(o,v)=>(l(),a("tr",{key:v},[t("td",Mr,s(o.firstName),1),t("td",Ir,s(o.otherNames),1),t("td",Rr,s(o.surname),1),t("td",Pr,s(o.identificationNumber),1)]))),128))])])])):(l(),a("div",Hr," No director information available. "))])):j("",!0)])),t("div",Er,[Wr,t("div",Ur,[zr,Vr,t("div",null,[jr,t("p",Gr,s(ct.value||0),1)]),Jr,Kr,t("div",null,[Qr,t("p",Xr,s(ut.value||0),1)]),Zr,ti,t("div",null,[ei,t("p",si,s(mt.value||0),1)])])]),t("div",oi,[ni,M.value&&M.value.length>0?(l(),a("div",li,[A(Z,{headers:At,items:M.value,"item-value":"uid",expanded:et.value,"show-expand":"","fixed-header":"",height:"300","hide-default-footer":"",class:"elevation-1"},{"item.status":h(({item:o})=>[A(lt,{color:o.status==="Closed"?"green":"red",variant:"tonal",size:"small",class:"text-white"},{default:h(()=>[n(s(o.status),1)]),_:2},1032,["color"])]),"item.action":h(({item:o})=>[A(B,{size:"small",color:"primary",onClick:v=>_t(o.uid)},{default:h(()=>[n(s(ht(o.uid)?"Hide":"View"),1)]),_:2},1032,["onClick"])]),"expanded-row":h(({item:o})=>[t("td",{colspan:At.length,class:"px-4 py-2 bg-gray-90 mb-4"},[t("div",ri,[t("p",null,[n(" Account number: "),t("strong",null,s(y(o.accountNo)),1)]),t("p",null,[n(" Loan Amount: "),t("strong",null,s(o.amount||0),1)]),t("p",null,[n(" Current Balance: "),t("strong",null,s(o.balance||0),1)]),t("p",null,[n(" Amount Overdue: "),t("strong",null,s(o.overdue||0),1)]),t("p",null,[n(" Instalment Amount: "),t("strong",null,s(o.instalment||0),1)]),t("p",null,[n(" Loan Duration: "),t("strong",null,s(y(o.duration))+" months",1)]),t("p",null,[n(" Repayment Frequency: "),t("strong",null,s(y(o.repaymentFrequency)),1)]),t("p",null,[n(" Date Account Opened: "),t("strong",null,s(y(o.date)),1)]),t("p",null,[n(" Closed Date: "),t("strong",null,s(y(o.closedDate)),1)]),t("div",null,[n(" Performance Status "),ii,t("div",{class:N(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1",G(o.performanceStatus)])},[t("span",{class:N(["h-1.5 w-1.5 rounded-full mr-1.5",J(o.performanceStatus)])},null,2),t("strong",null,s(o.performanceStatus||"N/A"),1)],2)]),t("div",null,[n(" Account Status "),di,t("div",{class:N(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1",G(o.status)])},[t("span",{class:N(["h-1.5 w-1.5 rounded-full mr-1.5",J(o.status)])},null,2),t("strong",null,s(o.status||"N/A"),1)],2)])])],8,ai)]),_:1},8,["items","expanded"])])):(l(),a("div",ci,"No loan accounts available."))]),t("div",ui,[mi,z.value&&z.value.length>0?(l(),a("div",_i,[A(Z,{headers:St,items:z.value,"item-value":"uid",expanded:et.value,"show-expand":"","fixed-header":"",height:"300","hide-default-footer":"",class:"elevation-1"},{"item.status":h(({item:o})=>[A(lt,{color:o.status==="Closed"?"green":"red",variant:"tonal",size:"small",class:"text-white"},{default:h(()=>[n(s(o.status),1)]),_:2},1032,["color"])]),"item.action":h(({item:o})=>[A(B,{size:"small",color:"primary",onClick:v=>_t(o.uid)},{default:h(()=>[n(s(ht(o.uid)?"Hide":"View"),1)]),_:2},1032,["onClick"])]),"expanded-row":h(({item:o})=>{var v,H,E,W;return[t("td",{colspan:St.length,class:"px-4 py-2 bg-gray-90 mb-4"},[t("div",yi,[t("p",null,[n(" Account number: "),t("strong",null,s(y(o.accountNo)),1)]),t("p",null,[n(" Loan Amount: "),t("strong",null,"â‚¦"+s(((v=o.amount)==null?void 0:v.toLocaleString())||"0"),1)]),t("p",null,[n(" Current Balance: "),t("strong",null,"â‚¦"+s(((H=o.balance)==null?void 0:H.toLocaleString())||"0"),1)]),t("p",null,[n(" Amount Overdue: "),t("strong",null,"â‚¦"+s(((E=o.overdue)==null?void 0:E.toLocaleString())||"0"),1)]),t("p",null,[n(" Instalment Amount: "),t("strong",null,"â‚¦"+s(((W=o.instalment)==null?void 0:W.toLocaleString())||"0"),1)]),t("p",null,[n(" Loan Duration: "),t("strong",null,s(y(o.duration))+" months",1)]),t("p",null,[n(" Repayment Frequency: "),t("strong",null,s(y(o.repaymentFrequency)),1)]),t("p",null,[n(" Date Account Opened: "),t("strong",null,s(y(o.date)),1)]),t("p",null,[n(" Closed Date: "),t("strong",null,s(y(o.closedDate)),1)]),t("div",null,[n(" Performance Status "),pi,t("div",{class:N(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1",G(o.performanceStatus)])},[t("span",{class:N(["h-1.5 w-1.5 rounded-full mr-1.5",J(o.performanceStatus)])},null,2),t("strong",null,s(o.performanceStatus||"N/A"),1)],2)]),t("div",null,[n(" Account Status "),gi,t("div",{class:N(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1",G(o.status)])},[t("span",{class:N(["h-1.5 w-1.5 rounded-full mr-1.5",J(o.status)])},null,2),t("strong",null,s(o.status||"N/A"),1)],2)])])],8,hi)]}),_:1},8,["items","expanded"])])):(l(),a("div",fi," No delinquent accounts available. "))]),t("div",bi,[vi,I.value&&I.value.length>0?(l(),a("div",xi,[A(Z,{headers:Yt,items:I.value,"item-value":"uid",expanded:et.value,"show-expand":"","fixed-header":"",height:"300","hide-default-footer":"",class:"elevation-1"},{"item.status":h(({item:o})=>[A(lt,{color:o.status==="Closed"?"green":"red",variant:"tonal",size:"small",class:"text-white"},{default:h(()=>[n(s(o.status),1)]),_:2},1032,["color"])]),"item.action":h(({item:o})=>[A(B,{size:"small",color:"primary",onClick:v=>_t(o.uid)},{default:h(()=>[n(s(ht(o.uid)?"Hide":"View"),1)]),_:2},1032,["onClick"])]),"expanded-row":h(({item:o})=>{var v,H,E,W;return[t("td",{colspan:Yt.length,class:"px-4 py-2 bg-gray-90 mb-4"},[t("div",Di,[t("p",null,[n(" Account number: "),t("strong",null,s(y(o.accountNo)),1)]),t("p",null,[n(" Loan Amount: "),t("strong",null,"â‚¦"+s(((v=o.amount)==null?void 0:v.toLocaleString())||"0"),1)]),t("p",null,[n(" Current Balance: "),t("strong",null,"â‚¦"+s(((H=o.balance)==null?void 0:H.toLocaleString())||"0"),1)]),t("p",null,[n(" Amount Overdue: "),t("strong",null,"â‚¦"+s(((E=o.overdue)==null?void 0:E.toLocaleString())||"0"),1)]),t("p",null,[n(" Instalment Amount: "),t("strong",null,"â‚¦"+s(((W=o.instalment)==null?void 0:W.toLocaleString())||"0"),1)]),t("p",null,[n(" Loan Duration: "),t("strong",null,s(y(o.duration))+" months",1)]),t("p",null,[n(" Repayment Frequency: "),t("strong",null,s(y(o.repaymentFrequency)),1)]),t("p",null,[n(" Date Account Opened: "),t("strong",null,s(y(o.date)),1)]),t("p",null,[n(" Closed Date: "),t("strong",null,s(y(o.closedDate)),1)]),t("div",null,[n(" Performance Status "),Ni,t("div",{class:N(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1",G(o.performanceStatus)])},[t("span",{class:N(["h-1.5 w-1.5 rounded-full mr-1.5",J(o.performanceStatus)])},null,2),t("strong",null,s(o.performanceStatus||"N/A"),1)],2)]),t("div",null,[n(" Account Status "),$i,t("div",{class:N(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1",G(o.status)])},[t("span",{class:N(["h-1.5 w-1.5 rounded-full mr-1.5",J(o.status)])},null,2),t("strong",null,s(o.status||"N/A"),1)],2)])])],8,Ai)]}),_:1},8,["items","expanded"])])):(l(),a("div",wi,"No Closed accounts available."))]),t("div",ki,[Ci,f.value&&f.value.length>0?(l(),a("div",Si,[A(Z,{headers:qt,items:f.value,"item-value":"uid",expanded:et.value,"show-expand":"","fixed-header":"",height:"300","hide-default-footer":"",class:"elevation-1"},{"item.status":h(({item:o})=>[A(lt,{color:o.status==="Closed"?"green":"red",variant:"tonal",size:"small",class:"text-white"},{default:h(()=>[n(s(o.status),1)]),_:2},1032,["color"])]),"item.action":h(({item:o})=>[A(B,{size:"small",color:"primary",onClick:v=>_t(o.uid)},{default:h(()=>[n(s(ht(o.uid)?"Hide":"View"),1)]),_:2},1032,["onClick"])]),"expanded-row":h(({item:o})=>{var v,H,E,W;return[t("td",{colspan:qt.length,class:"px-4 py-2 bg-gray-90 mb-4"},[t("div",qi,[t("p",null,[n(" Account number: "),t("strong",null,s(y(o.accountNo)),1)]),t("p",null,[n(" Loan Amount: "),t("strong",null,"â‚¦"+s(((v=o.amount)==null?void 0:v.toLocaleString())||"0"),1)]),t("p",null,[n(" Current Balance: "),t("strong",null,"â‚¦"+s(((H=o.balance)==null?void 0:H.toLocaleString())||"0"),1)]),t("p",null,[n(" Amount Overdue: "),t("strong",null,"â‚¦"+s(((E=o.overdue)==null?void 0:E.toLocaleString())||"0"),1)]),t("p",null,[n(" Instalment Amount: "),t("strong",null,"â‚¦"+s(((W=o.instalment)==null?void 0:W.toLocaleString())||"0"),1)]),t("p",null,[n(" Loan Duration: "),t("strong",null,s(y(o.duration))+" months",1)]),t("p",null,[n(" Repayment Frequency: "),t("strong",null,s(y(o.repaymentFrequency)),1)]),t("p",null,[n(" Date Account Opened: "),t("strong",null,s(y(o.date)),1)]),t("p",null,[n(" Closed Date: "),t("strong",null,s(y(o.closedDate)),1)]),t("div",null,[n(" Performance Status "),Ti,t("div",{class:N(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1",G(o.performanceStatus)])},[t("span",{class:N(["h-1.5 w-1.5 rounded-full mr-1.5",J(o.performanceStatus)])},null,2),t("strong",null,s(o.performanceStatus||"N/A"),1)],2)]),t("div",null,[n(" Account Status "),Li,t("div",{class:N(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1",G(o.status)])},[t("span",{class:N(["h-1.5 w-1.5 rounded-full mr-1.5",J(o.status)])},null,2),t("strong",null,s(o.status||"N/A"),1)],2)])])],8,Yi)]}),_:1},8,["items","expanded"])])):(l(),a("div",Oi," No written-off accounts available. "))]),t("div",Bi,[Fi,V.value&&V.value.length>0?(l(),a("div",Mi,[A(Z,{headers:Tt,items:V.value,"item-value":"uid",expanded:et.value,"show-expand":"","fixed-header":"",height:"300","hide-default-footer":"",class:"elevation-1"},{"item.status":h(({item:o})=>[A(lt,{color:o.status==="Closed"?"green":"red",variant:"tonal",size:"small",class:"text-white"},{default:h(()=>[n(s(o.status),1)]),_:2},1032,["color"])]),"item.action":h(({item:o})=>[A(B,{size:"small",color:"primary",onClick:v=>_t(o.uid)},{default:h(()=>[n(s(ht(o.uid)?"Hide":"View"),1)]),_:2},1032,["onClick"])]),"expanded-row":h(({item:o})=>{var v,H,E,W;return[t("td",{colspan:Tt.length,class:"px-4 py-2 bg-gray-90 mb-4"},[t("div",Ri,[t("p",null,[n(" Account number: "),t("strong",null,s(y(o.accountNo)),1)]),t("p",null,[n(" Loan Amount: "),t("strong",null,"â‚¦"+s(((v=o.amount)==null?void 0:v.toLocaleString())||"0"),1)]),t("p",null,[n(" Current Balance: "),t("strong",null,"â‚¦"+s(((H=o.balance)==null?void 0:H.toLocaleString())||"0"),1)]),t("p",null,[n(" Amount Overdue: "),t("strong",null,"â‚¦"+s(((E=o.overdue)==null?void 0:E.toLocaleString())||"0"),1)]),t("p",null,[n(" Instalment Amount: "),t("strong",null,"â‚¦"+s(((W=o.instalment)==null?void 0:W.toLocaleString())||"0"),1)]),t("p",null,[n(" Loan Duration: "),t("strong",null,s(y(o.duration))+" months",1)]),t("p",null,[n(" Repayment Frequency: "),t("strong",null,s(y(o.repaymentFrequency)),1)]),t("p",null,[n(" Date Account Opened: "),t("strong",null,s(y(o.date)),1)]),t("p",null,[n(" Closed Date: "),t("strong",null,s(y(o.closedDate)),1)]),t("div",null,[n(" Performance Status "),Pi,t("div",{class:N(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1",G(o.performanceStatus)])},[t("span",{class:N(["h-1.5 w-1.5 rounded-full mr-1.5",J(o.performanceStatus)])},null,2),t("strong",null,s(o.performanceStatus||"N/A"),1)],2)]),t("div",null,[n(" Account Status "),Hi,t("div",{class:N(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1",G(o.status)])},[t("span",{class:N(["h-1.5 w-1.5 rounded-full mr-1.5",J(o.status)])},null,2),t("strong",null,s(o.status||"N/A"),1)],2)])])],8,Ii)]}),_:1},8,["items","expanded"])])):(l(),a("div",Ei,"No unknown accounts available."))]),t("div",Wi,[Ui,st.value&&st.value.length>0?(l(),a("div",zi,[t("table",Vi,[ji,t("tbody",null,[(l(!0),a(F,null,U(st.value,(o,v)=>(l(),a("tr",{key:v,class:"text-sm hover:bg-gray-50 transition-colors"},[t("td",Gi,s(o.subscriber),1),t("td",Ji,s(o.date),1),t("td",Ki,s(o.phone),1),t("td",Qi,s(o.reason),1)]))),128))])])])):(l(),a("div",Xi,"No inquiries available."))])],64)):j("",!0)]))]}),_:1})]),t("div",Zi,[A(ol,{"id-type":q.value,"business-data":ot.value,directors:ft.value,ref_key:"reportRef",ref:Lt,personal:T.value,summary:k.value,"credit-agreement-summary":L.value,"enquiry-history":tt.value,"employment-history":S.value,"address-history":O.value,"loan-accounts":M.value,"delinquent-accounts":z.value,"closed-accounts":I.value,"derogatory-accounts":r.value,"written-off-accounts":f.value,"unknown-accounts":V.value,"inquiry-history":st.value,"credit-personal":R.value,"credit-registry-business-name":kt.value,"credit-directors":dt.value,"credit-registry-total-open":ct.value,"credit-registry-total-closed":ut.value,"credit-registry-total-written-off":mt.value},null,8,["id-type","business-data","directors","personal","summary","credit-agreement-summary","enquiry-history","employment-history","address-history","loan-accounts","delinquent-accounts","closed-accounts","derogatory-accounts","written-off-accounts","unknown-accounts","inquiry-history","credit-personal","credit-registry-business-name","credit-directors","credit-registry-total-open","credit-registry-total-closed","credit-registry-total-written-off"])])]),_:1})}}},sd=Gt(td,[["__scopeId","data-v-8bdb53b2"]]);export{sd as default};
